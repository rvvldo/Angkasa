(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var Mp={exports:{}},xu={};var db;function XR(){if(db)return xu;db=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:l}}return xu.Fragment=e,xu.jsx=n,xu.jsxs=n,xu}var mb;function WR(){return mb||(mb=1,Mp.exports=XR()),Mp.exports}var v=WR(),Dp={exports:{}},Ce={};var pb;function JR(){if(pb)return Ce;pb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),T=Symbol.iterator;function w(F){return F===null||typeof F!="object"?null:(F=T&&F[T]||F["@@iterator"],typeof F=="function"?F:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,D={};function O(F,ie,he){this.props=F,this.context=ie,this.refs=D,this.updater=he||C}O.prototype.isReactComponent={},O.prototype.setState=function(F,ie){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,ie,"setState")},O.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function B(){}B.prototype=O.prototype;function z(F,ie,he){this.props=F,this.context=ie,this.refs=D,this.updater=he||C}var J=z.prototype=new B;J.constructor=z,P(J,O.prototype),J.isPureReactComponent=!0;var Z=Array.isArray;function te(){}var I={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function V(F,ie,he){var me=he.ref;return{$$typeof:t,type:F,key:ie,ref:me!==void 0?me:null,props:he}}function R(F,ie){return V(F.type,ie,F.props)}function M(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function L(F){var ie={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(he){return ie[he]})}var k=/\/+/g;function le(F,ie){return typeof F=="object"&&F!==null&&F.key!=null?L(""+F.key):ie.toString(36)}function Ee(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(te,te):(F.status="pending",F.then(function(ie){F.status==="pending"&&(F.status="fulfilled",F.value=ie)},function(ie){F.status==="pending"&&(F.status="rejected",F.reason=ie)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function Y(F,ie,he,me,Se){var De=typeof F;(De==="undefined"||De==="boolean")&&(F=null);var qe=!1;if(F===null)qe=!0;else switch(De){case"bigint":case"string":case"number":qe=!0;break;case"object":switch(F.$$typeof){case t:case e:qe=!0;break;case y:return qe=F._init,Y(qe(F._payload),ie,he,me,Se)}}if(qe)return Se=Se(F),qe=me===""?"."+le(F,0):me,Z(Se)?(he="",qe!=null&&(he=qe.replace(k,"$&/")+"/"),Y(Se,ie,he,"",function(Br){return Br})):Se!=null&&(M(Se)&&(Se=R(Se,he+(Se.key==null||F&&F.key===Se.key?"":(""+Se.key).replace(k,"$&/")+"/")+qe)),ie.push(Se)),1;qe=0;var Lt=me===""?".":me+":";if(Z(F))for(var lt=0;lt<F.length;lt++)me=F[lt],De=Lt+le(me,lt),qe+=Y(me,ie,he,De,Se);else if(lt=w(F),typeof lt=="function")for(F=lt.call(F),lt=0;!(me=F.next()).done;)me=me.value,De=Lt+le(me,lt++),qe+=Y(me,ie,he,De,Se);else if(De==="object"){if(typeof F.then=="function")return Y(Ee(F),ie,he,me,Se);throw ie=String(F),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return qe}function re(F,ie,he){if(F==null)return F;var me=[],Se=0;return Y(F,me,"","",function(De){return ie.call(he,De,Se++)}),me}function ce(F){if(F._status===-1){var ie=F._result;ie=ie(),ie.then(function(he){(F._status===0||F._status===-1)&&(F._status=1,F._result=he)},function(he){(F._status===0||F._status===-1)&&(F._status=2,F._result=he)}),F._status===-1&&(F._status=0,F._result=ie)}if(F._status===1)return F._result.default;throw F._result}var be=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},Ne={map:re,forEach:function(F,ie,he){re(F,function(){ie.apply(this,arguments)},he)},count:function(F){var ie=0;return re(F,function(){ie++}),ie},toArray:function(F){return re(F,function(ie){return ie})||[]},only:function(F){if(!M(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return Ce.Activity=_,Ce.Children=Ne,Ce.Component=O,Ce.Fragment=n,Ce.Profiler=a,Ce.PureComponent=z,Ce.StrictMode=s,Ce.Suspense=f,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(F){return I.H.useMemoCache(F)}},Ce.cache=function(F){return function(){return F.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(F,ie,he){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var me=P({},F.props),Se=F.key;if(ie!=null)for(De in ie.key!==void 0&&(Se=""+ie.key),ie)!A.call(ie,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&ie.ref===void 0||(me[De]=ie[De]);var De=arguments.length-2;if(De===1)me.children=he;else if(1<De){for(var qe=Array(De),Lt=0;Lt<De;Lt++)qe[Lt]=arguments[Lt+2];me.children=qe}return V(F.type,Se,me)},Ce.createContext=function(F){return F={$$typeof:u,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:l,_context:F},F},Ce.createElement=function(F,ie,he){var me,Se={},De=null;if(ie!=null)for(me in ie.key!==void 0&&(De=""+ie.key),ie)A.call(ie,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Se[me]=ie[me]);var qe=arguments.length-2;if(qe===1)Se.children=he;else if(1<qe){for(var Lt=Array(qe),lt=0;lt<qe;lt++)Lt[lt]=arguments[lt+2];Se.children=Lt}if(F&&F.defaultProps)for(me in qe=F.defaultProps,qe)Se[me]===void 0&&(Se[me]=qe[me]);return V(F,De,Se)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(F){return{$$typeof:h,render:F}},Ce.isValidElement=M,Ce.lazy=function(F){return{$$typeof:y,_payload:{_status:-1,_result:F},_init:ce}},Ce.memo=function(F,ie){return{$$typeof:p,type:F,compare:ie===void 0?null:ie}},Ce.startTransition=function(F){var ie=I.T,he={};I.T=he;try{var me=F(),Se=I.S;Se!==null&&Se(he,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(te,be)}catch(De){be(De)}finally{ie!==null&&he.types!==null&&(ie.types=he.types),I.T=ie}},Ce.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ce.use=function(F){return I.H.use(F)},Ce.useActionState=function(F,ie,he){return I.H.useActionState(F,ie,he)},Ce.useCallback=function(F,ie){return I.H.useCallback(F,ie)},Ce.useContext=function(F){return I.H.useContext(F)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(F,ie){return I.H.useDeferredValue(F,ie)},Ce.useEffect=function(F,ie){return I.H.useEffect(F,ie)},Ce.useEffectEvent=function(F){return I.H.useEffectEvent(F)},Ce.useId=function(){return I.H.useId()},Ce.useImperativeHandle=function(F,ie,he){return I.H.useImperativeHandle(F,ie,he)},Ce.useInsertionEffect=function(F,ie){return I.H.useInsertionEffect(F,ie)},Ce.useLayoutEffect=function(F,ie){return I.H.useLayoutEffect(F,ie)},Ce.useMemo=function(F,ie){return I.H.useMemo(F,ie)},Ce.useOptimistic=function(F,ie){return I.H.useOptimistic(F,ie)},Ce.useReducer=function(F,ie,he){return I.H.useReducer(F,ie,he)},Ce.useRef=function(F){return I.H.useRef(F)},Ce.useState=function(F){return I.H.useState(F)},Ce.useSyncExternalStore=function(F,ie,he){return I.H.useSyncExternalStore(F,ie,he)},Ce.useTransition=function(){return I.H.useTransition()},Ce.version="19.2.0",Ce}var gb;function p0(){return gb||(gb=1,Dp.exports=JR()),Dp.exports}var j=p0(),kp={exports:{}},Tu={},Vp={exports:{}},Pp={};var yb;function ZR(){return yb||(yb=1,(function(t){function e(Y,re){var ce=Y.length;Y.push(re);e:for(;0<ce;){var be=ce-1>>>1,Ne=Y[be];if(0<a(Ne,re))Y[be]=re,Y[ce]=Ne,ce=be;else break e}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var re=Y[0],ce=Y.pop();if(ce!==re){Y[0]=ce;e:for(var be=0,Ne=Y.length,F=Ne>>>1;be<F;){var ie=2*(be+1)-1,he=Y[ie],me=ie+1,Se=Y[me];if(0>a(he,ce))me<Ne&&0>a(Se,he)?(Y[be]=Se,Y[me]=ce,be=me):(Y[be]=he,Y[ie]=ce,be=ie);else if(me<Ne&&0>a(Se,ce))Y[be]=Se,Y[me]=ce,be=me;else break e}}return re}function a(Y,re){var ce=Y.sortIndex-re.sortIndex;return ce!==0?ce:Y.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var f=[],p=[],y=1,_=null,T=3,w=!1,C=!1,P=!1,D=!1,O=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function J(Y){for(var re=n(p);re!==null;){if(re.callback===null)s(p);else if(re.startTime<=Y)s(p),re.sortIndex=re.expirationTime,e(f,re);else break;re=n(p)}}function Z(Y){if(P=!1,J(Y),!C)if(n(f)!==null)C=!0,te||(te=!0,L());else{var re=n(p);re!==null&&Ee(Z,re.startTime-Y)}}var te=!1,I=-1,A=5,V=-1;function R(){return D?!0:!(t.unstable_now()-V<A)}function M(){if(D=!1,te){var Y=t.unstable_now();V=Y;var re=!0;try{e:{C=!1,P&&(P=!1,B(I),I=-1),w=!0;var ce=T;try{t:{for(J(Y),_=n(f);_!==null&&!(_.expirationTime>Y&&R());){var be=_.callback;if(typeof be=="function"){_.callback=null,T=_.priorityLevel;var Ne=be(_.expirationTime<=Y);if(Y=t.unstable_now(),typeof Ne=="function"){_.callback=Ne,J(Y),re=!0;break t}_===n(f)&&s(f),J(Y)}else s(f);_=n(f)}if(_!==null)re=!0;else{var F=n(p);F!==null&&Ee(Z,F.startTime-Y),re=!1}}break e}finally{_=null,T=ce,w=!1}re=void 0}}finally{re?L():te=!1}}}var L;if(typeof z=="function")L=function(){z(M)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,le=k.port2;k.port1.onmessage=M,L=function(){le.postMessage(null)}}else L=function(){O(M,0)};function Ee(Y,re){I=O(function(){Y(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(Y){switch(T){case 1:case 2:case 3:var re=3;break;default:re=T}var ce=T;T=re;try{return Y()}finally{T=ce}},t.unstable_requestPaint=function(){D=!0},t.unstable_runWithPriority=function(Y,re){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ce=T;T=Y;try{return re()}finally{T=ce}},t.unstable_scheduleCallback=function(Y,re,ce){var be=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?be+ce:be):ce=be,Y){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=ce+Ne,Y={id:y++,callback:re,priorityLevel:Y,startTime:ce,expirationTime:Ne,sortIndex:-1},ce>be?(Y.sortIndex=ce,e(p,Y),n(f)===null&&Y===n(p)&&(P?(B(I),I=-1):P=!0,Ee(Z,ce-be))):(Y.sortIndex=Ne,e(f,Y),C||w||(C=!0,te||(te=!0,L()))),Y},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(Y){var re=T;return function(){var ce=T;T=re;try{return Y.apply(this,arguments)}finally{T=ce}}}})(Pp)),Pp}var vb;function eN(){return vb||(vb=1,Vp.exports=ZR()),Vp.exports}var Op={exports:{}},rn={};var _b;function tN(){if(_b)return rn;_b=1;var t=p0();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(f,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:f,containerInfo:p,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,rn.createPortal=function(f,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(f,p,null,y)},rn.flushSync=function(f){var p=u.T,y=s.p;try{if(u.T=null,s.p=2,f)return f()}finally{u.T=p,s.p=y,s.d.f()}},rn.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(f,p))},rn.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},rn.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var y=p.as,_=h(y,p.crossOrigin),T=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:T,fetchPriority:w}):y==="script"&&s.d.X(f,{crossOrigin:_,integrity:T,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},rn.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);s.d.M(f,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(f)},rn.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=h(y,p.crossOrigin);s.d.L(f,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},rn.preloadModule=function(f,p){if(typeof f=="string")if(p){var y=h(p.as,p.crossOrigin);s.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(f)},rn.requestFormReset=function(f){s.d.r(f)},rn.unstable_batchedUpdates=function(f,p){return f(p)},rn.useFormState=function(f,p,y){return u.H.useFormState(f,p,y)},rn.useFormStatus=function(){return u.H.useHostTransitionStatus()},rn.version="19.2.0",rn}var bb;function nN(){if(bb)return Op.exports;bb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Op.exports=tN(),Op.exports}var xb;function iN(){if(xb)return Tu;xb=1;var t=eN(),e=p0(),n=nN();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function h(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(l(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,c=r;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return f(m),i;if(g===c)return f(m),r;g=g.sibling}throw Error(s(188))}if(o.return!==c.return)o=m,c=g;else{for(var x=!1,S=m.child;S;){if(S===o){x=!0,o=m,c=g;break}if(S===c){x=!0,c=m,o=g;break}S=S.sibling}if(!x){for(S=g.child;S;){if(S===o){x=!0,o=g,c=m;break}if(S===c){x=!0,c=g,o=m;break}S=S.sibling}if(!x)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),z=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),R=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function L(i){return i===null||typeof i!="object"?null:(i=M&&i[M]||i["@@iterator"],typeof i=="function"?i:null)}var k=Symbol.for("react.client.reference");function le(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===k?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case P:return"Fragment";case O:return"Profiler";case D:return"StrictMode";case Z:return"Suspense";case te:return"SuspenseList";case V:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case C:return"Portal";case z:return i.displayName||"Context";case B:return(i._context.displayName||"Context")+".Consumer";case J:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case I:return r=i.displayName||null,r!==null?r:le(i.type)||"Memo";case A:r=i._payload,i=i._init;try{return le(i(r))}catch{}}return null}var Ee=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},be=[],Ne=-1;function F(i){return{current:i}}function ie(i){0>Ne||(i.current=be[Ne],be[Ne]=null,Ne--)}function he(i,r){Ne++,be[Ne]=i.current,i.current=r}var me=F(null),Se=F(null),De=F(null),qe=F(null);function Lt(i,r){switch(he(De,r),he(Se,i),he(me,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?O_(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=O_(r),i=j_(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ie(me),he(me,i)}function lt(){ie(me),ie(Se),ie(De)}function Br(i){i.memoizedState!==null&&he(qe,i);var r=me.current,o=j_(r,i.type);r!==o&&(he(Se,i),he(me,o))}function La(i){Se.current===i&&(ie(me),ie(Se)),qe.current===i&&(ie(qe),yu._currentValue=ce)}var Ua,za;function wi(i){if(Ua===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Ua=r&&r[1]||"",za=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ua+i+za}var yl=!1;function Fr(i,r){if(!i||yl)return"";yl=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(W){var Q=W}Reflect.construct(i,[],se)}else{try{se.call()}catch(W){Q=W}i.call(se.prototype)}}else{try{throw Error()}catch(W){Q=W}(se=i())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(W){if(W&&Q&&typeof W.stack=="string")return[W.stack,Q.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),x=g[0],S=g[1];if(x&&S){var U=x.split(`
`),$=S.split(`
`);for(m=c=0;c<U.length&&!U[c].includes("DetermineComponentFrameRoot");)c++;for(;m<$.length&&!$[m].includes("DetermineComponentFrameRoot");)m++;if(c===U.length||m===$.length)for(c=U.length-1,m=$.length-1;1<=c&&0<=m&&U[c]!==$[m];)m--;for(;1<=c&&0<=m;c--,m--)if(U[c]!==$[m]){if(c!==1||m!==1)do if(c--,m--,0>m||U[c]!==$[m]){var ee=`
`+U[c].replace(" at new "," at ");return i.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",i.displayName)),ee}while(1<=c&&0<=m);break}}}finally{yl=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?wi(o):""}function vl(i,r){switch(i.tag){case 26:case 27:case 5:return wi(i.type);case 16:return wi("Lazy");case 13:return i.child!==r&&r!==null?wi("Suspense Fallback"):wi("Suspense");case 19:return wi("SuspenseList");case 0:case 15:return Fr(i.type,!1);case 11:return Fr(i.type.render,!1);case 1:return Fr(i.type,!0);case 31:return wi("Activity");default:return""}}function _l(i){try{var r="",o=null;do r+=vl(i,o),o=i,i=i.return;while(i);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var wt=Object.prototype.hasOwnProperty,Ut=t.unstable_scheduleCallback,Ls=t.unstable_cancelCallback,kd=t.unstable_shouldYield,Nc=t.unstable_requestPaint,fn=t.unstable_now,qr=t.unstable_getCurrentPriorityLevel,bl=t.unstable_ImmediatePriority,xl=t.unstable_UserBlockingPriority,Us=t.unstable_NormalPriority,Vd=t.unstable_LowPriority,Ic=t.unstable_IdlePriority,Mc=t.log,Dc=t.unstable_setDisableYieldValue,si=null,$t=null;function On(i){if(typeof Mc=="function"&&Dc(i),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(si,i)}catch{}}var vt=Math.clz32?Math.clz32:Vc,kc=Math.log,Ba=Math.LN2;function Vc(i){return i>>>=0,i===0?32:31-(kc(i)/Ba|0)|0}var Si=256,Hr=262144,St=4194304;function Ai(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ci(i,r,o){var c=i.pendingLanes;if(c===0)return 0;var m=0,g=i.suspendedLanes,x=i.pingedLanes;i=i.warmLanes;var S=c&134217727;return S!==0?(c=S&~g,c!==0?m=Ai(c):(x&=S,x!==0?m=Ai(x):o||(o=S&~i,o!==0&&(m=Ai(o))))):(S=c&~g,S!==0?m=Ai(S):x!==0?m=Ai(x):o||(o=c&~i,o!==0&&(m=Ai(o)))),m===0?0:r!==0&&r!==m&&(r&g)===0&&(g=m&-m,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:m}function ri(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Pd(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pc(){var i=St;return St<<=1,(St&62914560)===0&&(St=4194304),i}function Ri(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Gr(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Od(i,r,o,c,m,g){var x=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var S=i.entanglements,U=i.expirationTimes,$=i.hiddenUpdates;for(o=x&~o;0<o;){var ee=31-vt(o),se=1<<ee;S[ee]=0,U[ee]=-1;var Q=$[ee];if(Q!==null)for($[ee]=null,ee=0;ee<Q.length;ee++){var W=Q[ee];W!==null&&(W.lane&=-536870913)}o&=~se}c!==0&&Kr(i,c,0),g!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=g&~(x&~r))}function Kr(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var c=31-vt(r);i.entangledLanes|=r,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function Tl(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var c=31-vt(o),m=1<<c;m&r|i[c]&r&&(i[c]|=r),o&=~m}}function El(i,r){var o=r&-r;return o=(o&42)!==0?1:$r(o),(o&(i.suspendedLanes|r))!==0?0:o}function $r(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function is(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Oc(){var i=re.p;return i!==0?i:(i=window.event,i===void 0?32:ab(i.type))}function ai(i,r){var o=re.p;try{return re.p=i,r()}finally{re.p=o}}var oi=Math.random().toString(36).slice(2),At="__reactFiber$"+oi,qt="__reactProps$"+oi,Ni="__reactContainer$"+oi,Fa="__reactEvents$"+oi,jd="__reactListeners$"+oi,jc="__reactHandles$"+oi,Lc="__reactResources$"+oi,Ii="__reactMarker$"+oi;function qa(i){delete i[At],delete i[qt],delete i[Fa],delete i[jd],delete i[jc]}function Mi(i){var r=i[At];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Ni]||o[At]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=H_(i);i!==null;){if(o=i[At])return o;i=H_(i)}return r}i=o,o=i.parentNode}return null}function jn(i){if(i=i[At]||i[Ni]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Sn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Di(i){var r=i[Lc];return r||(r=i[Lc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ct(i){i[Ii]=!0}var wl=new Set,Sl={};function ki(i,r){Vi(i,r),Vi(i+"Capture",r)}function Vi(i,r){for(Sl[i]=r,i=0;i<r.length;i++)wl.add(r[i])}var Al=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cl={},Rl={};function Uc(i){return wt.call(Rl,i)?!0:wt.call(Cl,i)?!1:Al.test(i)?Rl[i]=!0:(Cl[i]=!0,!1)}function Ha(i,r,o){if(Uc(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function An(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Rt(i,r,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+c)}}function Ht(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function zs(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Nl(i,r,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,g=c.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return m.call(this)},set:function(x){o=""+x,g.call(this,x)}}),Object.defineProperty(i,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(x){o=""+x},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Xe(i){if(!i._valueTracker){var r=zs(i)?"checked":"value";i._valueTracker=Nl(i,r,""+i[r])}}function Yr(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return i&&(c=zs(i)?i.checked?"true":"false":i.value),i=c,i!==o?(r.setValue(i),!0):!1}function Pi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Qr=/[\n"\\]/g;function gn(i){return i.replace(Qr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ga(i,r,o,c,m,g,x,S){i.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?i.type=x:i.removeAttribute("type"),r!=null?x==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Ht(r)):i.value!==""+Ht(r)&&(i.value=""+Ht(r)):x!=="submit"&&x!=="reset"||i.removeAttribute("value"),r!=null?Il(i,x,Ht(r)):o!=null?Il(i,x,Ht(o)):c!=null&&i.removeAttribute("value"),m==null&&g!=null&&(i.defaultChecked=!!g),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+Ht(S):i.removeAttribute("name")}function zc(i,r,o,c,m,g,x,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){Xe(i);return}o=o!=null?""+Ht(o):"",r=r!=null?""+Ht(r):o,S||r===i.value||(i.value=r),i.defaultValue=r}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=S?i.checked:!!c,i.defaultChecked=!!c,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.name=x),Xe(i)}function Il(i,r,o){r==="number"&&Pi(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Bs(i,r,o,c){if(i=i.options,r){r={};for(var m=0;m<o.length;m++)r["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=r.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&c&&(i[o].defaultSelected=!0)}else{for(o=""+Ht(o),r=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,c&&(i[m].defaultSelected=!0);return}r!==null||i[m].disabled||(r=i[m])}r!==null&&(r.selected=!0)}}function Bc(i,r,o){if(r!=null&&(r=""+Ht(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+Ht(o):""}function Fs(i,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(s(92));if(Ee(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=Ht(r),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),Xe(i)}function yn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Fc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ml(i,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":c?i.setProperty(r,o):typeof o!="number"||o===0||Fc.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Dl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var m in r)c=r[m],r.hasOwnProperty(m)&&o[m]!==c&&Ml(i,m,c)}else for(var g in r)r.hasOwnProperty(g)&&Ml(i,g,r[g])}function Ka(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $a(i){return qs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function li(){}var kl=null;function Ln(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Hs=null,Oi=null;function Xr(i){var r=jn(i);if(r&&(i=r.stateNode)){var o=i[qt]||null;e:switch(i=r.stateNode,r.type){case"input":if(Ga(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+gn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==i&&c.form===i.form){var m=c[qt]||null;if(!m)throw Error(s(90));Ga(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===i.form&&Yr(c)}break e;case"textarea":Bc(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Bs(i,!!o.multiple,r,!1)}}}var Ya=!1;function Gs(i,r,o){if(Ya)return i(r,o);Ya=!0;try{var c=i(r);return c}finally{if(Ya=!1,(Hs!==null||Oi!==null)&&(Oh(),Hs&&(r=Hs,i=Oi,Oi=Hs=null,Xr(r),i)))for(r=0;r<i.length;r++)Xr(i[r])}}function ui(i,r){var o=i.stateNode;if(o===null)return null;var c=o[qt]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wr=!1;if(Un)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){Wr=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{Wr=!1}var ji=null,Vl=null,Jr=null;function Pl(){if(Jr)return Jr;var i,r=Vl,o=r.length,c,m="value"in ji?ji.value:ji.textContent,g=m.length;for(i=0;i<o&&r[i]===m[i];i++);var x=o-i;for(c=1;c<=x&&r[o-c]===m[g-c];c++);return Jr=m.slice(i,1<c?1-c:void 0)}function Zr(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function ss(){return!0}function ci(){return!1}function Yt(i){function r(o,c,m,g,x){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=x,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(o=i[S],this[S]=o?o(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ss:ci,this.isPropagationStopped=ci,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),r}var rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Li=Yt(rs),Ks=_({},rs,{view:0,detail:0}),Ol=Yt(Ks),$s,Qa,Ui,Xa=_({},Ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ys,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ui&&(Ui&&i.type==="mousemove"?($s=i.screenX-Ui.screenX,Qa=i.screenY-Ui.screenY):Qa=$s=0,Ui=i),$s)},movementY:function(i){return"movementY"in i?i.movementY:Qa}}),jl=Yt(Xa),ea=_({},Xa,{dataTransfer:0}),Hc=Yt(ea),Gc=_({},Ks,{relatedTarget:0}),ta=Yt(Gc),Ll=_({},rs,{animationName:0,elapsedTime:0,pseudoElement:0}),Kc=Yt(Ll),Wa=_({},rs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),$c=Yt(Wa),Yc=_({},rs,{data:0}),zi=Yt(Yc),Qc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jc(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Wc[i])?!!r[i]:!1}function Ys(){return Jc}var dn=_({},Ks,{key:function(i){if(i.key){var r=Qc[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Zr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Xc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ys,charCode:function(i){return i.type==="keypress"?Zr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Zr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Zc=Yt(dn),eh=_({},Xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),as=Yt(eh),d=_({},Ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ys}),b=Yt(d),E=_({},rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=Yt(E),G=_({},Xa,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),X=Yt(G),ue=_({},rs,{newState:0,oldState:0}),Ie=Yt(ue),_t=[9,13,27,32],$e=Un&&"CompositionEvent"in window,ut=null;Un&&"documentMode"in document&&(ut=document.documentMode);var zn=Un&&"TextEvent"in window&&!ut,Bi=Un&&(!$e||ut&&8<ut&&11>=ut),hi=" ",fi=!1;function na(i,r){switch(i){case"keyup":return _t.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ja(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Za=!1;function bC(i,r){switch(i){case"compositionend":return Ja(r);case"keypress":return r.which!==32?null:(fi=!0,hi);case"textInput":return i=r.data,i===hi&&fi?null:i;default:return null}}function xC(i,r){if(Za)return i==="compositionend"||!$e&&na(i,r)?(i=Pl(),Jr=Vl=ji=null,Za=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Bi&&r.locale!=="ko"?null:r.data;default:return null}}var TC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $y(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!TC[i.type]:r==="textarea"}function Yy(i,r,o,c){Hs?Oi?Oi.push(c):Oi=[c]:Hs=c,r=qh(r,"onChange"),0<r.length&&(o=new Li("onChange","change",null,o,c),i.push({event:o,listeners:r}))}var Ul=null,zl=null;function EC(i){I_(i,0)}function th(i){var r=Sn(i);if(Yr(r))return i}function Qy(i,r){if(i==="change")return r}var Xy=!1;if(Un){var Ld;if(Un){var Ud="oninput"in document;if(!Ud){var Wy=document.createElement("div");Wy.setAttribute("oninput","return;"),Ud=typeof Wy.oninput=="function"}Ld=Ud}else Ld=!1;Xy=Ld&&(!document.documentMode||9<document.documentMode)}function Jy(){Ul&&(Ul.detachEvent("onpropertychange",Zy),zl=Ul=null)}function Zy(i){if(i.propertyName==="value"&&th(zl)){var r=[];Yy(r,zl,i,Ln(i)),Gs(EC,r)}}function wC(i,r,o){i==="focusin"?(Jy(),Ul=r,zl=o,Ul.attachEvent("onpropertychange",Zy)):i==="focusout"&&Jy()}function SC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return th(zl)}function AC(i,r){if(i==="click")return th(r)}function CC(i,r){if(i==="input"||i==="change")return th(r)}function RC(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Cn=typeof Object.is=="function"?Object.is:RC;function Bl(i,r){if(Cn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!wt.call(r,m)||!Cn(i[m],r[m]))return!1}return!0}function ev(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function tv(i,r){var o=ev(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=r&&c>=r)return{node:o,offset:r-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=ev(o)}}function nv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?nv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function iv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Pi(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Pi(i.document)}return r}function zd(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var NC=Un&&"documentMode"in document&&11>=document.documentMode,eo=null,Bd=null,Fl=null,Fd=!1;function sv(i,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Fd||eo==null||eo!==Pi(c)||(c=eo,"selectionStart"in c&&zd(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Fl&&Bl(Fl,c)||(Fl=c,c=qh(Bd,"onSelect"),0<c.length&&(r=new Li("onSelect","select",null,r,o),i.push({event:r,listeners:c}),r.target=eo)))}function ia(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var to={animationend:ia("Animation","AnimationEnd"),animationiteration:ia("Animation","AnimationIteration"),animationstart:ia("Animation","AnimationStart"),transitionrun:ia("Transition","TransitionRun"),transitionstart:ia("Transition","TransitionStart"),transitioncancel:ia("Transition","TransitionCancel"),transitionend:ia("Transition","TransitionEnd")},qd={},rv={};Un&&(rv=document.createElement("div").style,"AnimationEvent"in window||(delete to.animationend.animation,delete to.animationiteration.animation,delete to.animationstart.animation),"TransitionEvent"in window||delete to.transitionend.transition);function sa(i){if(qd[i])return qd[i];if(!to[i])return i;var r=to[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in rv)return qd[i]=r[o];return i}var av=sa("animationend"),ov=sa("animationiteration"),lv=sa("animationstart"),IC=sa("transitionrun"),MC=sa("transitionstart"),DC=sa("transitioncancel"),uv=sa("transitionend"),cv=new Map,Hd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hd.push("scrollEnd");function di(i,r){cv.set(i,r),ki(r,[i])}var nh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Bn=[],no=0,Gd=0;function ih(){for(var i=no,r=Gd=no=0;r<i;){var o=Bn[r];Bn[r++]=null;var c=Bn[r];Bn[r++]=null;var m=Bn[r];Bn[r++]=null;var g=Bn[r];if(Bn[r++]=null,c!==null&&m!==null){var x=c.pending;x===null?m.next=m:(m.next=x.next,x.next=m),c.pending=m}g!==0&&hv(o,m,g)}}function sh(i,r,o,c){Bn[no++]=i,Bn[no++]=r,Bn[no++]=o,Bn[no++]=c,Gd|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Kd(i,r,o,c){return sh(i,r,o,c),rh(i)}function ra(i,r){return sh(i,null,null,r),rh(i)}function hv(i,r,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var m=!1,g=i.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(m=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,m&&r!==null&&(m=31-vt(o),i=g.hiddenUpdates,c=i[m],c===null?i[m]=[r]:c.push(r),r.lane=o|536870912),g):null}function rh(i){if(50<cu)throw cu=0,tp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var io={};function kC(i,r,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(i,r,o,c){return new kC(i,r,o,c)}function $d(i){return i=i.prototype,!(!i||!i.isReactComponent)}function os(i,r){var o=i.alternate;return o===null?(o=Rn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function fv(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function ah(i,r,o,c,m,g){var x=0;if(c=i,typeof i=="function")$d(i)&&(x=1);else if(typeof i=="string")x=LR(i,o,me.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case V:return i=Rn(31,o,r,m),i.elementType=V,i.lanes=g,i;case P:return aa(o.children,m,g,r);case D:x=8,m|=24;break;case O:return i=Rn(12,o,r,m|2),i.elementType=O,i.lanes=g,i;case Z:return i=Rn(13,o,r,m),i.elementType=Z,i.lanes=g,i;case te:return i=Rn(19,o,r,m),i.elementType=te,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case z:x=10;break e;case B:x=9;break e;case J:x=11;break e;case I:x=14;break e;case A:x=16,c=null;break e}x=29,o=Error(s(130,i===null?"null":typeof i,"")),c=null}return r=Rn(x,o,r,m),r.elementType=i,r.type=c,r.lanes=g,r}function aa(i,r,o,c){return i=Rn(7,i,c,r),i.lanes=o,i}function Yd(i,r,o){return i=Rn(6,i,null,r),i.lanes=o,i}function dv(i){var r=Rn(18,null,null,0);return r.stateNode=i,r}function Qd(i,r,o){return r=Rn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var mv=new WeakMap;function Fn(i,r){if(typeof i=="object"&&i!==null){var o=mv.get(i);return o!==void 0?o:(r={value:i,source:r,stack:_l(r)},mv.set(i,r),r)}return{value:i,source:r,stack:_l(r)}}var so=[],ro=0,oh=null,ql=0,qn=[],Hn=0,Qs=null,Fi=1,qi="";function ls(i,r){so[ro++]=ql,so[ro++]=oh,oh=i,ql=r}function pv(i,r,o){qn[Hn++]=Fi,qn[Hn++]=qi,qn[Hn++]=Qs,Qs=i;var c=Fi;i=qi;var m=32-vt(c)-1;c&=~(1<<m),o+=1;var g=32-vt(r)+m;if(30<g){var x=m-m%5;g=(c&(1<<x)-1).toString(32),c>>=x,m-=x,Fi=1<<32-vt(r)+m|o<<m|c,qi=g+i}else Fi=1<<g|o<<m|c,qi=i}function Xd(i){i.return!==null&&(ls(i,1),pv(i,1,0))}function Wd(i){for(;i===oh;)oh=so[--ro],so[ro]=null,ql=so[--ro],so[ro]=null;for(;i===Qs;)Qs=qn[--Hn],qn[Hn]=null,qi=qn[--Hn],qn[Hn]=null,Fi=qn[--Hn],qn[Hn]=null}function gv(i,r){qn[Hn++]=Fi,qn[Hn++]=qi,qn[Hn++]=Qs,Fi=r.id,qi=r.overflow,Qs=i}var Qt=null,rt=null,Fe=!1,Xs=null,Gn=!1,Jd=Error(s(519));function Ws(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Hl(Fn(r,i)),Jd}function yv(i){var r=i.stateNode,o=i.type,c=i.memoizedProps;switch(r[At]=i,r[qt]=c,o){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(o=0;o<fu.length;o++)Oe(fu[o],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Oe("invalid",r),zc(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Oe("invalid",r);break;case"textarea":Oe("invalid",r),Fs(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||V_(r.textContent,o)?(c.popover!=null&&(Oe("beforetoggle",r),Oe("toggle",r)),c.onScroll!=null&&Oe("scroll",r),c.onScrollEnd!=null&&Oe("scrollend",r),c.onClick!=null&&(r.onclick=li),r=!0):r=!1,r||Ws(i,!0)}function vv(i){for(Qt=i.return;Qt;)switch(Qt.tag){case 5:case 31:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:Qt=Qt.return}}function ao(i){if(i!==Qt)return!1;if(!Fe)return vv(i),Fe=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||gp(i.type,i.memoizedProps)),o=!o),o&&rt&&Ws(i),vv(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));rt=q_(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));rt=q_(i)}else r===27?(r=rt,hr(i.type)?(i=xp,xp=null,rt=i):rt=r):rt=Qt?$n(i.stateNode.nextSibling):null;return!0}function oa(){rt=Qt=null,Fe=!1}function Zd(){var i=Xs;return i!==null&&(xn===null?xn=i:xn.push.apply(xn,i),Xs=null),i}function Hl(i){Xs===null?Xs=[i]:Xs.push(i)}var em=F(null),la=null,us=null;function Js(i,r,o){he(em,r._currentValue),r._currentValue=o}function cs(i){i._currentValue=em.current,ie(em)}function tm(i,r,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),i===o)break;i=i.return}}function nm(i,r,o,c){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var g=m.dependencies;if(g!==null){var x=m.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=m;for(var U=0;U<r.length;U++)if(S.context===r[U]){g.lanes|=o,S=g.alternate,S!==null&&(S.lanes|=o),tm(g.return,o,i),c||(x=null);break e}g=S.next}}else if(m.tag===18){if(x=m.return,x===null)throw Error(s(341));x.lanes|=o,g=x.alternate,g!==null&&(g.lanes|=o),tm(x,o,i),x=null}else x=m.child;if(x!==null)x.return=m;else for(x=m;x!==null;){if(x===i){x=null;break}if(m=x.sibling,m!==null){m.return=x.return,x=m;break}x=x.return}m=x}}function oo(i,r,o,c){i=null;for(var m=r,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var x=m.alternate;if(x===null)throw Error(s(387));if(x=x.memoizedProps,x!==null){var S=m.type;Cn(m.pendingProps.value,x.value)||(i!==null?i.push(S):i=[S])}}else if(m===qe.current){if(x=m.alternate,x===null)throw Error(s(387));x.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(yu):i=[yu])}m=m.return}i!==null&&nm(r,i,o,c),r.flags|=262144}function lh(i){for(i=i.firstContext;i!==null;){if(!Cn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ua(i){la=i,us=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Xt(i){return _v(la,i)}function uh(i,r){return la===null&&ua(i),_v(i,r)}function _v(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},us===null){if(i===null)throw Error(s(308));us=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else us=us.next=r;return o}var VC=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},PC=t.unstable_scheduleCallback,OC=t.unstable_NormalPriority,Nt={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function im(){return{controller:new VC,data:new Map,refCount:0}}function Gl(i){i.refCount--,i.refCount===0&&PC(OC,function(){i.controller.abort()})}var Kl=null,sm=0,lo=0,uo=null;function jC(i,r){if(Kl===null){var o=Kl=[];sm=0,lo=op(),uo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return sm++,r.then(bv,bv),r}function bv(){if(--sm===0&&Kl!==null){uo!==null&&(uo.status="fulfilled");var i=Kl;Kl=null,lo=0,uo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function LC(i,r){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){c.status="fulfilled",c.value=r;for(var m=0;m<o.length;m++)(0,o[m])(r)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var xv=Y.S;Y.S=function(i,r){s_=fn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&jC(i,r),xv!==null&&xv(i,r)};var ca=F(null);function rm(){var i=ca.current;return i!==null?i:it.pooledCache}function ch(i,r){r===null?he(ca,ca.current):he(ca,r.pool)}function Tv(){var i=rm();return i===null?null:{parent:Nt._currentValue,pool:i}}var co=Error(s(460)),am=Error(s(474)),hh=Error(s(542)),fh={then:function(){}};function Ev(i){return i=i.status,i==="fulfilled"||i==="rejected"}function wv(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(li,li),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Av(i),i;default:if(typeof r.status=="string")r.then(li,li);else{if(i=it,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(c){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=c}},function(c){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Av(i),i}throw fa=r,co}}function ha(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(fa=o,co):o}}var fa=null;function Sv(){if(fa===null)throw Error(s(459));var i=fa;return fa=null,i}function Av(i){if(i===co||i===hh)throw Error(s(483))}var ho=null,$l=0;function dh(i){var r=$l;return $l+=1,ho===null&&(ho=[]),wv(ho,i,r)}function Yl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function mh(i,r){throw r.$$typeof===T?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Cv(i){function r(H,q){if(i){var K=H.deletions;K===null?(H.deletions=[q],H.flags|=16):K.push(q)}}function o(H,q){if(!i)return null;for(;q!==null;)r(H,q),q=q.sibling;return null}function c(H){for(var q=new Map;H!==null;)H.key!==null?q.set(H.key,H):q.set(H.index,H),H=H.sibling;return q}function m(H,q){return H=os(H,q),H.index=0,H.sibling=null,H}function g(H,q,K){return H.index=K,i?(K=H.alternate,K!==null?(K=K.index,K<q?(H.flags|=67108866,q):K):(H.flags|=67108866,q)):(H.flags|=1048576,q)}function x(H){return i&&H.alternate===null&&(H.flags|=67108866),H}function S(H,q,K,ne){return q===null||q.tag!==6?(q=Yd(K,H.mode,ne),q.return=H,q):(q=m(q,K),q.return=H,q)}function U(H,q,K,ne){var ye=K.type;return ye===P?ee(H,q,K.props.children,ne,K.key):q!==null&&(q.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===A&&ha(ye)===q.type)?(q=m(q,K.props),Yl(q,K),q.return=H,q):(q=ah(K.type,K.key,K.props,null,H.mode,ne),Yl(q,K),q.return=H,q)}function $(H,q,K,ne){return q===null||q.tag!==4||q.stateNode.containerInfo!==K.containerInfo||q.stateNode.implementation!==K.implementation?(q=Qd(K,H.mode,ne),q.return=H,q):(q=m(q,K.children||[]),q.return=H,q)}function ee(H,q,K,ne,ye){return q===null||q.tag!==7?(q=aa(K,H.mode,ne,ye),q.return=H,q):(q=m(q,K),q.return=H,q)}function se(H,q,K){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Yd(""+q,H.mode,K),q.return=H,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case w:return K=ah(q.type,q.key,q.props,null,H.mode,K),Yl(K,q),K.return=H,K;case C:return q=Qd(q,H.mode,K),q.return=H,q;case A:return q=ha(q),se(H,q,K)}if(Ee(q)||L(q))return q=aa(q,H.mode,K,null),q.return=H,q;if(typeof q.then=="function")return se(H,dh(q),K);if(q.$$typeof===z)return se(H,uh(H,q),K);mh(H,q)}return null}function Q(H,q,K,ne){var ye=q!==null?q.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return ye!==null?null:S(H,q,""+K,ne);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case w:return K.key===ye?U(H,q,K,ne):null;case C:return K.key===ye?$(H,q,K,ne):null;case A:return K=ha(K),Q(H,q,K,ne)}if(Ee(K)||L(K))return ye!==null?null:ee(H,q,K,ne,null);if(typeof K.then=="function")return Q(H,q,dh(K),ne);if(K.$$typeof===z)return Q(H,q,uh(H,K),ne);mh(H,K)}return null}function W(H,q,K,ne,ye){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return H=H.get(K)||null,S(q,H,""+ne,ye);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case w:return H=H.get(ne.key===null?K:ne.key)||null,U(q,H,ne,ye);case C:return H=H.get(ne.key===null?K:ne.key)||null,$(q,H,ne,ye);case A:return ne=ha(ne),W(H,q,K,ne,ye)}if(Ee(ne)||L(ne))return H=H.get(K)||null,ee(q,H,ne,ye,null);if(typeof ne.then=="function")return W(H,q,K,dh(ne),ye);if(ne.$$typeof===z)return W(H,q,K,uh(q,ne),ye);mh(q,ne)}return null}function pe(H,q,K,ne){for(var ye=null,Ge=null,ge=q,ke=q=0,Le=null;ge!==null&&ke<K.length;ke++){ge.index>ke?(Le=ge,ge=null):Le=ge.sibling;var Ke=Q(H,ge,K[ke],ne);if(Ke===null){ge===null&&(ge=Le);break}i&&ge&&Ke.alternate===null&&r(H,ge),q=g(Ke,q,ke),Ge===null?ye=Ke:Ge.sibling=Ke,Ge=Ke,ge=Le}if(ke===K.length)return o(H,ge),Fe&&ls(H,ke),ye;if(ge===null){for(;ke<K.length;ke++)ge=se(H,K[ke],ne),ge!==null&&(q=g(ge,q,ke),Ge===null?ye=ge:Ge.sibling=ge,Ge=ge);return Fe&&ls(H,ke),ye}for(ge=c(ge);ke<K.length;ke++)Le=W(ge,H,ke,K[ke],ne),Le!==null&&(i&&Le.alternate!==null&&ge.delete(Le.key===null?ke:Le.key),q=g(Le,q,ke),Ge===null?ye=Le:Ge.sibling=Le,Ge=Le);return i&&ge.forEach(function(gr){return r(H,gr)}),Fe&&ls(H,ke),ye}function _e(H,q,K,ne){if(K==null)throw Error(s(151));for(var ye=null,Ge=null,ge=q,ke=q=0,Le=null,Ke=K.next();ge!==null&&!Ke.done;ke++,Ke=K.next()){ge.index>ke?(Le=ge,ge=null):Le=ge.sibling;var gr=Q(H,ge,Ke.value,ne);if(gr===null){ge===null&&(ge=Le);break}i&&ge&&gr.alternate===null&&r(H,ge),q=g(gr,q,ke),Ge===null?ye=gr:Ge.sibling=gr,Ge=gr,ge=Le}if(Ke.done)return o(H,ge),Fe&&ls(H,ke),ye;if(ge===null){for(;!Ke.done;ke++,Ke=K.next())Ke=se(H,Ke.value,ne),Ke!==null&&(q=g(Ke,q,ke),Ge===null?ye=Ke:Ge.sibling=Ke,Ge=Ke);return Fe&&ls(H,ke),ye}for(ge=c(ge);!Ke.done;ke++,Ke=K.next())Ke=W(ge,H,ke,Ke.value,ne),Ke!==null&&(i&&Ke.alternate!==null&&ge.delete(Ke.key===null?ke:Ke.key),q=g(Ke,q,ke),Ge===null?ye=Ke:Ge.sibling=Ke,Ge=Ke);return i&&ge.forEach(function(QR){return r(H,QR)}),Fe&&ls(H,ke),ye}function nt(H,q,K,ne){if(typeof K=="object"&&K!==null&&K.type===P&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case w:e:{for(var ye=K.key;q!==null;){if(q.key===ye){if(ye=K.type,ye===P){if(q.tag===7){o(H,q.sibling),ne=m(q,K.props.children),ne.return=H,H=ne;break e}}else if(q.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===A&&ha(ye)===q.type){o(H,q.sibling),ne=m(q,K.props),Yl(ne,K),ne.return=H,H=ne;break e}o(H,q);break}else r(H,q);q=q.sibling}K.type===P?(ne=aa(K.props.children,H.mode,ne,K.key),ne.return=H,H=ne):(ne=ah(K.type,K.key,K.props,null,H.mode,ne),Yl(ne,K),ne.return=H,H=ne)}return x(H);case C:e:{for(ye=K.key;q!==null;){if(q.key===ye)if(q.tag===4&&q.stateNode.containerInfo===K.containerInfo&&q.stateNode.implementation===K.implementation){o(H,q.sibling),ne=m(q,K.children||[]),ne.return=H,H=ne;break e}else{o(H,q);break}else r(H,q);q=q.sibling}ne=Qd(K,H.mode,ne),ne.return=H,H=ne}return x(H);case A:return K=ha(K),nt(H,q,K,ne)}if(Ee(K))return pe(H,q,K,ne);if(L(K)){if(ye=L(K),typeof ye!="function")throw Error(s(150));return K=ye.call(K),_e(H,q,K,ne)}if(typeof K.then=="function")return nt(H,q,dh(K),ne);if(K.$$typeof===z)return nt(H,q,uh(H,K),ne);mh(H,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,q!==null&&q.tag===6?(o(H,q.sibling),ne=m(q,K),ne.return=H,H=ne):(o(H,q),ne=Yd(K,H.mode,ne),ne.return=H,H=ne),x(H)):o(H,q)}return function(H,q,K,ne){try{$l=0;var ye=nt(H,q,K,ne);return ho=null,ye}catch(ge){if(ge===co||ge===hh)throw ge;var Ge=Rn(29,ge,null,H.mode);return Ge.lanes=ne,Ge.return=H,Ge}finally{}}}var da=Cv(!0),Rv=Cv(!1),Zs=!1;function om(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function er(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function tr(i,r,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Ye&2)!==0){var m=c.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),c.pending=r,r=rh(i),hv(i,null,o),r}return sh(i,c,r,o),rh(i)}function Ql(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Tl(i,o)}}function um(i,r){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var x={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=x:g=g.next=x,o=o.next}while(o!==null);g===null?m=g=r:g=g.next=r}else m=g=r;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var cm=!1;function Xl(){if(cm){var i=uo;if(i!==null)throw i}}function Wl(i,r,o,c){cm=!1;var m=i.updateQueue;Zs=!1;var g=m.firstBaseUpdate,x=m.lastBaseUpdate,S=m.shared.pending;if(S!==null){m.shared.pending=null;var U=S,$=U.next;U.next=null,x===null?g=$:x.next=$,x=U;var ee=i.alternate;ee!==null&&(ee=ee.updateQueue,S=ee.lastBaseUpdate,S!==x&&(S===null?ee.firstBaseUpdate=$:S.next=$,ee.lastBaseUpdate=U))}if(g!==null){var se=m.baseState;x=0,ee=$=U=null,S=g;do{var Q=S.lane&-536870913,W=Q!==S.lane;if(W?(je&Q)===Q:(c&Q)===Q){Q!==0&&Q===lo&&(cm=!0),ee!==null&&(ee=ee.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var pe=i,_e=S;Q=r;var nt=o;switch(_e.tag){case 1:if(pe=_e.payload,typeof pe=="function"){se=pe.call(nt,se,Q);break e}se=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=_e.payload,Q=typeof pe=="function"?pe.call(nt,se,Q):pe,Q==null)break e;se=_({},se,Q);break e;case 2:Zs=!0}}Q=S.callback,Q!==null&&(i.flags|=64,W&&(i.flags|=8192),W=m.callbacks,W===null?m.callbacks=[Q]:W.push(Q))}else W={lane:Q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ee===null?($=ee=W,U=se):ee=ee.next=W,x|=Q;if(S=S.next,S===null){if(S=m.shared.pending,S===null)break;W=S,S=W.next,W.next=null,m.lastBaseUpdate=W,m.shared.pending=null}}while(!0);ee===null&&(U=se),m.baseState=U,m.firstBaseUpdate=$,m.lastBaseUpdate=ee,g===null&&(m.shared.lanes=0),ar|=x,i.lanes=x,i.memoizedState=se}}function Nv(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Iv(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Nv(o[i],r)}var fo=F(null),ph=F(0);function Mv(i,r){i=_s,he(ph,i),he(fo,r),_s=i|r.baseLanes}function hm(){he(ph,_s),he(fo,fo.current)}function fm(){_s=ph.current,ie(fo),ie(ph)}var Nn=F(null),Kn=null;function nr(i){var r=i.alternate;he(bt,bt.current&1),he(Nn,i),Kn===null&&(r===null||fo.current!==null||r.memoizedState!==null)&&(Kn=i)}function dm(i){he(bt,bt.current),he(Nn,i),Kn===null&&(Kn=i)}function Dv(i){i.tag===22?(he(bt,bt.current),he(Nn,i),Kn===null&&(Kn=i)):ir()}function ir(){he(bt,bt.current),he(Nn,Nn.current)}function In(i){ie(Nn),Kn===i&&(Kn=null),ie(bt)}var bt=F(0);function gh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||_p(o)||bp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var hs=0,Me=null,et=null,It=null,yh=!1,mo=!1,ma=!1,vh=0,Jl=0,po=null,UC=0;function pt(){throw Error(s(321))}function mm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Cn(i[o],r[o]))return!1;return!0}function pm(i,r,o,c,m,g){return hs=g,Me=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Y.H=i===null||i.memoizedState===null?p1:Im,ma=!1,g=o(c,m),ma=!1,mo&&(g=Vv(r,o,c,m)),kv(i),g}function kv(i){Y.H=tu;var r=et!==null&&et.next!==null;if(hs=0,It=et=Me=null,yh=!1,Jl=0,po=null,r)throw Error(s(300));i===null||Mt||(i=i.dependencies,i!==null&&lh(i)&&(Mt=!0))}function Vv(i,r,o,c){Me=i;var m=0;do{if(mo&&(po=null),Jl=0,mo=!1,25<=m)throw Error(s(301));if(m+=1,It=et=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Y.H=g1,g=r(o,c)}while(mo);return g}function zC(){var i=Y.H,r=i.useState()[0];return r=typeof r.then=="function"?Zl(r):r,i=i.useState()[0],(et!==null?et.memoizedState:null)!==i&&(Me.flags|=1024),r}function gm(){var i=vh!==0;return vh=0,i}function ym(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function vm(i){if(yh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}yh=!1}hs=0,It=et=Me=null,mo=!1,Jl=vh=0,po=null}function mn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Me.memoizedState=It=i:It=It.next=i,It}function xt(){if(et===null){var i=Me.alternate;i=i!==null?i.memoizedState:null}else i=et.next;var r=It===null?Me.memoizedState:It.next;if(r!==null)It=r,et=i;else{if(i===null)throw Me.alternate===null?Error(s(467)):Error(s(310));et=i,i={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},It===null?Me.memoizedState=It=i:It=It.next=i}return It}function _h(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zl(i){var r=Jl;return Jl+=1,po===null&&(po=[]),i=wv(po,i,r),r=Me,(It===null?r.memoizedState:It.next)===null&&(r=r.alternate,Y.H=r===null||r.memoizedState===null?p1:Im),i}function bh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Zl(i);if(i.$$typeof===z)return Xt(i)}throw Error(s(438,String(i)))}function _m(i){var r=null,o=Me.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=Me.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=_h(),Me.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),c=0;c<i;c++)o[c]=R;return r.index++,o}function fs(i,r){return typeof r=="function"?r(i):r}function xh(i){var r=xt();return bm(r,et,i)}function bm(i,r,o){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var m=i.baseQueue,g=c.pending;if(g!==null){if(m!==null){var x=m.next;m.next=g.next,g.next=x}r.baseQueue=m=g,c.pending=null}if(g=i.baseState,m===null)i.memoizedState=g;else{r=m.next;var S=x=null,U=null,$=r,ee=!1;do{var se=$.lane&-536870913;if(se!==$.lane?(je&se)===se:(hs&se)===se){var Q=$.revertLane;if(Q===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),se===lo&&(ee=!0);else if((hs&Q)===Q){$=$.next,Q===lo&&(ee=!0);continue}else se={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},U===null?(S=U=se,x=g):U=U.next=se,Me.lanes|=Q,ar|=Q;se=$.action,ma&&o(g,se),g=$.hasEagerState?$.eagerState:o(g,se)}else Q={lane:se,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},U===null?(S=U=Q,x=g):U=U.next=Q,Me.lanes|=se,ar|=se;$=$.next}while($!==null&&$!==r);if(U===null?x=g:U.next=S,!Cn(g,i.memoizedState)&&(Mt=!0,ee&&(o=uo,o!==null)))throw o;i.memoizedState=g,i.baseState=x,i.baseQueue=U,c.lastRenderedState=g}return m===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function xm(i){var r=xt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=o.dispatch,m=o.pending,g=r.memoizedState;if(m!==null){o.pending=null;var x=m=m.next;do g=i(g,x.action),x=x.next;while(x!==m);Cn(g,r.memoizedState)||(Mt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,c]}function Pv(i,r,o){var c=Me,m=xt(),g=Fe;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var x=!Cn((et||m).memoizedState,o);if(x&&(m.memoizedState=o,Mt=!0),m=m.queue,wm(Lv.bind(null,c,m,i),[i]),m.getSnapshot!==r||x||It!==null&&It.memoizedState.tag&1){if(c.flags|=2048,go(9,{destroy:void 0},jv.bind(null,c,m,o,r),null),it===null)throw Error(s(349));g||(hs&127)!==0||Ov(c,r,o)}return o}function Ov(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Me.updateQueue,r===null?(r=_h(),Me.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function jv(i,r,o,c){r.value=o,r.getSnapshot=c,Uv(r)&&zv(i)}function Lv(i,r,o){return o(function(){Uv(r)&&zv(i)})}function Uv(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Cn(i,o)}catch{return!0}}function zv(i){var r=ra(i,2);r!==null&&Tn(r,i,2)}function Tm(i){var r=mn();if(typeof i=="function"){var o=i;if(i=o(),ma){On(!0);try{o()}finally{On(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:i},r}function Bv(i,r,o,c){return i.baseState=o,bm(i,et,typeof c=="function"?c:fs)}function BC(i,r,o,c,m){if(wh(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){g.listeners.push(x)}};Y.T!==null?o(!0):g.isTransition=!1,c(g),o=r.pending,o===null?(g.next=r.pending=g,Fv(r,g)):(g.next=o.next,r.pending=o.next=g)}}function Fv(i,r){var o=r.action,c=r.payload,m=i.state;if(r.isTransition){var g=Y.T,x={};Y.T=x;try{var S=o(m,c),U=Y.S;U!==null&&U(x,S),qv(i,r,S)}catch($){Em(i,r,$)}finally{g!==null&&x.types!==null&&(g.types=x.types),Y.T=g}}else try{g=o(m,c),qv(i,r,g)}catch($){Em(i,r,$)}}function qv(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){Hv(i,r,c)},function(c){return Em(i,r,c)}):Hv(i,r,o)}function Hv(i,r,o){r.status="fulfilled",r.value=o,Gv(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,Fv(i,o)))}function Em(i,r,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,Gv(r),r=r.next;while(r!==c)}i.action=null}function Gv(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Kv(i,r){return r}function $v(i,r){if(Fe){var o=it.formState;if(o!==null){e:{var c=Me;if(Fe){if(rt){t:{for(var m=rt,g=Gn;m.nodeType!==8;){if(!g){m=null;break t}if(m=$n(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){rt=$n(m.nextSibling),c=m.data==="F!";break e}}Ws(c)}c=!1}c&&(r=o[0])}}return o=mn(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kv,lastRenderedState:r},o.queue=c,o=f1.bind(null,Me,c),c.dispatch=o,c=Tm(!1),g=Nm.bind(null,Me,!1,c.queue),c=mn(),m={state:r,dispatch:null,action:i,pending:null},c.queue=m,o=BC.bind(null,Me,m,g,o),m.dispatch=o,c.memoizedState=i,[r,o,!1]}function Yv(i){var r=xt();return Qv(r,et,i)}function Qv(i,r,o){if(r=bm(i,r,Kv)[0],i=xh(fs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=Zl(r)}catch(x){throw x===co?hh:x}else c=r;r=xt();var m=r.queue,g=m.dispatch;return o!==r.memoizedState&&(Me.flags|=2048,go(9,{destroy:void 0},FC.bind(null,m,o),null)),[c,g,i]}function FC(i,r){i.action=r}function Xv(i){var r=xt(),o=et;if(o!==null)return Qv(r,o,i);xt(),r=r.memoizedState,o=xt();var c=o.queue.dispatch;return o.memoizedState=i,[r,c,!1]}function go(i,r,o,c){return i={tag:i,create:o,deps:c,inst:r,next:null},r=Me.updateQueue,r===null&&(r=_h(),Me.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,r.lastEffect=i),i}function Wv(){return xt().memoizedState}function Th(i,r,o,c){var m=mn();Me.flags|=i,m.memoizedState=go(1|r,{destroy:void 0},o,c===void 0?null:c)}function Eh(i,r,o,c){var m=xt();c=c===void 0?null:c;var g=m.memoizedState.inst;et!==null&&c!==null&&mm(c,et.memoizedState.deps)?m.memoizedState=go(r,g,o,c):(Me.flags|=i,m.memoizedState=go(1|r,g,o,c))}function Jv(i,r){Th(8390656,8,i,r)}function wm(i,r){Eh(2048,8,i,r)}function qC(i){Me.flags|=4;var r=Me.updateQueue;if(r===null)r=_h(),Me.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function Zv(i){var r=xt().memoizedState;return qC({ref:r,nextImpl:i}),function(){if((Ye&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function e1(i,r){return Eh(4,2,i,r)}function t1(i,r){return Eh(4,4,i,r)}function n1(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function i1(i,r,o){o=o!=null?o.concat([i]):null,Eh(4,4,n1.bind(null,r,i),o)}function Sm(){}function s1(i,r){var o=xt();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&mm(r,c[1])?c[0]:(o.memoizedState=[i,r],i)}function r1(i,r){var o=xt();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&mm(r,c[1]))return c[0];if(c=i(),ma){On(!0);try{i()}finally{On(!1)}}return o.memoizedState=[c,r],c}function Am(i,r,o){return o===void 0||(hs&1073741824)!==0&&(je&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=a_(),Me.lanes|=i,ar|=i,o)}function a1(i,r,o,c){return Cn(o,r)?o:fo.current!==null?(i=Am(i,o,c),Cn(i,r)||(Mt=!0),i):(hs&42)===0||(hs&1073741824)!==0&&(je&261930)===0?(Mt=!0,i.memoizedState=o):(i=a_(),Me.lanes|=i,ar|=i,r)}function o1(i,r,o,c,m){var g=re.p;re.p=g!==0&&8>g?g:8;var x=Y.T,S={};Y.T=S,Nm(i,!1,r,o);try{var U=m(),$=Y.S;if($!==null&&$(S,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ee=LC(U,c);eu(i,r,ee,kn(i))}else eu(i,r,c,kn(i))}catch(se){eu(i,r,{then:function(){},status:"rejected",reason:se},kn())}finally{re.p=g,x!==null&&S.types!==null&&(x.types=S.types),Y.T=x}}function HC(){}function Cm(i,r,o,c){if(i.tag!==5)throw Error(s(476));var m=l1(i).queue;o1(i,m,r,ce,o===null?HC:function(){return u1(i),o(c)})}function l1(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:ce},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function u1(i){var r=l1(i);r.next===null&&(r=i.alternate.memoizedState),eu(i,r.next.queue,{},kn())}function Rm(){return Xt(yu)}function c1(){return xt().memoizedState}function h1(){return xt().memoizedState}function GC(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=kn();i=er(o);var c=tr(r,i,o);c!==null&&(Tn(c,r,o),Ql(c,r,o)),r={cache:im()},i.payload=r;return}r=r.return}}function KC(i,r,o){var c=kn();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},wh(i)?d1(r,o):(o=Kd(i,r,o,c),o!==null&&(Tn(o,i,c),m1(o,r,c)))}function f1(i,r,o){var c=kn();eu(i,r,o,c)}function eu(i,r,o,c){var m={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(wh(i))d1(r,m);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var x=r.lastRenderedState,S=g(x,o);if(m.hasEagerState=!0,m.eagerState=S,Cn(S,x))return sh(i,r,m,0),it===null&&ih(),!1}catch{}finally{}if(o=Kd(i,r,m,c),o!==null)return Tn(o,i,c),m1(o,r,c),!0}return!1}function Nm(i,r,o,c){if(c={lane:2,revertLane:op(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},wh(i)){if(r)throw Error(s(479))}else r=Kd(i,o,c,2),r!==null&&Tn(r,i,2)}function wh(i){var r=i.alternate;return i===Me||r!==null&&r===Me}function d1(i,r){mo=yh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function m1(i,r,o){if((o&4194048)!==0){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Tl(i,o)}}var tu={readContext:Xt,use:bh,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt};tu.useEffectEvent=pt;var p1={readContext:Xt,use:bh,useCallback:function(i,r){return mn().memoizedState=[i,r===void 0?null:r],i},useContext:Xt,useEffect:Jv,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Th(4194308,4,n1.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Th(4194308,4,i,r)},useInsertionEffect:function(i,r){Th(4,2,i,r)},useMemo:function(i,r){var o=mn();r=r===void 0?null:r;var c=i();if(ma){On(!0);try{i()}finally{On(!1)}}return o.memoizedState=[c,r],c},useReducer:function(i,r,o){var c=mn();if(o!==void 0){var m=o(r);if(ma){On(!0);try{o(r)}finally{On(!1)}}}else m=r;return c.memoizedState=c.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},c.queue=i,i=i.dispatch=KC.bind(null,Me,i),[c.memoizedState,i]},useRef:function(i){var r=mn();return i={current:i},r.memoizedState=i},useState:function(i){i=Tm(i);var r=i.queue,o=f1.bind(null,Me,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Sm,useDeferredValue:function(i,r){var o=mn();return Am(o,i,r)},useTransition:function(){var i=Tm(!1);return i=o1.bind(null,Me,i.queue,!0,!1),mn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var c=Me,m=mn();if(Fe){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),it===null)throw Error(s(349));(je&127)!==0||Ov(c,r,o)}m.memoizedState=o;var g={value:o,getSnapshot:r};return m.queue=g,Jv(Lv.bind(null,c,g,i),[i]),c.flags|=2048,go(9,{destroy:void 0},jv.bind(null,c,g,o,r),null),o},useId:function(){var i=mn(),r=it.identifierPrefix;if(Fe){var o=qi,c=Fi;o=(c&~(1<<32-vt(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=vh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=UC++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Rm,useFormState:$v,useActionState:$v,useOptimistic:function(i){var r=mn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Nm.bind(null,Me,!0,o),o.dispatch=r,[i,r]},useMemoCache:_m,useCacheRefresh:function(){return mn().memoizedState=GC.bind(null,Me)},useEffectEvent:function(i){var r=mn(),o={impl:i};return r.memoizedState=o,function(){if((Ye&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Im={readContext:Xt,use:bh,useCallback:s1,useContext:Xt,useEffect:wm,useImperativeHandle:i1,useInsertionEffect:e1,useLayoutEffect:t1,useMemo:r1,useReducer:xh,useRef:Wv,useState:function(){return xh(fs)},useDebugValue:Sm,useDeferredValue:function(i,r){var o=xt();return a1(o,et.memoizedState,i,r)},useTransition:function(){var i=xh(fs)[0],r=xt().memoizedState;return[typeof i=="boolean"?i:Zl(i),r]},useSyncExternalStore:Pv,useId:c1,useHostTransitionStatus:Rm,useFormState:Yv,useActionState:Yv,useOptimistic:function(i,r){var o=xt();return Bv(o,et,i,r)},useMemoCache:_m,useCacheRefresh:h1};Im.useEffectEvent=Zv;var g1={readContext:Xt,use:bh,useCallback:s1,useContext:Xt,useEffect:wm,useImperativeHandle:i1,useInsertionEffect:e1,useLayoutEffect:t1,useMemo:r1,useReducer:xm,useRef:Wv,useState:function(){return xm(fs)},useDebugValue:Sm,useDeferredValue:function(i,r){var o=xt();return et===null?Am(o,i,r):a1(o,et.memoizedState,i,r)},useTransition:function(){var i=xm(fs)[0],r=xt().memoizedState;return[typeof i=="boolean"?i:Zl(i),r]},useSyncExternalStore:Pv,useId:c1,useHostTransitionStatus:Rm,useFormState:Xv,useActionState:Xv,useOptimistic:function(i,r){var o=xt();return et!==null?Bv(o,et,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:_m,useCacheRefresh:h1};g1.useEffectEvent=Zv;function Mm(i,r,o,c){r=i.memoizedState,o=o(c,r),o=o==null?r:_({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Dm={enqueueSetState:function(i,r,o){i=i._reactInternals;var c=kn(),m=er(c);m.payload=r,o!=null&&(m.callback=o),r=tr(i,m,c),r!==null&&(Tn(r,i,c),Ql(r,i,c))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var c=kn(),m=er(c);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=tr(i,m,c),r!==null&&(Tn(r,i,c),Ql(r,i,c))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=kn(),c=er(o);c.tag=2,r!=null&&(c.callback=r),r=tr(i,c,o),r!==null&&(Tn(r,i,o),Ql(r,i,o))}};function y1(i,r,o,c,m,g,x){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,x):r.prototype&&r.prototype.isPureReactComponent?!Bl(o,c)||!Bl(m,g):!0}function v1(i,r,o,c){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==i&&Dm.enqueueReplaceState(r,r.state,null)}function pa(i,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(i=i.defaultProps){o===r&&(o=_({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}function _1(i){nh(i)}function b1(i){console.error(i)}function x1(i){nh(i)}function Sh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function T1(i,r,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function km(i,r,o){return o=er(o),o.tag=3,o.payload={element:null},o.callback=function(){Sh(i,r)},o}function E1(i){return i=er(i),i.tag=3,i}function w1(i,r,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;i.payload=function(){return m(g)},i.callback=function(){T1(r,o,c)}}var x=o.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(i.callback=function(){T1(r,o,c),typeof m!="function"&&(or===null?or=new Set([this]):or.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function $C(i,r,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&oo(r,o,m,!0),o=Nn.current,o!==null){switch(o.tag){case 31:case 13:return Kn===null?jh():o.alternate===null&&gt===0&&(gt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===fh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),sp(i,c,m)),!1;case 22:return o.flags|=65536,c===fh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),sp(i,c,m)),!1}throw Error(s(435,o.tag))}return sp(i,c,m),jh(),!1}if(Fe)return r=Nn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,c!==Jd&&(i=Error(s(422),{cause:c}),Hl(Fn(i,o)))):(c!==Jd&&(r=Error(s(423),{cause:c}),Hl(Fn(r,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,c=Fn(c,o),m=km(i.stateNode,c,m),um(i,m),gt!==4&&(gt=2)),!1;var g=Error(s(520),{cause:c});if(g=Fn(g,o),uu===null?uu=[g]:uu.push(g),gt!==4&&(gt=2),r===null)return!0;c=Fn(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=km(o.stateNode,c,i),um(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(or===null||!or.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=E1(m),w1(m,i,o,c),um(o,m),!1}o=o.return}while(o!==null);return!1}var Vm=Error(s(461)),Mt=!1;function Wt(i,r,o,c){r.child=i===null?Rv(r,null,o,c):da(r,i.child,o,c)}function S1(i,r,o,c,m){o=o.render;var g=r.ref;if("ref"in c){var x={};for(var S in c)S!=="ref"&&(x[S]=c[S])}else x=c;return ua(r),c=pm(i,r,o,x,g,m),S=gm(),i!==null&&!Mt?(ym(i,r,m),ds(i,r,m)):(Fe&&S&&Xd(r),r.flags|=1,Wt(i,r,c,m),r.child)}function A1(i,r,o,c,m){if(i===null){var g=o.type;return typeof g=="function"&&!$d(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,C1(i,r,g,c,m)):(i=ah(o.type,null,c,r,r.mode,m),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!Fm(i,m)){var x=g.memoizedProps;if(o=o.compare,o=o!==null?o:Bl,o(x,c)&&i.ref===r.ref)return ds(i,r,m)}return r.flags|=1,i=os(g,c),i.ref=r.ref,i.return=r,r.child=i}function C1(i,r,o,c,m){if(i!==null){var g=i.memoizedProps;if(Bl(g,c)&&i.ref===r.ref)if(Mt=!1,r.pendingProps=c=g,Fm(i,m))(i.flags&131072)!==0&&(Mt=!0);else return r.lanes=i.lanes,ds(i,r,m)}return Pm(i,r,o,c,m)}function R1(i,r,o,c){var m=c.children,g=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(c=r.child=i.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~g}else c=0,r.child=null;return N1(i,r,g,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&ch(r,g!==null?g.cachePool:null),g!==null?Mv(r,g):hm(),Dv(r);else return c=r.lanes=536870912,N1(i,r,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(ch(r,g.cachePool),Mv(r,g),ir(),r.memoizedState=null):(i!==null&&ch(r,null),hm(),ir());return Wt(i,r,m,o),r.child}function nu(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function N1(i,r,o,c,m){var g=rm();return g=g===null?null:{parent:Nt._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},i!==null&&ch(r,null),hm(),Dv(r),i!==null&&oo(i,r,c,!0),r.childLanes=m,null}function Ah(i,r){return r=Rh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function I1(i,r,o){return da(r,i.child,null,o),i=Ah(r,r.pendingProps),i.flags|=2,In(r),r.memoizedState=null,i}function YC(i,r,o){var c=r.pendingProps,m=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Fe){if(c.mode==="hidden")return i=Ah(r,c),r.lanes=536870912,nu(null,i);if(dm(r),(i=rt)?(i=F_(i,Gn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Qs!==null?{id:Fi,overflow:qi}:null,retryLane:536870912,hydrationErrors:null},o=dv(i),o.return=r,r.child=o,Qt=r,rt=null)):i=null,i===null)throw Ws(r);return r.lanes=536870912,null}return Ah(r,c)}var g=i.memoizedState;if(g!==null){var x=g.dehydrated;if(dm(r),m)if(r.flags&256)r.flags&=-257,r=I1(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Mt||oo(i,r,o,!1),m=(o&i.childLanes)!==0,Mt||m){if(c=it,c!==null&&(x=El(c,o),x!==0&&x!==g.retryLane))throw g.retryLane=x,ra(i,x),Tn(c,i,x),Vm;jh(),r=I1(i,r,o)}else i=g.treeContext,rt=$n(x.nextSibling),Qt=r,Fe=!0,Xs=null,Gn=!1,i!==null&&gv(r,i),r=Ah(r,c),r.flags|=4096;return r}return i=os(i.child,{mode:c.mode,children:c.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Ch(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Pm(i,r,o,c,m){return ua(r),o=pm(i,r,o,c,void 0,m),c=gm(),i!==null&&!Mt?(ym(i,r,m),ds(i,r,m)):(Fe&&c&&Xd(r),r.flags|=1,Wt(i,r,o,m),r.child)}function M1(i,r,o,c,m,g){return ua(r),r.updateQueue=null,o=Vv(r,c,o,m),kv(i),c=gm(),i!==null&&!Mt?(ym(i,r,g),ds(i,r,g)):(Fe&&c&&Xd(r),r.flags|=1,Wt(i,r,o,g),r.child)}function D1(i,r,o,c,m){if(ua(r),r.stateNode===null){var g=io,x=o.contextType;typeof x=="object"&&x!==null&&(g=Xt(x)),g=new o(c,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Dm,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=c,g.state=r.memoizedState,g.refs={},om(r),x=o.contextType,g.context=typeof x=="object"&&x!==null?Xt(x):io,g.state=r.memoizedState,x=o.getDerivedStateFromProps,typeof x=="function"&&(Mm(r,o,x,c),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(x=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),x!==g.state&&Dm.enqueueReplaceState(g,g.state,null),Wl(r,c,g,m),Xl(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(i===null){g=r.stateNode;var S=r.memoizedProps,U=pa(o,S);g.props=U;var $=g.context,ee=o.contextType;x=io,typeof ee=="object"&&ee!==null&&(x=Xt(ee));var se=o.getDerivedStateFromProps;ee=typeof se=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,ee||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||$!==x)&&v1(r,g,c,x),Zs=!1;var Q=r.memoizedState;g.state=Q,Wl(r,c,g,m),Xl(),$=r.memoizedState,S||Q!==$||Zs?(typeof se=="function"&&(Mm(r,o,se,c),$=r.memoizedState),(U=Zs||y1(r,o,U,c,Q,$,x))?(ee||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=$),g.props=c,g.state=$,g.context=x,c=U):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{g=r.stateNode,lm(i,r),x=r.memoizedProps,ee=pa(o,x),g.props=ee,se=r.pendingProps,Q=g.context,$=o.contextType,U=io,typeof $=="object"&&$!==null&&(U=Xt($)),S=o.getDerivedStateFromProps,($=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==se||Q!==U)&&v1(r,g,c,U),Zs=!1,Q=r.memoizedState,g.state=Q,Wl(r,c,g,m),Xl();var W=r.memoizedState;x!==se||Q!==W||Zs||i!==null&&i.dependencies!==null&&lh(i.dependencies)?(typeof S=="function"&&(Mm(r,o,S,c),W=r.memoizedState),(ee=Zs||y1(r,o,ee,c,Q,W,U)||i!==null&&i.dependencies!==null&&lh(i.dependencies))?($||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,W,U),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,W,U)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||x===i.memoizedProps&&Q===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&Q===i.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=W),g.props=c,g.state=W,g.context=U,c=ee):(typeof g.componentDidUpdate!="function"||x===i.memoizedProps&&Q===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&Q===i.memoizedState||(r.flags|=1024),c=!1)}return g=c,Ch(i,r),c=(r.flags&128)!==0,g||c?(g=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&c?(r.child=da(r,i.child,null,m),r.child=da(r,null,o,m)):Wt(i,r,o,m),r.memoizedState=g.state,i=r.child):i=ds(i,r,m),i}function k1(i,r,o,c){return oa(),r.flags|=256,Wt(i,r,o,c),r.child}var Om={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jm(i){return{baseLanes:i,cachePool:Tv()}}function Lm(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Dn),i}function V1(i,r,o){var c=r.pendingProps,m=!1,g=(r.flags&128)!==0,x;if((x=g)||(x=i!==null&&i.memoizedState===null?!1:(bt.current&2)!==0),x&&(m=!0,r.flags&=-129),x=(r.flags&32)!==0,r.flags&=-33,i===null){if(Fe){if(m?nr(r):ir(),(i=rt)?(i=F_(i,Gn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Qs!==null?{id:Fi,overflow:qi}:null,retryLane:536870912,hydrationErrors:null},o=dv(i),o.return=r,r.child=o,Qt=r,rt=null)):i=null,i===null)throw Ws(r);return bp(i)?r.lanes=32:r.lanes=536870912,null}var S=c.children;return c=c.fallback,m?(ir(),m=r.mode,S=Rh({mode:"hidden",children:S},m),c=aa(c,m,o,null),S.return=r,c.return=r,S.sibling=c,r.child=S,c=r.child,c.memoizedState=jm(o),c.childLanes=Lm(i,x,o),r.memoizedState=Om,nu(null,c)):(nr(r),Um(r,S))}var U=i.memoizedState;if(U!==null&&(S=U.dehydrated,S!==null)){if(g)r.flags&256?(nr(r),r.flags&=-257,r=zm(i,r,o)):r.memoizedState!==null?(ir(),r.child=i.child,r.flags|=128,r=null):(ir(),S=c.fallback,m=r.mode,c=Rh({mode:"visible",children:c.children},m),S=aa(S,m,o,null),S.flags|=2,c.return=r,S.return=r,c.sibling=S,r.child=c,da(r,i.child,null,o),c=r.child,c.memoizedState=jm(o),c.childLanes=Lm(i,x,o),r.memoizedState=Om,r=nu(null,c));else if(nr(r),bp(S)){if(x=S.nextSibling&&S.nextSibling.dataset,x)var $=x.dgst;x=$,c=Error(s(419)),c.stack="",c.digest=x,Hl({value:c,source:null,stack:null}),r=zm(i,r,o)}else if(Mt||oo(i,r,o,!1),x=(o&i.childLanes)!==0,Mt||x){if(x=it,x!==null&&(c=El(x,o),c!==0&&c!==U.retryLane))throw U.retryLane=c,ra(i,c),Tn(x,i,c),Vm;_p(S)||jh(),r=zm(i,r,o)}else _p(S)?(r.flags|=192,r.child=i.child,r=null):(i=U.treeContext,rt=$n(S.nextSibling),Qt=r,Fe=!0,Xs=null,Gn=!1,i!==null&&gv(r,i),r=Um(r,c.children),r.flags|=4096);return r}return m?(ir(),S=c.fallback,m=r.mode,U=i.child,$=U.sibling,c=os(U,{mode:"hidden",children:c.children}),c.subtreeFlags=U.subtreeFlags&65011712,$!==null?S=os($,S):(S=aa(S,m,o,null),S.flags|=2),S.return=r,c.return=r,c.sibling=S,r.child=c,nu(null,c),c=r.child,S=i.child.memoizedState,S===null?S=jm(o):(m=S.cachePool,m!==null?(U=Nt._currentValue,m=m.parent!==U?{parent:U,pool:U}:m):m=Tv(),S={baseLanes:S.baseLanes|o,cachePool:m}),c.memoizedState=S,c.childLanes=Lm(i,x,o),r.memoizedState=Om,nu(i.child,c)):(nr(r),o=i.child,i=o.sibling,o=os(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,i!==null&&(x=r.deletions,x===null?(r.deletions=[i],r.flags|=16):x.push(i)),r.child=o,r.memoizedState=null,o)}function Um(i,r){return r=Rh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Rh(i,r){return i=Rn(22,i,null,r),i.lanes=0,i}function zm(i,r,o){return da(r,i.child,null,o),i=Um(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function P1(i,r,o){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r),tm(i.return,r,o)}function Bm(i,r,o,c,m,g){var x=i.memoizedState;x===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m,treeForkCount:g}:(x.isBackwards=r,x.rendering=null,x.renderingStartTime=0,x.last=c,x.tail=o,x.tailMode=m,x.treeForkCount=g)}function O1(i,r,o){var c=r.pendingProps,m=c.revealOrder,g=c.tail;c=c.children;var x=bt.current,S=(x&2)!==0;if(S?(x=x&1|2,r.flags|=128):x&=1,he(bt,x),Wt(i,r,c,o),c=Fe?ql:0,!S&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&P1(i,o,r);else if(i.tag===19)P1(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(m){case"forwards":for(o=r.child,m=null;o!==null;)i=o.alternate,i!==null&&gh(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=r.child,r.child=null):(m=o.sibling,o.sibling=null),Bm(r,!1,m,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=r.child,r.child=null;m!==null;){if(i=m.alternate,i!==null&&gh(i)===null){r.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}Bm(r,!0,o,null,g,c);break;case"together":Bm(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function ds(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),ar|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(oo(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=os(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=os(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Fm(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&lh(i)))}function QC(i,r,o){switch(r.tag){case 3:Lt(r,r.stateNode.containerInfo),Js(r,Nt,i.memoizedState.cache),oa();break;case 27:case 5:Br(r);break;case 4:Lt(r,r.stateNode.containerInfo);break;case 10:Js(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,dm(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(nr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?V1(i,r,o):(nr(r),i=ds(i,r,o),i!==null?i.sibling:null);nr(r);break;case 19:var m=(i.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(oo(i,r,o,!1),c=(o&r.childLanes)!==0),m){if(c)return O1(i,r,o);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),he(bt,bt.current),c)break;return null;case 22:return r.lanes=0,R1(i,r,o,r.pendingProps);case 24:Js(r,Nt,i.memoizedState.cache)}return ds(i,r,o)}function j1(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Mt=!0;else{if(!Fm(i,o)&&(r.flags&128)===0)return Mt=!1,QC(i,r,o);Mt=(i.flags&131072)!==0}else Mt=!1,Fe&&(r.flags&1048576)!==0&&pv(r,ql,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(i=ha(r.elementType),r.type=i,typeof i=="function")$d(i)?(c=pa(i,c),r.tag=1,r=D1(null,r,i,c,o)):(r.tag=0,r=Pm(null,r,i,c,o));else{if(i!=null){var m=i.$$typeof;if(m===J){r.tag=11,r=S1(null,r,i,c,o);break e}else if(m===I){r.tag=14,r=A1(null,r,i,c,o);break e}}throw r=le(i)||i,Error(s(306,r,""))}}return r;case 0:return Pm(i,r,r.type,r.pendingProps,o);case 1:return c=r.type,m=pa(c,r.pendingProps),D1(i,r,c,m,o);case 3:e:{if(Lt(r,r.stateNode.containerInfo),i===null)throw Error(s(387));c=r.pendingProps;var g=r.memoizedState;m=g.element,lm(i,r),Wl(r,c,null,o);var x=r.memoizedState;if(c=x.cache,Js(r,Nt,c),c!==g.cache&&nm(r,[Nt],o,!0),Xl(),c=x.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:x.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=k1(i,r,c,o);break e}else if(c!==m){m=Fn(Error(s(424)),r),Hl(m),r=k1(i,r,c,o);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(rt=$n(i.firstChild),Qt=r,Fe=!0,Xs=null,Gn=!0,o=Rv(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(oa(),c===m){r=ds(i,r,o);break e}Wt(i,r,c,o)}r=r.child}return r;case 26:return Ch(i,r),i===null?(o=Y_(r.type,null,r.pendingProps,null))?r.memoizedState=o:Fe||(o=r.type,i=r.pendingProps,c=Hh(De.current).createElement(o),c[At]=r,c[qt]=i,Jt(c,o,i),Ct(c),r.stateNode=c):r.memoizedState=Y_(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Br(r),i===null&&Fe&&(c=r.stateNode=G_(r.type,r.pendingProps,De.current),Qt=r,Gn=!0,m=rt,hr(r.type)?(xp=m,rt=$n(c.firstChild)):rt=m),Wt(i,r,r.pendingProps.children,o),Ch(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Fe&&((m=c=rt)&&(c=SR(c,r.type,r.pendingProps,Gn),c!==null?(r.stateNode=c,Qt=r,rt=$n(c.firstChild),Gn=!1,m=!0):m=!1),m||Ws(r)),Br(r),m=r.type,g=r.pendingProps,x=i!==null?i.memoizedProps:null,c=g.children,gp(m,g)?c=null:x!==null&&gp(m,x)&&(r.flags|=32),r.memoizedState!==null&&(m=pm(i,r,zC,null,null,o),yu._currentValue=m),Ch(i,r),Wt(i,r,c,o),r.child;case 6:return i===null&&Fe&&((i=o=rt)&&(o=AR(o,r.pendingProps,Gn),o!==null?(r.stateNode=o,Qt=r,rt=null,i=!0):i=!1),i||Ws(r)),null;case 13:return V1(i,r,o);case 4:return Lt(r,r.stateNode.containerInfo),c=r.pendingProps,i===null?r.child=da(r,null,c,o):Wt(i,r,c,o),r.child;case 11:return S1(i,r,r.type,r.pendingProps,o);case 7:return Wt(i,r,r.pendingProps,o),r.child;case 8:return Wt(i,r,r.pendingProps.children,o),r.child;case 12:return Wt(i,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,Js(r,r.type,c.value),Wt(i,r,c.children,o),r.child;case 9:return m=r.type._context,c=r.pendingProps.children,ua(r),m=Xt(m),c=c(m),r.flags|=1,Wt(i,r,c,o),r.child;case 14:return A1(i,r,r.type,r.pendingProps,o);case 15:return C1(i,r,r.type,r.pendingProps,o);case 19:return O1(i,r,o);case 31:return YC(i,r,o);case 22:return R1(i,r,o,r.pendingProps);case 24:return ua(r),c=Xt(Nt),i===null?(m=rm(),m===null&&(m=it,g=im(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),r.memoizedState={parent:c,cache:m},om(r),Js(r,Nt,m)):((i.lanes&o)!==0&&(lm(i,r),Wl(r,null,null,o),Xl()),m=i.memoizedState,g=r.memoizedState,m.parent!==c?(m={parent:c,cache:c},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),Js(r,Nt,c)):(c=g.cache,Js(r,Nt,c),c!==m.cache&&nm(r,[Nt],o,!0))),Wt(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ms(i){i.flags|=4}function qm(i,r,o,c,m){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(m&335544128)===m)if(i.stateNode.complete)i.flags|=8192;else if(c_())i.flags|=8192;else throw fa=fh,am}else i.flags&=-16777217}function L1(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Z_(r))if(c_())i.flags|=8192;else throw fa=fh,am}function Nh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Pc():536870912,i.lanes|=r,bo|=r)}function iu(i,r){if(!Fe)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function at(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(r)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=c,i.childLanes=o,r}function XC(i,r,o){var c=r.pendingProps;switch(Wd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(r),null;case 1:return at(r),null;case 3:return o=r.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),cs(Nt),lt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(ao(r)?ms(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Zd())),at(r),null;case 26:var m=r.type,g=r.memoizedState;return i===null?(ms(r),g!==null?(at(r),L1(r,g)):(at(r),qm(r,m,null,c,o))):g?g!==i.memoizedState?(ms(r),at(r),L1(r,g)):(at(r),r.flags&=-16777217):(i=i.memoizedProps,i!==c&&ms(r),at(r),qm(r,m,i,c,o)),null;case 27:if(La(r),o=De.current,m=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&ms(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return at(r),null}i=me.current,ao(r)?yv(r):(i=G_(m,c,o),r.stateNode=i,ms(r))}return at(r),null;case 5:if(La(r),m=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&ms(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return at(r),null}if(g=me.current,ao(r))yv(r);else{var x=Hh(De.current);switch(g){case 1:g=x.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=x.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=x.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=x.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=x.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?x.createElement("select",{is:c.is}):x.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?x.createElement(m,{is:c.is}):x.createElement(m)}}g[At]=r,g[qt]=c;e:for(x=r.child;x!==null;){if(x.tag===5||x.tag===6)g.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===r)break e;for(;x.sibling===null;){if(x.return===null||x.return===r)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}r.stateNode=g;e:switch(Jt(g,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&ms(r)}}return at(r),qm(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==c&&ms(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(i=De.current,ao(r)){if(i=r.stateNode,o=r.memoizedProps,c=null,m=Qt,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}i[At]=r,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||V_(i.nodeValue,o)),i||Ws(r,!0)}else i=Hh(i).createTextNode(c),i[At]=r,r.stateNode=i}return at(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(c=ao(r),o!==null){if(i===null){if(!c)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[At]=r}else oa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;at(r),i=!1}else o=Zd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(In(r),r):(In(r),null);if((r.flags&128)!==0)throw Error(s(558))}return at(r),null;case 13:if(c=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=ao(r),c!==null&&c.dehydrated!==null){if(i===null){if(!m)throw Error(s(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[At]=r}else oa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;at(r),m=!1}else m=Zd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(In(r),r):(In(r),null)}return In(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=r.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Nh(r,r.updateQueue),at(r),null);case 4:return lt(),i===null&&hp(r.stateNode.containerInfo),at(r),null;case 10:return cs(r.type),at(r),null;case 19:if(ie(bt),c=r.memoizedState,c===null)return at(r),null;if(m=(r.flags&128)!==0,g=c.rendering,g===null)if(m)iu(c,!1);else{if(gt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=gh(i),g!==null){for(r.flags|=128,iu(c,!1),i=g.updateQueue,r.updateQueue=i,Nh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)fv(o,i),o=o.sibling;return he(bt,bt.current&1|2),Fe&&ls(r,c.treeForkCount),r.child}i=i.sibling}c.tail!==null&&fn()>Vh&&(r.flags|=128,m=!0,iu(c,!1),r.lanes=4194304)}else{if(!m)if(i=gh(g),i!==null){if(r.flags|=128,m=!0,i=i.updateQueue,r.updateQueue=i,Nh(r,i),iu(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!Fe)return at(r),null}else 2*fn()-c.renderingStartTime>Vh&&o!==536870912&&(r.flags|=128,m=!0,iu(c,!1),r.lanes=4194304);c.isBackwards?(g.sibling=r.child,r.child=g):(i=c.last,i!==null?i.sibling=g:r.child=g,c.last=g)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=fn(),i.sibling=null,o=bt.current,he(bt,m?o&1|2:o&1),Fe&&ls(r,c.treeForkCount),i):(at(r),null);case 22:case 23:return In(r),fm(),c=r.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(at(r),r.subtreeFlags&6&&(r.flags|=8192)):at(r),o=r.updateQueue,o!==null&&Nh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),i!==null&&ie(ca),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),cs(Nt),at(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function WC(i,r){switch(Wd(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return cs(Nt),lt(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return La(r),null;case 31:if(r.memoizedState!==null){if(In(r),r.alternate===null)throw Error(s(340));oa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(In(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));oa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return ie(bt),null;case 4:return lt(),null;case 10:return cs(r.type),null;case 22:case 23:return In(r),fm(),i!==null&&ie(ca),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return cs(Nt),null;case 25:return null;default:return null}}function U1(i,r){switch(Wd(r),r.tag){case 3:cs(Nt),lt();break;case 26:case 27:case 5:La(r);break;case 4:lt();break;case 31:r.memoizedState!==null&&In(r);break;case 13:In(r);break;case 19:ie(bt);break;case 10:cs(r.type);break;case 22:case 23:In(r),fm(),i!==null&&ie(ca);break;case 24:cs(Nt)}}function su(i,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&i)===i){c=void 0;var g=o.create,x=o.inst;c=g(),x.destroy=c}o=o.next}while(o!==m)}}catch(S){Je(r,r.return,S)}}function sr(i,r,o){try{var c=r.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&i)===i){var x=c.inst,S=x.destroy;if(S!==void 0){x.destroy=void 0,m=r;var U=o,$=S;try{$()}catch(ee){Je(m,U,ee)}}}c=c.next}while(c!==g)}}catch(ee){Je(r,r.return,ee)}}function z1(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{Iv(r,o)}catch(c){Je(i,i.return,c)}}}function B1(i,r,o){o.props=pa(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){Je(i,r,c)}}function ru(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(m){Je(i,r,m)}}function Hi(i,r){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){Je(i,r,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){Je(i,r,m)}else o.current=null}function F1(i){var r=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){Je(i,i.return,m)}}function Hm(i,r,o){try{var c=i.stateNode;_R(c,i.type,o,r),c[qt]=r}catch(m){Je(i,i.return,m)}}function q1(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&hr(i.type)||i.tag===4}function Gm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||q1(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&hr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Km(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=li));else if(c!==4&&(c===27&&hr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Km(i,r,o),i=i.sibling;i!==null;)Km(i,r,o),i=i.sibling}function Ih(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(c!==4&&(c===27&&hr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Ih(i,r,o),i=i.sibling;i!==null;)Ih(i,r,o),i=i.sibling}function H1(i){var r=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);Jt(r,c,o),r[At]=i,r[qt]=o}catch(g){Je(i,i.return,g)}}var ps=!1,Dt=!1,$m=!1,G1=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function JC(i,r){if(i=i.containerInfo,mp=Wh,i=iv(i),zd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var x=0,S=-1,U=-1,$=0,ee=0,se=i,Q=null;t:for(;;){for(var W;se!==o||m!==0&&se.nodeType!==3||(S=x+m),se!==g||c!==0&&se.nodeType!==3||(U=x+c),se.nodeType===3&&(x+=se.nodeValue.length),(W=se.firstChild)!==null;)Q=se,se=W;for(;;){if(se===i)break t;if(Q===o&&++$===m&&(S=x),Q===g&&++ee===c&&(U=x),(W=se.nextSibling)!==null)break;se=Q,Q=se.parentNode}se=W}o=S===-1||U===-1?null:{start:S,end:U}}else o=null}o=o||{start:0,end:0}}else o=null;for(pp={focusedElem:i,selectionRange:o},Wh=!1,Gt=r;Gt!==null;)if(r=Gt,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Gt=i;else for(;Gt!==null;){switch(r=Gt,g=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)m=i[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,m=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var pe=pa(o.type,m);i=c.getSnapshotBeforeUpdate(pe,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(_e){Je(o,o.return,_e)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)vp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":vp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Gt=i;break}Gt=r.return}}function K1(i,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:ys(i,o),c&4&&su(5,o);break;case 1:if(ys(i,o),c&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(x){Je(o,o.return,x)}else{var m=pa(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(m,r,i.__reactInternalSnapshotBeforeUpdate)}catch(x){Je(o,o.return,x)}}c&64&&z1(o),c&512&&ru(o,o.return);break;case 3:if(ys(i,o),c&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Iv(i,r)}catch(x){Je(o,o.return,x)}}break;case 27:r===null&&c&4&&H1(o);case 26:case 5:ys(i,o),r===null&&c&4&&F1(o),c&512&&ru(o,o.return);break;case 12:ys(i,o);break;case 31:ys(i,o),c&4&&Q1(i,o);break;case 13:ys(i,o),c&4&&X1(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=oR.bind(null,o),CR(i,o))));break;case 22:if(c=o.memoizedState!==null||ps,!c){r=r!==null&&r.memoizedState!==null||Dt,m=ps;var g=Dt;ps=c,(Dt=r)&&!g?vs(i,o,(o.subtreeFlags&8772)!==0):ys(i,o),ps=m,Dt=g}break;case 30:break;default:ys(i,o)}}function $1(i){var r=i.alternate;r!==null&&(i.alternate=null,$1(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&qa(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ct=null,vn=!1;function gs(i,r,o){for(o=o.child;o!==null;)Y1(i,r,o),o=o.sibling}function Y1(i,r,o){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(si,o)}catch{}switch(o.tag){case 26:Dt||Hi(o,r),gs(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Dt||Hi(o,r);var c=ct,m=vn;hr(o.type)&&(ct=o.stateNode,vn=!1),gs(i,r,o),mu(o.stateNode),ct=c,vn=m;break;case 5:Dt||Hi(o,r);case 6:if(c=ct,m=vn,ct=null,gs(i,r,o),ct=c,vn=m,ct!==null)if(vn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(o.stateNode)}catch(g){Je(o,r,g)}else try{ct.removeChild(o.stateNode)}catch(g){Je(o,r,g)}break;case 18:ct!==null&&(vn?(i=ct,z_(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Ro(i)):z_(ct,o.stateNode));break;case 4:c=ct,m=vn,ct=o.stateNode.containerInfo,vn=!0,gs(i,r,o),ct=c,vn=m;break;case 0:case 11:case 14:case 15:sr(2,o,r),Dt||sr(4,o,r),gs(i,r,o);break;case 1:Dt||(Hi(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&B1(o,r,c)),gs(i,r,o);break;case 21:gs(i,r,o);break;case 22:Dt=(c=Dt)||o.memoizedState!==null,gs(i,r,o),Dt=c;break;default:gs(i,r,o)}}function Q1(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Ro(i)}catch(o){Je(r,r.return,o)}}}function X1(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ro(i)}catch(o){Je(r,r.return,o)}}function ZC(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new G1),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new G1),r;default:throw Error(s(435,i.tag))}}function Mh(i,r){var o=ZC(i);r.forEach(function(c){if(!o.has(c)){o.add(c);var m=lR.bind(null,i,c);c.then(m,m)}})}function _n(i,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],g=i,x=r,S=x;e:for(;S!==null;){switch(S.tag){case 27:if(hr(S.type)){ct=S.stateNode,vn=!1;break e}break;case 5:ct=S.stateNode,vn=!1;break e;case 3:case 4:ct=S.stateNode.containerInfo,vn=!0;break e}S=S.return}if(ct===null)throw Error(s(160));Y1(g,x,m),ct=null,vn=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)W1(r,i),r=r.sibling}var mi=null;function W1(i,r){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:_n(r,i),bn(i),c&4&&(sr(3,i,i.return),su(3,i),sr(5,i,i.return));break;case 1:_n(r,i),bn(i),c&512&&(Dt||o===null||Hi(o,o.return)),c&64&&ps&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=mi;if(_n(r,i),bn(i),c&512&&(Dt||o===null||Hi(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[Ii]||g[At]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),Jt(g,c,o),g[At]=i,Ct(g),c=g;break e;case"link":var x=W_("link","href",m).get(c+(o.href||""));if(x){for(var S=0;S<x.length;S++)if(g=x[S],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){x.splice(S,1);break t}}g=m.createElement(c),Jt(g,c,o),m.head.appendChild(g);break;case"meta":if(x=W_("meta","content",m).get(c+(o.content||""))){for(S=0;S<x.length;S++)if(g=x[S],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){x.splice(S,1);break t}}g=m.createElement(c),Jt(g,c,o),m.head.appendChild(g);break;default:throw Error(s(468,c))}g[At]=i,Ct(g),c=g}i.stateNode=c}else J_(m,i.type,i.stateNode);else i.stateNode=X_(m,c,i.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?J_(m,i.type,i.stateNode):X_(m,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Hm(i,i.memoizedProps,o.memoizedProps)}break;case 27:_n(r,i),bn(i),c&512&&(Dt||o===null||Hi(o,o.return)),o!==null&&c&4&&Hm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(_n(r,i),bn(i),c&512&&(Dt||o===null||Hi(o,o.return)),i.flags&32){m=i.stateNode;try{yn(m,"")}catch(pe){Je(i,i.return,pe)}}c&4&&i.stateNode!=null&&(m=i.memoizedProps,Hm(i,m,o!==null?o.memoizedProps:m)),c&1024&&($m=!0);break;case 6:if(_n(r,i),bn(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(pe){Je(i,i.return,pe)}}break;case 3:if($h=null,m=mi,mi=Gh(r.containerInfo),_n(r,i),mi=m,bn(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Ro(r.containerInfo)}catch(pe){Je(i,i.return,pe)}$m&&($m=!1,J1(i));break;case 4:c=mi,mi=Gh(i.stateNode.containerInfo),_n(r,i),bn(i),mi=c;break;case 12:_n(r,i),bn(i);break;case 31:_n(r,i),bn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Mh(i,c)));break;case 13:_n(r,i),bn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(kh=fn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Mh(i,c)));break;case 22:m=i.memoizedState!==null;var U=o!==null&&o.memoizedState!==null,$=ps,ee=Dt;if(ps=$||m,Dt=ee||U,_n(r,i),Dt=ee,ps=$,bn(i),c&8192)e:for(r=i.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(o===null||U||ps||Dt||ga(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){U=o=r;try{if(g=U.stateNode,m)x=g.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{S=U.stateNode;var se=U.memoizedProps.style,Q=se!=null&&se.hasOwnProperty("display")?se.display:null;S.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(pe){Je(U,U.return,pe)}}}else if(r.tag===6){if(o===null){U=r;try{U.stateNode.nodeValue=m?"":U.memoizedProps}catch(pe){Je(U,U.return,pe)}}}else if(r.tag===18){if(o===null){U=r;try{var W=U.stateNode;m?B_(W,!0):B_(U.stateNode,!1)}catch(pe){Je(U,U.return,pe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Mh(i,o))));break;case 19:_n(r,i),bn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Mh(i,c)));break;case 30:break;case 21:break;default:_n(r,i),bn(i)}}function bn(i){var r=i.flags;if(r&2){try{for(var o,c=i.return;c!==null;){if(q1(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var m=o.stateNode,g=Gm(i);Ih(i,g,m);break;case 5:var x=o.stateNode;o.flags&32&&(yn(x,""),o.flags&=-33);var S=Gm(i);Ih(i,S,x);break;case 3:case 4:var U=o.stateNode.containerInfo,$=Gm(i);Km(i,$,U);break;default:throw Error(s(161))}}catch(ee){Je(i,i.return,ee)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function J1(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;J1(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function ys(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)K1(i,r.alternate,r),r=r.sibling}function ga(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:sr(4,r,r.return),ga(r);break;case 1:Hi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&B1(r,r.return,o),ga(r);break;case 27:mu(r.stateNode);case 26:case 5:Hi(r,r.return),ga(r);break;case 22:r.memoizedState===null&&ga(r);break;case 30:ga(r);break;default:ga(r)}i=i.sibling}}function vs(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,m=i,g=r,x=g.flags;switch(g.tag){case 0:case 11:case 15:vs(m,g,o),su(4,g);break;case 1:if(vs(m,g,o),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch($){Je(c,c.return,$)}if(c=g,m=c.updateQueue,m!==null){var S=c.stateNode;try{var U=m.shared.hiddenCallbacks;if(U!==null)for(m.shared.hiddenCallbacks=null,m=0;m<U.length;m++)Nv(U[m],S)}catch($){Je(c,c.return,$)}}o&&x&64&&z1(g),ru(g,g.return);break;case 27:H1(g);case 26:case 5:vs(m,g,o),o&&c===null&&x&4&&F1(g),ru(g,g.return);break;case 12:vs(m,g,o);break;case 31:vs(m,g,o),o&&x&4&&Q1(m,g);break;case 13:vs(m,g,o),o&&x&4&&X1(m,g);break;case 22:g.memoizedState===null&&vs(m,g,o),ru(g,g.return);break;case 30:break;default:vs(m,g,o)}r=r.sibling}}function Ym(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Gl(o))}function Qm(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Gl(i))}function pi(i,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Z1(i,r,o,c),r=r.sibling}function Z1(i,r,o,c){var m=r.flags;switch(r.tag){case 0:case 11:case 15:pi(i,r,o,c),m&2048&&su(9,r);break;case 1:pi(i,r,o,c);break;case 3:pi(i,r,o,c),m&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Gl(i)));break;case 12:if(m&2048){pi(i,r,o,c),i=r.stateNode;try{var g=r.memoizedProps,x=g.id,S=g.onPostCommit;typeof S=="function"&&S(x,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(U){Je(r,r.return,U)}}else pi(i,r,o,c);break;case 31:pi(i,r,o,c);break;case 13:pi(i,r,o,c);break;case 23:break;case 22:g=r.stateNode,x=r.alternate,r.memoizedState!==null?g._visibility&2?pi(i,r,o,c):au(i,r):g._visibility&2?pi(i,r,o,c):(g._visibility|=2,yo(i,r,o,c,(r.subtreeFlags&10256)!==0||!1)),m&2048&&Ym(x,r);break;case 24:pi(i,r,o,c),m&2048&&Qm(r.alternate,r);break;default:pi(i,r,o,c)}}function yo(i,r,o,c,m){for(m=m&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=i,x=r,S=o,U=c,$=x.flags;switch(x.tag){case 0:case 11:case 15:yo(g,x,S,U,m),su(8,x);break;case 23:break;case 22:var ee=x.stateNode;x.memoizedState!==null?ee._visibility&2?yo(g,x,S,U,m):au(g,x):(ee._visibility|=2,yo(g,x,S,U,m)),m&&$&2048&&Ym(x.alternate,x);break;case 24:yo(g,x,S,U,m),m&&$&2048&&Qm(x.alternate,x);break;default:yo(g,x,S,U,m)}r=r.sibling}}function au(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,c=r,m=c.flags;switch(c.tag){case 22:au(o,c),m&2048&&Ym(c.alternate,c);break;case 24:au(o,c),m&2048&&Qm(c.alternate,c);break;default:au(o,c)}r=r.sibling}}var ou=8192;function vo(i,r,o){if(i.subtreeFlags&ou)for(i=i.child;i!==null;)e_(i,r,o),i=i.sibling}function e_(i,r,o){switch(i.tag){case 26:vo(i,r,o),i.flags&ou&&i.memoizedState!==null&&UR(o,mi,i.memoizedState,i.memoizedProps);break;case 5:vo(i,r,o);break;case 3:case 4:var c=mi;mi=Gh(i.stateNode.containerInfo),vo(i,r,o),mi=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=ou,ou=16777216,vo(i,r,o),ou=c):vo(i,r,o));break;default:vo(i,r,o)}}function t_(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function lu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Gt=c,i_(c,i)}t_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)n_(i),i=i.sibling}function n_(i){switch(i.tag){case 0:case 11:case 15:lu(i),i.flags&2048&&sr(9,i,i.return);break;case 3:lu(i);break;case 12:lu(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Dh(i)):lu(i);break;default:lu(i)}}function Dh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Gt=c,i_(c,i)}t_(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:sr(8,r,r.return),Dh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Dh(r));break;default:Dh(r)}i=i.sibling}}function i_(i,r){for(;Gt!==null;){var o=Gt;switch(o.tag){case 0:case 11:case 15:sr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Gl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Gt=c;else e:for(o=i;Gt!==null;){c=Gt;var m=c.sibling,g=c.return;if($1(c),c===o){Gt=null;break e}if(m!==null){m.return=g,Gt=m;break e}Gt=g}}}var eR={getCacheForType:function(i){var r=Xt(Nt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return Xt(Nt).controller.signal}},tR=typeof WeakMap=="function"?WeakMap:Map,Ye=0,it=null,Pe=null,je=0,We=0,Mn=null,rr=!1,_o=!1,Xm=!1,_s=0,gt=0,ar=0,ya=0,Wm=0,Dn=0,bo=0,uu=null,xn=null,Jm=!1,kh=0,s_=0,Vh=1/0,Ph=null,or=null,zt=0,lr=null,xo=null,bs=0,Zm=0,ep=null,r_=null,cu=0,tp=null;function kn(){return(Ye&2)!==0&&je!==0?je&-je:Y.T!==null?op():Oc()}function a_(){if(Dn===0)if((je&536870912)===0||Fe){var i=Hr;Hr<<=1,(Hr&3932160)===0&&(Hr=262144),Dn=i}else Dn=536870912;return i=Nn.current,i!==null&&(i.flags|=32),Dn}function Tn(i,r,o){(i===it&&(We===2||We===9)||i.cancelPendingCommit!==null)&&(To(i,0),ur(i,je,Dn,!1)),Gr(i,o),((Ye&2)===0||i!==it)&&(i===it&&((Ye&2)===0&&(ya|=o),gt===4&&ur(i,je,Dn,!1)),Gi(i))}function o_(i,r,o){if((Ye&6)!==0)throw Error(s(327));var c=!o&&(r&127)===0&&(r&i.expiredLanes)===0||ri(i,r),m=c?sR(i,r):ip(i,r,!0),g=c;do{if(m===0){_o&&!c&&ur(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!nR(o)){m=ip(i,r,!1),g=!1;continue}if(m===2){if(g=r,i.errorRecoveryDisabledLanes&g)var x=0;else x=i.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){r=x;e:{var S=i;m=uu;var U=S.current.memoizedState.isDehydrated;if(U&&(To(S,x).flags|=256),x=ip(S,x,!1),x!==2){if(Xm&&!U){S.errorRecoveryDisabledLanes|=g,ya|=g,m=4;break e}g=xn,xn=m,g!==null&&(xn===null?xn=g:xn.push.apply(xn,g))}m=x}if(g=!1,m!==2)continue}}if(m===1){To(i,0),ur(i,r,0,!0);break}e:{switch(c=i,g=m,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:ur(c,r,Dn,!rr);break e;case 2:xn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(m=kh+300-fn(),10<m)){if(ur(c,r,Dn,!rr),Ci(c,0,!0)!==0)break e;bs=r,c.timeoutHandle=L_(l_.bind(null,c,o,xn,Ph,Jm,r,Dn,ya,bo,rr,g,"Throttled",-0,0),m);break e}l_(c,o,xn,Ph,Jm,r,Dn,ya,bo,rr,g,null,-0,0)}}break}while(!0);Gi(i)}function l_(i,r,o,c,m,g,x,S,U,$,ee,se,Q,W){if(i.timeoutHandle=-1,se=r.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:li},e_(r,g,se);var pe=(g&62914560)===g?kh-fn():(g&4194048)===g?s_-fn():0;if(pe=zR(se,pe),pe!==null){bs=g,i.cancelPendingCommit=pe(g_.bind(null,i,r,g,o,c,m,x,S,U,ee,se,null,Q,W)),ur(i,g,x,!$);return}}g_(i,r,g,o,c,m,x,S,U)}function nR(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],g=m.getSnapshot;m=m.value;try{if(!Cn(g(),m))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ur(i,r,o,c){r&=~Wm,r&=~ya,i.suspendedLanes|=r,i.pingedLanes&=~r,c&&(i.warmLanes|=r),c=i.expirationTimes;for(var m=r;0<m;){var g=31-vt(m),x=1<<g;c[g]=-1,m&=~x}o!==0&&Kr(i,o,r)}function Oh(){return(Ye&6)===0?(hu(0),!1):!0}function np(){if(Pe!==null){if(We===0)var i=Pe.return;else i=Pe,us=la=null,vm(i),ho=null,$l=0,i=Pe;for(;i!==null;)U1(i.alternate,i),i=i.return;Pe=null}}function To(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,TR(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),bs=0,np(),it=i,Pe=o=os(i.current,null),je=r,We=0,Mn=null,rr=!1,_o=ri(i,r),Xm=!1,bo=Dn=Wm=ya=ar=gt=0,xn=uu=null,Jm=!1,(r&8)!==0&&(r|=r&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=r;0<c;){var m=31-vt(c),g=1<<m;r|=i[m],c&=~g}return _s=r,ih(),o}function u_(i,r){Me=null,Y.H=tu,r===co||r===hh?(r=Sv(),We=3):r===am?(r=Sv(),We=4):We=r===Vm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Mn=r,Pe===null&&(gt=1,Sh(i,Fn(r,i.current)))}function c_(){var i=Nn.current;return i===null?!0:(je&4194048)===je?Kn===null:(je&62914560)===je||(je&536870912)!==0?i===Kn:!1}function h_(){var i=Y.H;return Y.H=tu,i===null?tu:i}function f_(){var i=Y.A;return Y.A=eR,i}function jh(){gt=4,rr||(je&4194048)!==je&&Nn.current!==null||(_o=!0),(ar&134217727)===0&&(ya&134217727)===0||it===null||ur(it,je,Dn,!1)}function ip(i,r,o){var c=Ye;Ye|=2;var m=h_(),g=f_();(it!==i||je!==r)&&(Ph=null,To(i,r)),r=!1;var x=gt;e:do try{if(We!==0&&Pe!==null){var S=Pe,U=Mn;switch(We){case 8:np(),x=6;break e;case 3:case 2:case 9:case 6:Nn.current===null&&(r=!0);var $=We;if(We=0,Mn=null,Eo(i,S,U,$),o&&_o){x=0;break e}break;default:$=We,We=0,Mn=null,Eo(i,S,U,$)}}iR(),x=gt;break}catch(ee){u_(i,ee)}while(!0);return r&&i.shellSuspendCounter++,us=la=null,Ye=c,Y.H=m,Y.A=g,Pe===null&&(it=null,je=0,ih()),x}function iR(){for(;Pe!==null;)d_(Pe)}function sR(i,r){var o=Ye;Ye|=2;var c=h_(),m=f_();it!==i||je!==r?(Ph=null,Vh=fn()+500,To(i,r)):_o=ri(i,r);e:do try{if(We!==0&&Pe!==null){r=Pe;var g=Mn;t:switch(We){case 1:We=0,Mn=null,Eo(i,r,g,1);break;case 2:case 9:if(Ev(g)){We=0,Mn=null,m_(r);break}r=function(){We!==2&&We!==9||it!==i||(We=7),Gi(i)},g.then(r,r);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:Ev(g)?(We=0,Mn=null,m_(r)):(We=0,Mn=null,Eo(i,r,g,7));break;case 5:var x=null;switch(Pe.tag){case 26:x=Pe.memoizedState;case 5:case 27:var S=Pe;if(x?Z_(x):S.stateNode.complete){We=0,Mn=null;var U=S.sibling;if(U!==null)Pe=U;else{var $=S.return;$!==null?(Pe=$,Lh($)):Pe=null}break t}}We=0,Mn=null,Eo(i,r,g,5);break;case 6:We=0,Mn=null,Eo(i,r,g,6);break;case 8:np(),gt=6;break e;default:throw Error(s(462))}}rR();break}catch(ee){u_(i,ee)}while(!0);return us=la=null,Y.H=c,Y.A=m,Ye=o,Pe!==null?0:(it=null,je=0,ih(),gt)}function rR(){for(;Pe!==null&&!kd();)d_(Pe)}function d_(i){var r=j1(i.alternate,i,_s);i.memoizedProps=i.pendingProps,r===null?Lh(i):Pe=r}function m_(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=M1(o,r,r.pendingProps,r.type,void 0,je);break;case 11:r=M1(o,r,r.pendingProps,r.type.render,r.ref,je);break;case 5:vm(r);default:U1(o,r),r=Pe=fv(r,_s),r=j1(o,r,_s)}i.memoizedProps=i.pendingProps,r===null?Lh(i):Pe=r}function Eo(i,r,o,c){us=la=null,vm(r),ho=null,$l=0;var m=r.return;try{if($C(i,m,r,o,je)){gt=1,Sh(i,Fn(o,i.current)),Pe=null;return}}catch(g){if(m!==null)throw Pe=m,g;gt=1,Sh(i,Fn(o,i.current)),Pe=null;return}r.flags&32768?(Fe||c===1?i=!0:_o||(je&536870912)!==0?i=!1:(rr=i=!0,(c===2||c===9||c===3||c===6)&&(c=Nn.current,c!==null&&c.tag===13&&(c.flags|=16384))),p_(r,i)):Lh(r)}function Lh(i){var r=i;do{if((r.flags&32768)!==0){p_(r,rr);return}i=r.return;var o=XC(r.alternate,r,_s);if(o!==null){Pe=o;return}if(r=r.sibling,r!==null){Pe=r;return}Pe=r=i}while(r!==null);gt===0&&(gt=5)}function p_(i,r){do{var o=WC(i.alternate,i);if(o!==null){o.flags&=32767,Pe=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Pe=i;return}Pe=i=o}while(i!==null);gt=6,Pe=null}function g_(i,r,o,c,m,g,x,S,U){i.cancelPendingCommit=null;do Uh();while(zt!==0);if((Ye&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=Gd,Od(i,o,g,x,S,U),i===it&&(Pe=it=null,je=0),xo=r,lr=i,bs=o,Zm=g,ep=m,r_=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,uR(Us,function(){return x_(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=Y.T,Y.T=null,m=re.p,re.p=2,x=Ye,Ye|=4;try{JC(i,r,o)}finally{Ye=x,re.p=m,Y.T=c}}zt=1,y_(),v_(),__()}}function y_(){if(zt===1){zt=0;var i=lr,r=xo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=Y.T,Y.T=null;var c=re.p;re.p=2;var m=Ye;Ye|=4;try{W1(r,i);var g=pp,x=iv(i.containerInfo),S=g.focusedElem,U=g.selectionRange;if(x!==S&&S&&S.ownerDocument&&nv(S.ownerDocument.documentElement,S)){if(U!==null&&zd(S)){var $=U.start,ee=U.end;if(ee===void 0&&(ee=$),"selectionStart"in S)S.selectionStart=$,S.selectionEnd=Math.min(ee,S.value.length);else{var se=S.ownerDocument||document,Q=se&&se.defaultView||window;if(Q.getSelection){var W=Q.getSelection(),pe=S.textContent.length,_e=Math.min(U.start,pe),nt=U.end===void 0?_e:Math.min(U.end,pe);!W.extend&&_e>nt&&(x=nt,nt=_e,_e=x);var H=tv(S,_e),q=tv(S,nt);if(H&&q&&(W.rangeCount!==1||W.anchorNode!==H.node||W.anchorOffset!==H.offset||W.focusNode!==q.node||W.focusOffset!==q.offset)){var K=se.createRange();K.setStart(H.node,H.offset),W.removeAllRanges(),_e>nt?(W.addRange(K),W.extend(q.node,q.offset)):(K.setEnd(q.node,q.offset),W.addRange(K))}}}}for(se=[],W=S;W=W.parentNode;)W.nodeType===1&&se.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<se.length;S++){var ne=se[S];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Wh=!!mp,pp=mp=null}finally{Ye=m,re.p=c,Y.T=o}}i.current=r,zt=2}}function v_(){if(zt===2){zt=0;var i=lr,r=xo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=Y.T,Y.T=null;var c=re.p;re.p=2;var m=Ye;Ye|=4;try{K1(i,r.alternate,r)}finally{Ye=m,re.p=c,Y.T=o}}zt=3}}function __(){if(zt===4||zt===3){zt=0,Nc();var i=lr,r=xo,o=bs,c=r_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?zt=5:(zt=0,xo=lr=null,b_(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(or=null),is(o),r=r.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(si,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=Y.T,m=re.p,re.p=2,Y.T=null;try{for(var g=i.onRecoverableError,x=0;x<c.length;x++){var S=c[x];g(S.value,{componentStack:S.stack})}}finally{Y.T=r,re.p=m}}(bs&3)!==0&&Uh(),Gi(i),m=i.pendingLanes,(o&261930)!==0&&(m&42)!==0?i===tp?cu++:(cu=0,tp=i):cu=0,hu(0)}}function b_(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Gl(r)))}function Uh(){return y_(),v_(),__(),x_()}function x_(){if(zt!==5)return!1;var i=lr,r=Zm;Zm=0;var o=is(bs),c=Y.T,m=re.p;try{re.p=32>o?32:o,Y.T=null,o=ep,ep=null;var g=lr,x=bs;if(zt=0,xo=lr=null,bs=0,(Ye&6)!==0)throw Error(s(331));var S=Ye;if(Ye|=4,n_(g.current),Z1(g,g.current,x,o),Ye=S,hu(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(si,g)}catch{}return!0}finally{re.p=m,Y.T=c,b_(i,r)}}function T_(i,r,o){r=Fn(o,r),r=km(i.stateNode,r,2),i=tr(i,r,2),i!==null&&(Gr(i,2),Gi(i))}function Je(i,r,o){if(i.tag===3)T_(i,i,o);else for(;r!==null;){if(r.tag===3){T_(r,i,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(or===null||!or.has(c))){i=Fn(o,i),o=E1(2),c=tr(r,o,2),c!==null&&(w1(o,c,r,i),Gr(c,2),Gi(c));break}}r=r.return}}function sp(i,r,o){var c=i.pingCache;if(c===null){c=i.pingCache=new tR;var m=new Set;c.set(r,m)}else m=c.get(r),m===void 0&&(m=new Set,c.set(r,m));m.has(o)||(Xm=!0,m.add(o),i=aR.bind(null,i,r,o),r.then(i,i))}function aR(i,r,o){var c=i.pingCache;c!==null&&c.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,it===i&&(je&o)===o&&(gt===4||gt===3&&(je&62914560)===je&&300>fn()-kh?(Ye&2)===0&&To(i,0):Wm|=o,bo===je&&(bo=0)),Gi(i)}function E_(i,r){r===0&&(r=Pc()),i=ra(i,r),i!==null&&(Gr(i,r),Gi(i))}function oR(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),E_(i,o)}function lR(i,r){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),E_(i,o)}function uR(i,r){return Ut(i,r)}var zh=null,wo=null,rp=!1,Bh=!1,ap=!1,cr=0;function Gi(i){i!==wo&&i.next===null&&(wo===null?zh=wo=i:wo=wo.next=i),Bh=!0,rp||(rp=!0,hR())}function hu(i,r){if(!ap&&Bh){ap=!0;do for(var o=!1,c=zh;c!==null;){if(i!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var x=c.suspendedLanes,S=c.pingedLanes;g=(1<<31-vt(42|i)+1)-1,g&=m&~(x&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,C_(c,g))}else g=je,g=Ci(c,c===it?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||ri(c,g)||(o=!0,C_(c,g));c=c.next}while(o);ap=!1}}function cR(){w_()}function w_(){Bh=rp=!1;var i=0;cr!==0&&xR()&&(i=cr);for(var r=fn(),o=null,c=zh;c!==null;){var m=c.next,g=S_(c,r);g===0?(c.next=null,o===null?zh=m:o.next=m,m===null&&(wo=o)):(o=c,(i!==0||(g&3)!==0)&&(Bh=!0)),c=m}zt!==0&&zt!==5||hu(i),cr!==0&&(cr=0)}function S_(i,r){for(var o=i.suspendedLanes,c=i.pingedLanes,m=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var x=31-vt(g),S=1<<x,U=m[x];U===-1?((S&o)===0||(S&c)!==0)&&(m[x]=Pd(S,r)):U<=r&&(i.expiredLanes|=S),g&=~S}if(r=it,o=je,o=Ci(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===r&&(We===2||We===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Ls(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ri(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(c!==null&&Ls(c),is(o)){case 2:case 8:o=xl;break;case 32:o=Us;break;case 268435456:o=Ic;break;default:o=Us}return c=A_.bind(null,i),o=Ut(o,c),i.callbackPriority=r,i.callbackNode=o,r}return c!==null&&c!==null&&Ls(c),i.callbackPriority=2,i.callbackNode=null,2}function A_(i,r){if(zt!==0&&zt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Uh()&&i.callbackNode!==o)return null;var c=je;return c=Ci(i,i===it?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(o_(i,c,r),S_(i,fn()),i.callbackNode!=null&&i.callbackNode===o?A_.bind(null,i):null)}function C_(i,r){if(Uh())return null;o_(i,r,!0)}function hR(){ER(function(){(Ye&6)!==0?Ut(bl,cR):w_()})}function op(){if(cr===0){var i=lo;i===0&&(i=Si,Si<<=1,(Si&261888)===0&&(Si=256)),cr=i}return cr}function R_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:$a(""+i)}function N_(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function fR(i,r,o,c,m){if(r==="submit"&&o&&o.stateNode===m){var g=R_((m[qt]||null).action),x=c.submitter;x&&(r=(r=x[qt]||null)?R_(r.formAction):x.getAttribute("formAction"),r!==null&&(g=r,x=null));var S=new Li("action","action",null,c,m);i.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(cr!==0){var U=x?N_(m,x):new FormData(m);Cm(o,{pending:!0,data:U,method:m.method,action:g},null,U)}}else typeof g=="function"&&(S.preventDefault(),U=x?N_(m,x):new FormData(m),Cm(o,{pending:!0,data:U,method:m.method,action:g},g,U))},currentTarget:m}]})}}for(var lp=0;lp<Hd.length;lp++){var up=Hd[lp],dR=up.toLowerCase(),mR=up[0].toUpperCase()+up.slice(1);di(dR,"on"+mR)}di(av,"onAnimationEnd"),di(ov,"onAnimationIteration"),di(lv,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di(IC,"onTransitionRun"),di(MC,"onTransitionStart"),di(DC,"onTransitionCancel"),di(uv,"onTransitionEnd"),Vi("onMouseEnter",["mouseout","mouseover"]),Vi("onMouseLeave",["mouseout","mouseover"]),Vi("onPointerEnter",["pointerout","pointerover"]),Vi("onPointerLeave",["pointerout","pointerover"]),ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ki("onBeforeInput",["compositionend","keypress","textInput","paste"]),ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fu));function I_(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],m=c.event;c=c.listeners;e:{var g=void 0;if(r)for(var x=c.length-1;0<=x;x--){var S=c[x],U=S.instance,$=S.currentTarget;if(S=S.listener,U!==g&&m.isPropagationStopped())break e;g=S,m.currentTarget=$;try{g(m)}catch(ee){nh(ee)}m.currentTarget=null,g=U}else for(x=0;x<c.length;x++){if(S=c[x],U=S.instance,$=S.currentTarget,S=S.listener,U!==g&&m.isPropagationStopped())break e;g=S,m.currentTarget=$;try{g(m)}catch(ee){nh(ee)}m.currentTarget=null,g=U}}}}function Oe(i,r){var o=r[Fa];o===void 0&&(o=r[Fa]=new Set);var c=i+"__bubble";o.has(c)||(M_(r,i,2,!1),o.add(c))}function cp(i,r,o){var c=0;r&&(c|=4),M_(o,i,c,r)}var Fh="_reactListening"+Math.random().toString(36).slice(2);function hp(i){if(!i[Fh]){i[Fh]=!0,wl.forEach(function(o){o!=="selectionchange"&&(pR.has(o)||cp(o,!1,i),cp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Fh]||(r[Fh]=!0,cp("selectionchange",!1,r))}}function M_(i,r,o,c){switch(ab(r)){case 2:var m=qR;break;case 8:m=HR;break;default:m=Ap}o=m.bind(null,r,o,i),m=void 0,!Wr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),c?m!==void 0?i.addEventListener(r,o,{capture:!0,passive:m}):i.addEventListener(r,o,!0):m!==void 0?i.addEventListener(r,o,{passive:m}):i.addEventListener(r,o,!1)}function fp(i,r,o,c,m){var g=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var x=c.tag;if(x===3||x===4){var S=c.stateNode.containerInfo;if(S===m)break;if(x===4)for(x=c.return;x!==null;){var U=x.tag;if((U===3||U===4)&&x.stateNode.containerInfo===m)return;x=x.return}for(;S!==null;){if(x=Mi(S),x===null)return;if(U=x.tag,U===5||U===6||U===26||U===27){c=g=x;continue e}S=S.parentNode}}c=c.return}Gs(function(){var $=g,ee=Ln(o),se=[];e:{var Q=cv.get(i);if(Q!==void 0){var W=Li,pe=i;switch(i){case"keypress":if(Zr(o)===0)break e;case"keydown":case"keyup":W=Zc;break;case"focusin":pe="focus",W=ta;break;case"focusout":pe="blur",W=ta;break;case"beforeblur":case"afterblur":W=ta;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=jl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Hc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=b;break;case av:case ov:case lv:W=Kc;break;case uv:W=N;break;case"scroll":case"scrollend":W=Ol;break;case"wheel":W=X;break;case"copy":case"cut":case"paste":W=$c;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=as;break;case"toggle":case"beforetoggle":W=Ie}var _e=(r&4)!==0,nt=!_e&&(i==="scroll"||i==="scrollend"),H=_e?Q!==null?Q+"Capture":null:Q;_e=[];for(var q=$,K;q!==null;){var ne=q;if(K=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||K===null||H===null||(ne=ui(q,H),ne!=null&&_e.push(du(q,ne,K))),nt)break;q=q.return}0<_e.length&&(Q=new W(Q,pe,null,o,ee),se.push({event:Q,listeners:_e}))}}if((r&7)===0){e:{if(Q=i==="mouseover"||i==="pointerover",W=i==="mouseout"||i==="pointerout",Q&&o!==kl&&(pe=o.relatedTarget||o.fromElement)&&(Mi(pe)||pe[Ni]))break e;if((W||Q)&&(Q=ee.window===ee?ee:(Q=ee.ownerDocument)?Q.defaultView||Q.parentWindow:window,W?(pe=o.relatedTarget||o.toElement,W=$,pe=pe?Mi(pe):null,pe!==null&&(nt=l(pe),_e=pe.tag,pe!==nt||_e!==5&&_e!==27&&_e!==6)&&(pe=null)):(W=null,pe=$),W!==pe)){if(_e=jl,ne="onMouseLeave",H="onMouseEnter",q="mouse",(i==="pointerout"||i==="pointerover")&&(_e=as,ne="onPointerLeave",H="onPointerEnter",q="pointer"),nt=W==null?Q:Sn(W),K=pe==null?Q:Sn(pe),Q=new _e(ne,q+"leave",W,o,ee),Q.target=nt,Q.relatedTarget=K,ne=null,Mi(ee)===$&&(_e=new _e(H,q+"enter",pe,o,ee),_e.target=K,_e.relatedTarget=nt,ne=_e),nt=ne,W&&pe)t:{for(_e=gR,H=W,q=pe,K=0,ne=H;ne;ne=_e(ne))K++;ne=0;for(var ye=q;ye;ye=_e(ye))ne++;for(;0<K-ne;)H=_e(H),K--;for(;0<ne-K;)q=_e(q),ne--;for(;K--;){if(H===q||q!==null&&H===q.alternate){_e=H;break t}H=_e(H),q=_e(q)}_e=null}else _e=null;W!==null&&D_(se,Q,W,_e,!1),pe!==null&&nt!==null&&D_(se,nt,pe,_e,!0)}}e:{if(Q=$?Sn($):window,W=Q.nodeName&&Q.nodeName.toLowerCase(),W==="select"||W==="input"&&Q.type==="file")var Ge=Qy;else if($y(Q))if(Xy)Ge=CC;else{Ge=SC;var ge=wC}else W=Q.nodeName,!W||W.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?$&&Ka($.elementType)&&(Ge=Qy):Ge=AC;if(Ge&&(Ge=Ge(i,$))){Yy(se,Ge,o,ee);break e}ge&&ge(i,Q,$),i==="focusout"&&$&&Q.type==="number"&&$.memoizedProps.value!=null&&Il(Q,"number",Q.value)}switch(ge=$?Sn($):window,i){case"focusin":($y(ge)||ge.contentEditable==="true")&&(eo=ge,Bd=$,Fl=null);break;case"focusout":Fl=Bd=eo=null;break;case"mousedown":Fd=!0;break;case"contextmenu":case"mouseup":case"dragend":Fd=!1,sv(se,o,ee);break;case"selectionchange":if(NC)break;case"keydown":case"keyup":sv(se,o,ee)}var ke;if($e)e:{switch(i){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Za?na(i,o)&&(Le="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Le="onCompositionStart");Le&&(Bi&&o.locale!=="ko"&&(Za||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Za&&(ke=Pl()):(ji=ee,Vl="value"in ji?ji.value:ji.textContent,Za=!0)),ge=qh($,Le),0<ge.length&&(Le=new zi(Le,i,null,o,ee),se.push({event:Le,listeners:ge}),ke?Le.data=ke:(ke=Ja(o),ke!==null&&(Le.data=ke)))),(ke=zn?bC(i,o):xC(i,o))&&(Le=qh($,"onBeforeInput"),0<Le.length&&(ge=new zi("onBeforeInput","beforeinput",null,o,ee),se.push({event:ge,listeners:Le}),ge.data=ke)),fR(se,i,$,o,ee)}I_(se,r)})}function du(i,r,o){return{instance:i,listener:r,currentTarget:o}}function qh(i,r){for(var o=r+"Capture",c=[];i!==null;){var m=i,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=ui(i,o),m!=null&&c.unshift(du(i,m,g)),m=ui(i,r),m!=null&&c.push(du(i,m,g))),i.tag===3)return c;i=i.return}return[]}function gR(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function D_(i,r,o,c,m){for(var g=r._reactName,x=[];o!==null&&o!==c;){var S=o,U=S.alternate,$=S.stateNode;if(S=S.tag,U!==null&&U===c)break;S!==5&&S!==26&&S!==27||$===null||(U=$,m?($=ui(o,g),$!=null&&x.unshift(du(o,$,U))):m||($=ui(o,g),$!=null&&x.push(du(o,$,U)))),o=o.return}x.length!==0&&i.push({event:r,listeners:x})}var yR=/\r\n?/g,vR=/\u0000|\uFFFD/g;function k_(i){return(typeof i=="string"?i:""+i).replace(yR,`
`).replace(vR,"")}function V_(i,r){return r=k_(r),k_(i)===r}function tt(i,r,o,c,m,g){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||yn(i,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&yn(i,""+c);break;case"className":An(i,"class",c);break;case"tabIndex":An(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":An(i,o,c);break;case"style":Dl(i,c,g);break;case"data":if(r!=="object"){An(i,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=$a(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&tt(i,r,"name",m.name,m,null),tt(i,r,"formEncType",m.formEncType,m,null),tt(i,r,"formMethod",m.formMethod,m,null),tt(i,r,"formTarget",m.formTarget,m,null)):(tt(i,r,"encType",m.encType,m,null),tt(i,r,"method",m.method,m,null),tt(i,r,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=$a(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=li);break;case"onScroll":c!=null&&Oe("scroll",i);break;case"onScrollEnd":c!=null&&Oe("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=$a(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":Oe("beforetoggle",i),Oe("toggle",i),Ha(i,"popover",c);break;case"xlinkActuate":Rt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Rt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Rt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Rt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Rt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Rt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Rt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Rt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Rt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ha(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=qc.get(o)||o,Ha(i,o,c))}}function dp(i,r,o,c,m,g){switch(o){case"style":Dl(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof c=="string"?yn(i,c):(typeof c=="number"||typeof c=="bigint")&&yn(i,""+c);break;case"onScroll":c!=null&&Oe("scroll",i);break;case"onScrollEnd":c!=null&&Oe("scrollend",i);break;case"onClick":c!=null&&(i.onclick=li);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),r=o.slice(2,m?o.length-7:void 0),g=i[qt]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,c,m);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):Ha(i,o,c)}}}function Jt(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",i),Oe("load",i);var c=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var x=o[g];if(x!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:tt(i,r,g,x,o,null)}}m&&tt(i,r,"srcSet",o.srcSet,o,null),c&&tt(i,r,"src",o.src,o,null);return;case"input":Oe("invalid",i);var S=g=x=m=null,U=null,$=null;for(c in o)if(o.hasOwnProperty(c)){var ee=o[c];if(ee!=null)switch(c){case"name":m=ee;break;case"type":x=ee;break;case"checked":U=ee;break;case"defaultChecked":$=ee;break;case"value":g=ee;break;case"defaultValue":S=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,r));break;default:tt(i,r,c,ee,o,null)}}zc(i,g,S,U,$,x,m,!1);return;case"select":Oe("invalid",i),c=x=g=null;for(m in o)if(o.hasOwnProperty(m)&&(S=o[m],S!=null))switch(m){case"value":g=S;break;case"defaultValue":x=S;break;case"multiple":c=S;default:tt(i,r,m,S,o,null)}r=g,o=x,i.multiple=!!c,r!=null?Bs(i,!!c,r,!1):o!=null&&Bs(i,!!c,o,!0);return;case"textarea":Oe("invalid",i),g=m=c=null;for(x in o)if(o.hasOwnProperty(x)&&(S=o[x],S!=null))switch(x){case"value":c=S;break;case"defaultValue":m=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:tt(i,r,x,S,o,null)}Fs(i,c,m,g);return;case"option":for(U in o)if(o.hasOwnProperty(U)&&(c=o[U],c!=null))switch(U){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:tt(i,r,U,c,o,null)}return;case"dialog":Oe("beforetoggle",i),Oe("toggle",i),Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":Oe("load",i);break;case"video":case"audio":for(c=0;c<fu.length;c++)Oe(fu[c],i);break;case"image":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"embed":case"source":case"link":Oe("error",i),Oe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in o)if(o.hasOwnProperty($)&&(c=o[$],c!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:tt(i,r,$,c,o,null)}return;default:if(Ka(r)){for(ee in o)o.hasOwnProperty(ee)&&(c=o[ee],c!==void 0&&dp(i,r,ee,c,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(c=o[S],c!=null&&tt(i,r,S,c,o,null))}function _R(i,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,x=null,S=null,U=null,$=null,ee=null;for(W in o){var se=o[W];if(o.hasOwnProperty(W)&&se!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":U=se;default:c.hasOwnProperty(W)||tt(i,r,W,null,c,se)}}for(var Q in c){var W=c[Q];if(se=o[Q],c.hasOwnProperty(Q)&&(W!=null||se!=null))switch(Q){case"type":g=W;break;case"name":m=W;break;case"checked":$=W;break;case"defaultChecked":ee=W;break;case"value":x=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:W!==se&&tt(i,r,Q,W,c,se)}}Ga(i,x,S,U,$,ee,g,m);return;case"select":W=x=S=Q=null;for(g in o)if(U=o[g],o.hasOwnProperty(g)&&U!=null)switch(g){case"value":break;case"multiple":W=U;default:c.hasOwnProperty(g)||tt(i,r,g,null,c,U)}for(m in c)if(g=c[m],U=o[m],c.hasOwnProperty(m)&&(g!=null||U!=null))switch(m){case"value":Q=g;break;case"defaultValue":S=g;break;case"multiple":x=g;default:g!==U&&tt(i,r,m,g,c,U)}r=S,o=x,c=W,Q!=null?Bs(i,!!o,Q,!1):!!c!=!!o&&(r!=null?Bs(i,!!o,r,!0):Bs(i,!!o,o?[]:"",!1));return;case"textarea":W=Q=null;for(S in o)if(m=o[S],o.hasOwnProperty(S)&&m!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:tt(i,r,S,null,c,m)}for(x in c)if(m=c[x],g=o[x],c.hasOwnProperty(x)&&(m!=null||g!=null))switch(x){case"value":Q=m;break;case"defaultValue":W=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==g&&tt(i,r,x,m,c,g)}Bc(i,Q,W);return;case"option":for(var pe in o)if(Q=o[pe],o.hasOwnProperty(pe)&&Q!=null&&!c.hasOwnProperty(pe))switch(pe){case"selected":i.selected=!1;break;default:tt(i,r,pe,null,c,Q)}for(U in c)if(Q=c[U],W=o[U],c.hasOwnProperty(U)&&Q!==W&&(Q!=null||W!=null))switch(U){case"selected":i.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:tt(i,r,U,Q,c,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in o)Q=o[_e],o.hasOwnProperty(_e)&&Q!=null&&!c.hasOwnProperty(_e)&&tt(i,r,_e,null,c,Q);for($ in c)if(Q=c[$],W=o[$],c.hasOwnProperty($)&&Q!==W&&(Q!=null||W!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:tt(i,r,$,Q,c,W)}return;default:if(Ka(r)){for(var nt in o)Q=o[nt],o.hasOwnProperty(nt)&&Q!==void 0&&!c.hasOwnProperty(nt)&&dp(i,r,nt,void 0,c,Q);for(ee in c)Q=c[ee],W=o[ee],!c.hasOwnProperty(ee)||Q===W||Q===void 0&&W===void 0||dp(i,r,ee,Q,c,W);return}}for(var H in o)Q=o[H],o.hasOwnProperty(H)&&Q!=null&&!c.hasOwnProperty(H)&&tt(i,r,H,null,c,Q);for(se in c)Q=c[se],W=o[se],!c.hasOwnProperty(se)||Q===W||Q==null&&W==null||tt(i,r,se,Q,c,W)}function P_(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bR(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var m=o[c],g=m.transferSize,x=m.initiatorType,S=m.duration;if(g&&S&&P_(x)){for(x=0,S=m.responseEnd,c+=1;c<o.length;c++){var U=o[c],$=U.startTime;if($>S)break;var ee=U.transferSize,se=U.initiatorType;ee&&P_(se)&&(U=U.responseEnd,x+=ee*(U<S?1:(S-$)/(U-$)))}if(--c,r+=8*(g+x)/(m.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var mp=null,pp=null;function Hh(i){return i.nodeType===9?i:i.ownerDocument}function O_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function j_(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function gp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var yp=null;function xR(){var i=window.event;return i&&i.type==="popstate"?i===yp?!1:(yp=i,!0):(yp=null,!1)}var L_=typeof setTimeout=="function"?setTimeout:void 0,TR=typeof clearTimeout=="function"?clearTimeout:void 0,U_=typeof Promise=="function"?Promise:void 0,ER=typeof queueMicrotask=="function"?queueMicrotask:typeof U_<"u"?function(i){return U_.resolve(null).then(i).catch(wR)}:L_;function wR(i){setTimeout(function(){throw i})}function hr(i){return i==="head"}function z_(i,r){var o=r,c=0;do{var m=o.nextSibling;if(i.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(m),Ro(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")mu(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,mu(o);for(var g=o.firstChild;g;){var x=g.nextSibling,S=g.nodeName;g[Ii]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=x}}else o==="body"&&mu(i.ownerDocument.body);o=m}while(o);Ro(r)}function B_(i,r){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function vp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":vp(o),qa(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function SR(i,r,o,c){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Ii])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=$n(i.nextSibling),i===null)break}return null}function AR(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=$n(i.nextSibling),i===null))return null;return i}function F_(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=$n(i.nextSibling),i===null))return null;return i}function _p(i){return i.data==="$?"||i.data==="$~"}function bp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function CR(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function $n(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var xp=null;function q_(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return $n(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function H_(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function G_(i,r,o){switch(r=Hh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function mu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);qa(i)}var Yn=new Map,K_=new Set;function Gh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var xs=re.d;re.d={f:RR,r:NR,D:IR,C:MR,L:DR,m:kR,X:PR,S:VR,M:OR};function RR(){var i=xs.f(),r=Oh();return i||r}function NR(i){var r=jn(i);r!==null&&r.tag===5&&r.type==="form"?u1(r):xs.r(i)}var So=typeof document>"u"?null:document;function $_(i,r,o){var c=So;if(c&&typeof r=="string"&&r){var m=gn(r);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),K_.has(m)||(K_.add(m),i={rel:i,crossOrigin:o,href:r},c.querySelector(m)===null&&(r=c.createElement("link"),Jt(r,"link",i),Ct(r),c.head.appendChild(r)))}}function IR(i){xs.D(i),$_("dns-prefetch",i,null)}function MR(i,r){xs.C(i,r),$_("preconnect",i,r)}function DR(i,r,o){xs.L(i,r,o);var c=So;if(c&&i&&r){var m='link[rel="preload"][as="'+gn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+gn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+gn(o.imageSizes)+'"]')):m+='[href="'+gn(i)+'"]';var g=m;switch(r){case"style":g=Ao(i);break;case"script":g=Co(i)}Yn.has(g)||(i=_({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Yn.set(g,i),c.querySelector(m)!==null||r==="style"&&c.querySelector(pu(g))||r==="script"&&c.querySelector(gu(g))||(r=c.createElement("link"),Jt(r,"link",i),Ct(r),c.head.appendChild(r)))}}function kR(i,r){xs.m(i,r);var o=So;if(o&&i){var c=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+gn(c)+'"][href="'+gn(i)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Co(i)}if(!Yn.has(g)&&(i=_({rel:"modulepreload",href:i},r),Yn.set(g,i),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(gu(g)))return}c=o.createElement("link"),Jt(c,"link",i),Ct(c),o.head.appendChild(c)}}}function VR(i,r,o){xs.S(i,r,o);var c=So;if(c&&i){var m=Di(c).hoistableStyles,g=Ao(i);r=r||"default";var x=m.get(g);if(!x){var S={loading:0,preload:null};if(x=c.querySelector(pu(g)))S.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Yn.get(g))&&Tp(i,o);var U=x=c.createElement("link");Ct(U),Jt(U,"link",i),U._p=new Promise(function($,ee){U.onload=$,U.onerror=ee}),U.addEventListener("load",function(){S.loading|=1}),U.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Kh(x,r,c)}x={type:"stylesheet",instance:x,count:1,state:S},m.set(g,x)}}}function PR(i,r){xs.X(i,r);var o=So;if(o&&i){var c=Di(o).hoistableScripts,m=Co(i),g=c.get(m);g||(g=o.querySelector(gu(m)),g||(i=_({src:i,async:!0},r),(r=Yn.get(m))&&Ep(i,r),g=o.createElement("script"),Ct(g),Jt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function OR(i,r){xs.M(i,r);var o=So;if(o&&i){var c=Di(o).hoistableScripts,m=Co(i),g=c.get(m);g||(g=o.querySelector(gu(m)),g||(i=_({src:i,async:!0,type:"module"},r),(r=Yn.get(m))&&Ep(i,r),g=o.createElement("script"),Ct(g),Jt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function Y_(i,r,o,c){var m=(m=De.current)?Gh(m):null;if(!m)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Ao(o.href),o=Di(m).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Ao(o.href);var g=Di(m).hoistableStyles,x=g.get(i);if(x||(m=m.ownerDocument||m,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,x),(g=m.querySelector(pu(i)))&&!g._p&&(x.instance=g,x.state.loading=5),Yn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Yn.set(i,o),g||jR(m,i,o,x.state))),r&&c===null)throw Error(s(528,""));return x}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Co(o),o=Di(m).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Ao(i){return'href="'+gn(i)+'"'}function pu(i){return'link[rel="stylesheet"]['+i+"]"}function Q_(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function jR(i,r,o,c){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=i.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),Jt(r,"link",o),Ct(r),i.head.appendChild(r))}function Co(i){return'[src="'+gn(i)+'"]'}function gu(i){return"script[async]"+i}function X_(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=i.querySelector('style[data-href~="'+gn(o.href)+'"]');if(c)return r.instance=c,Ct(c),c;var m=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Ct(c),Jt(c,"style",m),Kh(c,o.precedence,i),r.instance=c;case"stylesheet":m=Ao(o.href);var g=i.querySelector(pu(m));if(g)return r.state.loading|=4,r.instance=g,Ct(g),g;c=Q_(o),(m=Yn.get(m))&&Tp(c,m),g=(i.ownerDocument||i).createElement("link"),Ct(g);var x=g;return x._p=new Promise(function(S,U){x.onload=S,x.onerror=U}),Jt(g,"link",c),r.state.loading|=4,Kh(g,o.precedence,i),r.instance=g;case"script":return g=Co(o.src),(m=i.querySelector(gu(g)))?(r.instance=m,Ct(m),m):(c=o,(m=Yn.get(g))&&(c=_({},o),Ep(c,m)),i=i.ownerDocument||i,m=i.createElement("script"),Ct(m),Jt(m,"link",c),i.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,Kh(c,o.precedence,i));return r.instance}function Kh(i,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,x=0;x<c.length;x++){var S=c[x];if(S.dataset.precedence===r)g=S;else if(g!==m)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Tp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Ep(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var $h=null;function W_(i,r,o){if($h===null){var c=new Map,m=$h=new Map;m.set(o,c)}else m=$h,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var g=o[m];if(!(g[Ii]||g[At]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var x=g.getAttribute(r)||"";x=i+x;var S=c.get(x);S?S.push(g):c.set(x,[g])}}return c}function J_(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function LR(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Z_(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function UR(i,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=Ao(c.href),g=r.querySelector(pu(m));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Yh.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=g,Ct(g);return}g=r.ownerDocument||r,c=Q_(c),(m=Yn.get(m))&&Tp(c,m),g=g.createElement("link"),Ct(g);var x=g;x._p=new Promise(function(S,U){x.onload=S,x.onerror=U}),Jt(g,"link",c),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=Yh.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var wp=0;function zR(i,r){return i.stylesheets&&i.count===0&&Xh(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&Xh(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+r);0<i.imgBytes&&wp===0&&(wp=62500*bR());var m=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Xh(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>wp?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function Yh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Qh=null;function Xh(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Qh=new Map,r.forEach(BR,i),Qh=null,Yh.call(i))}function BR(i,r){if(!(r.state.loading&4)){var o=Qh.get(i);if(o)var c=o.get(null);else{o=new Map,Qh.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var x=m[g];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(o.set(x.dataset.precedence,x),c=x)}c&&o.set(null,c)}m=r.instance,x=m.getAttribute("data-precedence"),g=o.get(x)||c,g===c&&o.set(null,m),o.set(x,m),this.count++,c=Yh.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),r.state.loading|=4}}var yu={$$typeof:z,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function FR(i,r,o,c,m,g,x,S,U){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ri(0),this.hiddenUpdates=Ri(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function eb(i,r,o,c,m,g,x,S,U,$,ee,se){return i=new FR(i,r,o,x,U,$,ee,se,S),r=1,g===!0&&(r|=24),g=Rn(3,null,null,r),i.current=g,g.stateNode=i,r=im(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:r},om(g),i}function tb(i){return i?(i=io,i):io}function nb(i,r,o,c,m,g){m=tb(m),c.context===null?c.context=m:c.pendingContext=m,c=er(r),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=tr(i,c,r),o!==null&&(Tn(o,i,r),Ql(o,i,r))}function ib(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Sp(i,r){ib(i,r),(i=i.alternate)&&ib(i,r)}function sb(i){if(i.tag===13||i.tag===31){var r=ra(i,67108864);r!==null&&Tn(r,i,67108864),Sp(i,67108864)}}function rb(i){if(i.tag===13||i.tag===31){var r=kn();r=$r(r);var o=ra(i,r);o!==null&&Tn(o,i,r),Sp(i,r)}}var Wh=!0;function qR(i,r,o,c){var m=Y.T;Y.T=null;var g=re.p;try{re.p=2,Ap(i,r,o,c)}finally{re.p=g,Y.T=m}}function HR(i,r,o,c){var m=Y.T;Y.T=null;var g=re.p;try{re.p=8,Ap(i,r,o,c)}finally{re.p=g,Y.T=m}}function Ap(i,r,o,c){if(Wh){var m=Cp(c);if(m===null)fp(i,r,c,Jh,o),ob(i,c);else if(KR(m,i,r,o,c))c.stopPropagation();else if(ob(i,c),r&4&&-1<GR.indexOf(i)){for(;m!==null;){var g=jn(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var x=Ai(g.pendingLanes);if(x!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;x;){var U=1<<31-vt(x);S.entanglements[1]|=U,x&=~U}Gi(g),(Ye&6)===0&&(Vh=fn()+500,hu(0))}}break;case 31:case 13:S=ra(g,2),S!==null&&Tn(S,g,2),Oh(),Sp(g,2)}if(g=Cp(c),g===null&&fp(i,r,c,Jh,o),g===m)break;m=g}m!==null&&c.stopPropagation()}else fp(i,r,c,null,o)}}function Cp(i){return i=Ln(i),Rp(i)}var Jh=null;function Rp(i){if(Jh=null,i=Mi(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=u(r),i!==null)return i;i=null}else if(o===31){if(i=h(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Jh=i,null}function ab(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qr()){case bl:return 2;case xl:return 8;case Us:case Vd:return 32;case Ic:return 268435456;default:return 32}default:return 32}}var Np=!1,fr=null,dr=null,mr=null,vu=new Map,_u=new Map,pr=[],GR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ob(i,r){switch(i){case"focusin":case"focusout":fr=null;break;case"dragenter":case"dragleave":dr=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":vu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":_u.delete(r.pointerId)}}function bu(i,r,o,c,m,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},r!==null&&(r=jn(r),r!==null&&sb(r)),i):(i.eventSystemFlags|=c,r=i.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),i)}function KR(i,r,o,c,m){switch(r){case"focusin":return fr=bu(fr,i,r,o,c,m),!0;case"dragenter":return dr=bu(dr,i,r,o,c,m),!0;case"mouseover":return mr=bu(mr,i,r,o,c,m),!0;case"pointerover":var g=m.pointerId;return vu.set(g,bu(vu.get(g)||null,i,r,o,c,m)),!0;case"gotpointercapture":return g=m.pointerId,_u.set(g,bu(_u.get(g)||null,i,r,o,c,m)),!0}return!1}function lb(i){var r=Mi(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){i.blockedOn=r,ai(i.priority,function(){rb(o)});return}}else if(r===31){if(r=h(o),r!==null){i.blockedOn=r,ai(i.priority,function(){rb(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Zh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Cp(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);kl=c,o.target.dispatchEvent(c),kl=null}else return r=jn(o),r!==null&&sb(r),i.blockedOn=o,!1;r.shift()}return!0}function ub(i,r,o){Zh(i)&&o.delete(r)}function $R(){Np=!1,fr!==null&&Zh(fr)&&(fr=null),dr!==null&&Zh(dr)&&(dr=null),mr!==null&&Zh(mr)&&(mr=null),vu.forEach(ub),_u.forEach(ub)}function ef(i,r){i.blockedOn===r&&(i.blockedOn=null,Np||(Np=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,$R)))}var tf=null;function cb(i){tf!==i&&(tf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){tf===i&&(tf=null);for(var r=0;r<i.length;r+=3){var o=i[r],c=i[r+1],m=i[r+2];if(typeof c!="function"){if(Rp(c||o)===null)continue;break}var g=jn(o);g!==null&&(i.splice(r,3),r-=3,Cm(g,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function Ro(i){function r(U){return ef(U,i)}fr!==null&&ef(fr,i),dr!==null&&ef(dr,i),mr!==null&&ef(mr,i),vu.forEach(r),_u.forEach(r);for(var o=0;o<pr.length;o++){var c=pr[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<pr.length&&(o=pr[0],o.blockedOn===null);)lb(o),o.blockedOn===null&&pr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],g=o[c+1],x=m[qt]||null;if(typeof g=="function")x||cb(o);else if(x){var S=null;if(g&&g.hasAttribute("formAction")){if(m=g,x=g[qt]||null)S=x.formAction;else if(Rp(m)!==null)continue}else S=x.action;typeof S=="function"?o[c+1]=S:(o.splice(c,3),c-=3),cb(o)}}}function hb(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(x){return m=x})},focusReset:"manual",scroll:"manual"})}function r(){m!==null&&(m(),m=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),m!==null&&(m(),m=null)}}}function Ip(i){this._internalRoot=i}nf.prototype.render=Ip.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,c=kn();nb(o,c,i,r,null,null)},nf.prototype.unmount=Ip.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;nb(i.current,2,null,i,null,null),Oh(),r[Ni]=null}};function nf(i){this._internalRoot=i}nf.prototype.unstable_scheduleHydration=function(i){if(i){var r=Oc();i={blockedOn:null,target:i,priority:r};for(var o=0;o<pr.length&&r!==0&&r<pr[o].priority;o++);pr.splice(o,0,i),o===0&&lb(i)}};var fb=e.version;if(fb!=="19.2.0")throw Error(s(527,fb,"19.2.0"));re.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var YR={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sf.isDisabled&&sf.supportsFiber)try{si=sf.inject(YR),$t=sf}catch{}}return Tu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,c="",m=_1,g=b1,x=x1;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(x=r.onRecoverableError)),r=eb(i,1,!1,null,null,o,c,null,m,g,x,hb),i[Ni]=r.current,hp(i),new Ip(r)},Tu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var c=!1,m="",g=_1,x=b1,S=x1,U=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(U=o.formState)),r=eb(i,1,!0,r,o??null,c,m,U,g,x,S,hb),r.context=tb(null),o=r.current,c=kn(),c=$r(c),m=er(c),m.callback=null,tr(o,m,c),o=c,r.current.lanes=o,Gr(r,o),Gi(r),i[Ni]=r.current,hp(i),new nf(r)},Tu.version="19.2.0",Tu}var Tb;function sN(){if(Tb)return kp.exports;Tb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),kp.exports=iN(),kp.exports}var rN=sN();var Eb="popstate";function aN(t={}){function e(s,a){let{pathname:l,search:u,hash:h}=s.location;return yg("",{pathname:l,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Ku(a)}return lN(e,n,null,t)}function ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oN(){return Math.random().toString(36).substring(2,10)}function wb(t,e){return{usr:t.state,key:t.key,idx:e}}function yg(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?il(e):e,state:n,key:e&&e.key||s||oN()}}function Ku({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function il(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function lN(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,u=a.history,h="POP",f=null,p=y();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function y(){return(u.state||{idx:null}).idx}function _(){h="POP";let D=y(),O=D==null?null:D-p;p=D,f&&f({action:h,location:P.location,delta:O})}function T(D,O){h="PUSH";let B=yg(P.location,D,O);p=y()+1;let z=wb(B,p),J=P.createHref(B);try{u.pushState(z,"",J)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;a.location.assign(J)}l&&f&&f({action:h,location:P.location,delta:1})}function w(D,O){h="REPLACE";let B=yg(P.location,D,O);p=y();let z=wb(B,p),J=P.createHref(B);u.replaceState(z,"",J),l&&f&&f({action:h,location:P.location,delta:0})}function C(D){return uN(D)}let P={get action(){return h},get location(){return t(a,u)},listen(D){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(Eb,_),f=D,()=>{a.removeEventListener(Eb,_),f=null}},createHref(D){return e(a,D)},createURL:C,encodeLocation(D){let O=C(D);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:T,replace:w,go(D){return u.go(D)}};return P}function uN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ft(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Ku(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function FE(t,e,n="/"){return cN(t,e,n,!1)}function cN(t,e,n,s){let a=typeof e=="string"?il(e):e,l=Ns(a.pathname||"/",n);if(l==null)return null;let u=qE(t);hN(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let p=TN(l);h=bN(u[f],p,s)}return h}function qE(t,e=[],n=[],s="",a=!1){let l=(u,h,f=a,p)=>{let y={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&f)return;ft(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let _=As([s,y.relativePath]),T=n.concat(y);u.children&&u.children.length>0&&(ft(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),qE(u.children,e,T,_,f)),!(u.path==null&&!u.index)&&e.push({path:_,score:vN(_,u.index),routesMeta:T})};return t.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))l(u,h);else for(let f of HE(u.path))l(u,h,!0,f)}),e}function HE(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let u=HE(s.join("/")),h=[];return h.push(...u.map(f=>f===""?l:[l,f].join("/"))),a&&h.push(...u),h.map(f=>t.startsWith("/")&&f===""?"/":f)}function hN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:_N(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var fN=/^:[\w-]+$/,dN=3,mN=2,pN=1,gN=10,yN=-2,Sb=t=>t==="*";function vN(t,e){let n=t.split("/"),s=n.length;return n.some(Sb)&&(s+=yN),e&&(s+=mN),n.filter(a=>!Sb(a)).reduce((a,l)=>a+(fN.test(l)?dN:l===""?pN:gN),s)}function _N(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function bN(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",u=[];for(let h=0;h<s.length;++h){let f=s[h],p=h===s.length-1,y=l==="/"?e:e.slice(l.length)||"/",_=Pf({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},y),T=f.route;if(!_&&p&&n&&!s[s.length-1].route.index&&(_=Pf({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),u.push({params:a,pathname:As([l,_.pathname]),pathnameBase:AN(As([l,_.pathnameBase])),route:T}),_.pathnameBase!=="/"&&(l=As([l,_.pathnameBase]))}return u}function Pf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=xN(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:s.reduce((p,{paramName:y,isOptional:_},T)=>{if(y==="*"){let C=h[T]||"";u=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const w=h[T];return _&&!w?p[y]=void 0:p[y]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function xN(t,e=!1,n=!0){xi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(s.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function TN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ns(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function EN(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?il(t):t;return{pathname:n?n.startsWith("/")?n:wN(n,e):e,search:CN(s),hash:RN(a)}}function wN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function jp(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function SN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function g0(t){let e=SN(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function y0(t,e,n,s=!1){let a;typeof t=="string"?a=il(t):(a={...t},ft(!a.pathname||!a.pathname.includes("?"),jp("?","pathname","search",a)),ft(!a.pathname||!a.pathname.includes("#"),jp("#","pathname","hash",a)),ft(!a.search||!a.search.includes("#"),jp("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,h;if(u==null)h=n;else{let _=e.length-1;if(!s&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),_-=1;a.pathname=T.join("/")}h=_>=0?e[_]:"/"}let f=EN(a,h),p=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||y)&&(f.pathname+="/"),f}var As=t=>t.join("/").replace(/\/\/+/g,"/"),AN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),CN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,RN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function NN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var GE=["POST","PUT","PATCH","DELETE"];new Set(GE);var IN=["GET",...GE];new Set(IN);var sl=j.createContext(null);sl.displayName="DataRouter";var ud=j.createContext(null);ud.displayName="DataRouterState";j.createContext(!1);var KE=j.createContext({isTransitioning:!1});KE.displayName="ViewTransition";var MN=j.createContext(new Map);MN.displayName="Fetchers";var DN=j.createContext(null);DN.displayName="Await";var Ei=j.createContext(null);Ei.displayName="Navigation";var hc=j.createContext(null);hc.displayName="Location";var ni=j.createContext({outlet:null,matches:[],isDataRoute:!1});ni.displayName="Route";var v0=j.createContext(null);v0.displayName="RouteError";function kN(t,{relative:e}={}){ft(rl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=j.useContext(Ei),{hash:a,pathname:l,search:u}=fc(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:As([n,l])),s.createHref({pathname:h,search:u,hash:a})}function rl(){return j.useContext(hc)!=null}function Lr(){return ft(rl(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(hc).location}var $E="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function YE(t){j.useContext(Ei).static||j.useLayoutEffect(t)}function ts(){let{isDataRoute:t}=j.useContext(ni);return t?QN():VN()}function VN(){ft(rl(),"useNavigate() may be used only in the context of a <Router> component.");let t=j.useContext(sl),{basename:e,navigator:n}=j.useContext(Ei),{matches:s}=j.useContext(ni),{pathname:a}=Lr(),l=JSON.stringify(g0(s)),u=j.useRef(!1);return YE(()=>{u.current=!0}),j.useCallback((f,p={})=>{if(xi(u.current,$E),!u.current)return;if(typeof f=="number"){n.go(f);return}let y=y0(f,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:As([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,l,a,t])}var PN=j.createContext(null);function ON(t){let e=j.useContext(ni).outlet;return j.useMemo(()=>e&&j.createElement(PN.Provider,{value:t},e),[e,t])}function jN(){let{matches:t}=j.useContext(ni),e=t[t.length-1];return e?e.params:{}}function fc(t,{relative:e}={}){let{matches:n}=j.useContext(ni),{pathname:s}=Lr(),a=JSON.stringify(g0(n));return j.useMemo(()=>y0(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function LN(t,e){return QE(t,e)}function QE(t,e,n,s,a){ft(rl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=j.useContext(Ei),{matches:u}=j.useContext(ni),h=u[u.length-1],f=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",_=h&&h.route;{let B=_&&_.path||"";XE(p,!_||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let T=Lr(),w;if(e){let B=typeof e=="string"?il(e):e;ft(y==="/"||B.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${B.pathname}" was given in the \`location\` prop.`),w=B}else w=T;let C=w.pathname||"/",P=C;if(y!=="/"){let B=y.replace(/^\//,"").split("/");P="/"+C.replace(/^\//,"").split("/").slice(B.length).join("/")}let D=FE(t,{pathname:P});xi(_||D!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),xi(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=qN(D&&D.map(B=>Object.assign({},B,{params:Object.assign({},f,B.params),pathname:As([y,l.encodeLocation?l.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?y:As([y,l.encodeLocation?l.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),u,n,s,a);return e&&O?j.createElement(hc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},O):O}function UN(){let t=YN(),e=NN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:l},"ErrorBoundary")," or"," ",j.createElement("code",{style:l},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:a},n):null,u)}var zN=j.createElement(UN,null),BN=class extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?j.createElement(ni.Provider,{value:this.props.routeContext},j.createElement(v0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function FN({routeContext:t,match:e,children:n}){let s=j.useContext(sl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(ni.Provider,{value:t},n)}function qN(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let p=l.findIndex(y=>y.route.id&&u?.[y.route.id]!==void 0);ft(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let h=!1,f=-1;if(n)for(let p=0;p<l.length;p++){let y=l[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=p),y.route.id){let{loaderData:_,errors:T}=n,w=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!T||T[y.route.id]===void 0);if(y.route.lazy||w){h=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((p,y,_)=>{let T,w=!1,C=null,P=null;n&&(T=u&&y.route.id?u[y.route.id]:void 0,C=y.route.errorElement||zN,h&&(f<0&&_===0?(XE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,P=null):f===_&&(w=!0,P=y.route.hydrateFallbackElement||null)));let D=e.concat(l.slice(0,_+1)),O=()=>{let B;return T?B=C:w?B=P:y.route.Component?B=j.createElement(y.route.Component,null):y.route.element?B=y.route.element:B=p,j.createElement(FN,{match:y,routeContext:{outlet:p,matches:D,isDataRoute:n!=null},children:B})};return n&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?j.createElement(BN,{location:n.location,revalidation:n.revalidation,component:C,error:T,children:O(),routeContext:{outlet:null,matches:D,isDataRoute:!0},unstable_onError:s}):O()},null)}function _0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HN(t){let e=j.useContext(sl);return ft(e,_0(t)),e}function GN(t){let e=j.useContext(ud);return ft(e,_0(t)),e}function KN(t){let e=j.useContext(ni);return ft(e,_0(t)),e}function b0(t){let e=KN(t),n=e.matches[e.matches.length-1];return ft(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function $N(){return b0("useRouteId")}function YN(){let t=j.useContext(v0),e=GN("useRouteError"),n=b0("useRouteError");return t!==void 0?t:e.errors?.[n]}function QN(){let{router:t}=HN("useNavigate"),e=b0("useNavigate"),n=j.useRef(!1);return YE(()=>{n.current=!0}),j.useCallback(async(a,l={})=>{xi(n.current,$E),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var Ab={};function XE(t,e,n){!e&&!Ab[t]&&(Ab[t]=!0,xi(!1,n))}j.memo(XN);function XN({routes:t,future:e,state:n,unstable_onError:s}){return QE(t,void 0,n,s,e)}function WE({to:t,replace:e,state:n,relative:s}){ft(rl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=j.useContext(Ei);xi(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=j.useContext(ni),{pathname:u}=Lr(),h=ts(),f=y0(t,g0(l),u,s==="path"),p=JSON.stringify(f);return j.useEffect(()=>{h(JSON.parse(p),{replace:e,state:n,relative:s})},[h,p,s,e,n]),null}function JE(t){return ON(t.context)}function Vn(t){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function WN({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1}){ft(!rl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),h=j.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof n=="string"&&(n=il(n));let{pathname:f="/",search:p="",hash:y="",state:_=null,key:T="default"}=n,w=j.useMemo(()=>{let C=Ns(f,u);return C==null?null:{location:{pathname:C,search:p,hash:y,state:_,key:T},navigationType:s}},[u,f,p,y,_,T,s]);return xi(w!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:j.createElement(Ei.Provider,{value:h},j.createElement(hc.Provider,{children:e,value:w}))}function JN({children:t,location:e}){return LN(vg(t),e)}function vg(t,e=[]){let n=[];return j.Children.forEach(t,(s,a)=>{if(!j.isValidElement(s))return;let l=[...e,a];if(s.type===j.Fragment){n.push.apply(n,vg(s.props.children,l));return}ft(s.type===Vn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=vg(s.props.children,l)),n.push(u)}),n}var _f="get",bf="application/x-www-form-urlencoded";function cd(t){return t!=null&&typeof t.tagName=="string"}function ZN(t){return cd(t)&&t.tagName.toLowerCase()==="button"}function eI(t){return cd(t)&&t.tagName.toLowerCase()==="form"}function tI(t){return cd(t)&&t.tagName.toLowerCase()==="input"}function nI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function iI(t,e){return t.button===0&&(!e||e==="_self")&&!nI(t)}var rf=null;function sI(){if(rf===null)try{new FormData(document.createElement("form"),0),rf=!1}catch{rf=!0}return rf}var rI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lp(t){return t!=null&&!rI.has(t)?(xi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bf}"`),null):t}function aI(t,e){let n,s,a,l,u;if(eI(t)){let h=t.getAttribute("action");s=h?Ns(h,e):null,n=t.getAttribute("method")||_f,a=Lp(t.getAttribute("enctype"))||bf,l=new FormData(t)}else if(ZN(t)||tI(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||h.getAttribute("action");if(s=f?Ns(f,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||_f,a=Lp(t.getAttribute("formenctype"))||Lp(h.getAttribute("enctype"))||bf,l=new FormData(h,t),!sI()){let{name:p,type:y,value:_}=t;if(y==="image"){let T=p?`${p}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else p&&l.append(p,_)}}else{if(cd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=_f,s=null,a=bf,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function x0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function oI(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Ns(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function lI(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function cI(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await lI(l,n);return u.links?u.links():[]}return[]}));return mI(s.flat(1).filter(uI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Cb(t,e,n,s,a,l){let u=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,h=(f,p)=>n[p].pathname!==f.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==f.params["*"];return l==="assets"?e.filter((f,p)=>u(f,p)||h(f,p)):l==="data"?e.filter((f,p)=>{let y=s.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(u(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function hI(t,e,{includeHydrateFallback:n}={}){return fI(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function fI(t){return[...new Set(t)]}function dI(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function mI(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(dI(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function ZE(){let t=j.useContext(sl);return x0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function pI(){let t=j.useContext(ud);return x0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var T0=j.createContext(void 0);T0.displayName="FrameworkContext";function e2(){let t=j.useContext(T0);return x0(t,"You must render this element inside a <HydratedRouter> element"),t}function gI(t,e){let n=j.useContext(T0),[s,a]=j.useState(!1),[l,u]=j.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=e,T=j.useRef(null);j.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let P=O=>{O.forEach(B=>{u(B.isIntersecting)})},D=new IntersectionObserver(P,{threshold:.5});return T.current&&D.observe(T.current),()=>{D.disconnect()}}},[t]),j.useEffect(()=>{if(s){let P=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(P)}}},[s]);let w=()=>{a(!0)},C=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,T,{}]:[l,T,{onFocus:Eu(h,w),onBlur:Eu(f,C),onMouseEnter:Eu(p,w),onMouseLeave:Eu(y,C),onTouchStart:Eu(_,w)}]:[!1,T,{}]}function Eu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function yI({page:t,...e}){let{router:n}=ZE(),s=j.useMemo(()=>FE(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?j.createElement(_I,{page:t,matches:s,...e}):null}function vI(t){let{manifest:e,routeModules:n}=e2(),[s,a]=j.useState([]);return j.useEffect(()=>{let l=!1;return cI(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),s}function _I({page:t,matches:e,...n}){let s=Lr(),{manifest:a,routeModules:l}=e2(),{basename:u}=ZE(),{loaderData:h,matches:f}=pI(),p=j.useMemo(()=>Cb(t,e,f,a,s,"data"),[t,e,f,a,s]),y=j.useMemo(()=>Cb(t,e,f,a,s,"assets"),[t,e,f,a,s]),_=j.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let C=new Set,P=!1;if(e.forEach(O=>{let B=a.routes[O.route.id];!B||!B.hasLoader||(!p.some(z=>z.route.id===O.route.id)&&O.route.id in h&&l[O.route.id]?.shouldRevalidate||B.hasClientLoader?P=!0:C.add(O.route.id))}),C.size===0)return[];let D=oI(t,u,"data");return P&&C.size>0&&D.searchParams.set("_routes",e.filter(O=>C.has(O.route.id)).map(O=>O.route.id).join(",")),[D.pathname+D.search]},[u,h,s,a,p,e,t,l]),T=j.useMemo(()=>hI(y,a),[y,a]),w=vI(y);return j.createElement(j.Fragment,null,_.map(C=>j.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),T.map(C=>j.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),w.map(({key:C,link:P})=>j.createElement("link",{key:C,nonce:n.nonce,...P})))}function bI(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var t2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{t2&&(window.__reactRouterVersion="7.9.5")}catch{}function xI({basename:t,children:e,window:n}){let s=j.useRef();s.current==null&&(s.current=aN({window:n,v5Compat:!0}));let a=s.current,[l,u]=j.useState({action:a.action,location:a.location}),h=j.useCallback(f=>{j.startTransition(()=>u(f))},[u]);return j.useLayoutEffect(()=>a.listen(h),[a,h]),j.createElement(WN,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var n2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ln=j.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:u,state:h,target:f,to:p,preventScrollReset:y,viewTransition:_,...T},w){let{basename:C}=j.useContext(Ei),P=typeof p=="string"&&n2.test(p),D,O=!1;if(typeof p=="string"&&P&&(D=p,t2))try{let V=new URL(window.location.href),R=p.startsWith("//")?new URL(V.protocol+p):new URL(p),M=Ns(R.pathname,C);R.origin===V.origin&&M!=null?p=M+R.search+R.hash:O=!0}catch{xi(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=kN(p,{relative:a}),[z,J,Z]=gI(s,T),te=SI(p,{replace:u,state:h,target:f,preventScrollReset:y,relative:a,viewTransition:_});function I(V){e&&e(V),V.defaultPrevented||te(V)}let A=j.createElement("a",{...T,...Z,href:D||B,onClick:O||l?e:I,ref:bI(w,J),target:f,"data-discover":!P&&n==="render"?"true":void 0});return z&&!P?j.createElement(j.Fragment,null,A,j.createElement(yI,{page:B})):A});ln.displayName="Link";var TI=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:h,children:f,...p},y){let _=fc(u,{relative:p.relative}),T=Lr(),w=j.useContext(ud),{navigator:C,basename:P}=j.useContext(Ei),D=w!=null&&II(_)&&h===!0,O=C.encodeLocation?C.encodeLocation(_).pathname:_.pathname,B=T.pathname,z=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(B=B.toLowerCase(),z=z?z.toLowerCase():null,O=O.toLowerCase()),z&&P&&(z=Ns(z,P)||z);const J=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let Z=B===O||!a&&B.startsWith(O)&&B.charAt(J)==="/",te=z!=null&&(z===O||!a&&z.startsWith(O)&&z.charAt(O.length)==="/"),I={isActive:Z,isPending:te,isTransitioning:D},A=Z?e:void 0,V;typeof s=="function"?V=s(I):V=[s,Z?"active":null,te?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let R=typeof l=="function"?l(I):l;return j.createElement(ln,{...p,"aria-current":A,className:V,ref:y,style:R,to:u,viewTransition:h},typeof f=="function"?f(I):f)});TI.displayName="NavLink";var EI=j.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:u=_f,action:h,onSubmit:f,relative:p,preventScrollReset:y,viewTransition:_,...T},w)=>{let C=RI(),P=NI(h,{relative:p}),D=u.toLowerCase()==="get"?"get":"post",O=typeof h=="string"&&n2.test(h),B=z=>{if(f&&f(z),z.defaultPrevented)return;z.preventDefault();let J=z.nativeEvent.submitter,Z=J?.getAttribute("formmethod")||u;C(J||z.currentTarget,{fetcherKey:e,method:Z,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:_})};return j.createElement("form",{ref:w,method:D,action:P,onSubmit:s?f:B,...T,"data-discover":!O&&t==="render"?"true":void 0})});EI.displayName="Form";function wI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function i2(t){let e=j.useContext(sl);return ft(e,wI(t)),e}function SI(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:u}={}){let h=ts(),f=Lr(),p=fc(t,{relative:l});return j.useCallback(y=>{if(iI(y,e)){y.preventDefault();let _=n!==void 0?n:Ku(f)===Ku(p);h(t,{replace:_,state:s,preventScrollReset:a,relative:l,viewTransition:u})}},[f,h,p,n,s,e,t,a,l,u])}var AI=0,CI=()=>`__${String(++AI)}__`;function RI(){let{router:t}=i2("useSubmit"),{basename:e}=j.useContext(Ei),n=$N();return j.useCallback(async(s,a={})=>{let{action:l,method:u,encType:h,formData:f,body:p}=aI(s,e);if(a.navigate===!1){let y=a.fetcherKey||CI();await t.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function NI(t,{relative:e}={}){let{basename:n}=j.useContext(Ei),s=j.useContext(ni);ft(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...fc(t||".",{relative:e})},u=Lr();if(t==null){l.search=u.search;let h=new URLSearchParams(l.search),f=h.getAll("index");if(f.some(y=>y==="")){h.delete("index"),f.filter(_=>_).forEach(_=>h.append("index",_));let y=h.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:As([n,l.pathname])),Ku(l)}function II(t,{relative:e}={}){let n=j.useContext(KE);ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=i2("useViewTransitionState"),a=fc(t,{relative:e});if(!n.isTransitioning)return!1;let l=Ns(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=Ns(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Pf(a.pathname,u)!=null||Pf(a.pathname,l)!=null}const MI=()=>{};var Rb={};const s2=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},DI=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],h=t[n++],f=((a&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(f>>10)),e[s++]=String.fromCharCode(56320+(f&1023))}else{const l=t[n++],u=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},r2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,h=u?t[a+1]:0,f=a+2<t.length,p=f?t[a+2]:0,y=l>>2,_=(l&3)<<4|h>>4;let T=(h&15)<<2|p>>6,w=p&63;f||(w=64,u||(T=64)),s.push(n[y],n[_],n[T],n[w])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):DI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||p==null||_==null)throw new kI;const T=l<<2|h>>4;if(s.push(T),p!==64){const w=h<<4&240|p>>2;if(s.push(w),_!==64){const C=p<<6&192|_;s.push(C)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class kI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VI=function(t){const e=s2(t);return r2.encodeByteArray(e,!0)},Of=function(t){return VI(t).replace(/\./g,"")},a2=function(t){try{return r2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function PI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const OI=()=>PI().__FIREBASE_DEFAULTS__,jI=()=>{if(typeof process>"u"||typeof Rb>"u")return;const t=Rb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},LI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&a2(t[1]);return e&&JSON.parse(e)},hd=()=>{try{return MI()||OI()||jI()||LI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},o2=t=>hd()?.emulatorHosts?.[t],UI=t=>{const e=o2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},l2=()=>hd()?.config,u2=t=>hd()?.[`_${t}`];class zI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function al(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function c2(t){return(await fetch(t,{credentials:"include"})).ok}function BI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Of(JSON.stringify(n)),Of(JSON.stringify(u)),""].join(".")}const Vu={};function FI(){const t={prod:[],emulator:[]};for(const e of Object.keys(Vu))Vu[e]?t.emulator.push(e):t.prod.push(e);return t}function qI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Nb=!1;function h2(t,e){if(typeof window>"u"||typeof document>"u"||!al(window.location.host)||Vu[t]===e||Vu[t]||Nb)return;Vu[t]=e;function n(T){return`__firebase__banner__${T}`}const s="__firebase__banner",l=FI().prod.length>0;function u(){const T=document.getElementById(s);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function f(T,w){T.setAttribute("width","24"),T.setAttribute("id",w),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function p(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Nb=!0,u()},T}function y(T,w){T.setAttribute("id",w),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function _(){const T=qI(s),w=n("text"),C=document.getElementById(w)||document.createElement("span"),P=n("learnmore"),D=document.getElementById(P)||document.createElement("a"),O=n("preprendIcon"),B=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const z=T.element;h(z),y(D,P);const J=p();f(B,O),z.append(B,C,D,J),document.body.appendChild(z)}l?(C.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function GI(){const t=hd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $I(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function YI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QI(){const t=hn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function XI(){return!GI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WI(){try{return typeof indexedDB=="object"}catch{return!1}}function JI(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const ZI="FirebaseError";class Os extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=ZI,Object.setPrototypeOf(this,Os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dc.prototype.create)}}class dc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?e4(l,s):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new Os(a,h,s)}}function e4(t,e){return t.replace(t4,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const t4=/\{\$([^}]+)}/g;function n4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ra(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],u=e[a];if(Ib(l)&&Ib(u)){if(!Ra(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Ib(t){return t!==null&&typeof t=="object"}function mc(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Cu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Ru(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function i4(t,e){const n=new s4(t,e);return n.subscribe.bind(n)}class s4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");r4(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=Up),a.error===void 0&&(a.error=Up),a.complete===void 0&&(a.complete=Up);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function r4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Up(){}function nn(t){return t&&t._delegate?t._delegate:t}class Na{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const _a="[DEFAULT]";class a4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new zI;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(l4(e))try{this.getOrInitializeService({instanceIdentifier:_a})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=_a){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_a){return this.instances.has(e)}getOptions(e=_a){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);s===h&&u.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:o4(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=_a){return this.component?this.component.multipleInstances?e:_a:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function o4(t){return t===_a?void 0:t}function l4(t){return t.instantiationMode==="EAGER"}class u4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new a4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ue||(Ue={}));const c4={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},h4=Ue.INFO,f4={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},d4=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=f4[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class E0{constructor(e){this.name=e,this._logLevel=h4,this._logHandler=d4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?c4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const m4=(t,e)=>e.some(n=>t instanceof n);let Mb,Db;function p4(){return Mb||(Mb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function g4(){return Db||(Db=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const f2=new WeakMap,_g=new WeakMap,d2=new WeakMap,zp=new WeakMap,w0=new WeakMap;function y4(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Er(t.result)),a()},u=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&f2.set(n,t)}).catch(()=>{}),w0.set(e,t),e}function v4(t){if(_g.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});_g.set(t,e)}let bg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _g.get(t);if(e==="objectStoreNames")return t.objectStoreNames||d2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Er(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _4(t){bg=t(bg)}function b4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Bp(this),e,...n);return d2.set(s,e.sort?e.sort():[e]),Er(s)}:g4().includes(t)?function(...e){return t.apply(Bp(this),e),Er(f2.get(this))}:function(...e){return Er(t.apply(Bp(this),e))}}function x4(t){return typeof t=="function"?b4(t):(t instanceof IDBTransaction&&v4(t),m4(t,p4())?new Proxy(t,bg):t)}function Er(t){if(t instanceof IDBRequest)return y4(t);if(zp.has(t))return zp.get(t);const e=x4(t);return e!==t&&(zp.set(t,e),w0.set(e,t)),e}const Bp=t=>w0.get(t);function T4(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),h=Er(u);return s&&u.addEventListener("upgradeneeded",f=>{s(Er(u.result),f.oldVersion,f.newVersion,Er(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{l&&f.addEventListener("close",()=>l()),a&&f.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const E4=["get","getKey","getAll","getAllKeys","count"],w4=["put","add","delete","clear"],Fp=new Map;function kb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fp.get(e))return Fp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=w4.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||E4.includes(n)))return;const l=async function(u,...h){const f=this.transaction(u,a?"readwrite":"readonly");let p=f.store;return s&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),a&&f.done]))[0]};return Fp.set(e,l),l}_4(t=>({...t,get:(e,n,s)=>kb(e,n)||t.get(e,n,s),has:(e,n)=>!!kb(e,n)||t.has(e,n)}));class S4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(A4(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function A4(t){return t.getComponent()?.type==="VERSION"}const xg="@firebase/app",Vb="0.14.6";const Is=new E0("@firebase/app"),C4="@firebase/app-compat",R4="@firebase/analytics-compat",N4="@firebase/analytics",I4="@firebase/app-check-compat",M4="@firebase/app-check",D4="@firebase/auth",k4="@firebase/auth-compat",V4="@firebase/database",P4="@firebase/data-connect",O4="@firebase/database-compat",j4="@firebase/functions",L4="@firebase/functions-compat",U4="@firebase/installations",z4="@firebase/installations-compat",B4="@firebase/messaging",F4="@firebase/messaging-compat",q4="@firebase/performance",H4="@firebase/performance-compat",G4="@firebase/remote-config",K4="@firebase/remote-config-compat",$4="@firebase/storage",Y4="@firebase/storage-compat",Q4="@firebase/firestore",X4="@firebase/ai",W4="@firebase/firestore-compat",J4="firebase",Z4="12.6.0";const Tg="[DEFAULT]",e3={[xg]:"fire-core",[C4]:"fire-core-compat",[N4]:"fire-analytics",[R4]:"fire-analytics-compat",[M4]:"fire-app-check",[I4]:"fire-app-check-compat",[D4]:"fire-auth",[k4]:"fire-auth-compat",[V4]:"fire-rtdb",[P4]:"fire-data-connect",[O4]:"fire-rtdb-compat",[j4]:"fire-fn",[L4]:"fire-fn-compat",[U4]:"fire-iid",[z4]:"fire-iid-compat",[B4]:"fire-fcm",[F4]:"fire-fcm-compat",[q4]:"fire-perf",[H4]:"fire-perf-compat",[G4]:"fire-rc",[K4]:"fire-rc-compat",[$4]:"fire-gcs",[Y4]:"fire-gcs-compat",[Q4]:"fire-fst",[W4]:"fire-fst-compat",[X4]:"fire-vertex","fire-js":"fire-js",[J4]:"fire-js-all"};const jf=new Map,t3=new Map,Eg=new Map;function Pb(t,e){try{t.container.addComponent(e)}catch(n){Is.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ko(t){const e=t.name;if(Eg.has(e))return Is.debug(`There were multiple attempts to register component ${e}.`),!1;Eg.set(e,t);for(const n of jf.values())Pb(n,t);for(const n of t3.values())Pb(n,t);return!0}function S0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Pn(t){return t==null?!1:t.settings!==void 0}const n3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wr=new dc("app","Firebase",n3);class i3{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Na("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wr.create("app-deleted",{appName:this._name})}}const ol=Z4;function m2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:Tg,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw wr.create("bad-app-name",{appName:String(a)});if(n||(n=l2()),!n)throw wr.create("no-options");const l=jf.get(a);if(l){if(Ra(n,l.options)&&Ra(s,l.config))return l;throw wr.create("duplicate-app",{appName:a})}const u=new u4(a);for(const f of Eg.values())u.addComponent(f);const h=new i3(n,s,u);return jf.set(a,h),h}function p2(t=Tg){const e=jf.get(t);if(!e&&t===Tg&&l2())return m2();if(!e)throw wr.create("no-app",{appName:t});return e}function Sr(t,e,n){let s=e3[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Is.warn(u.join(" "));return}Ko(new Na(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const s3="firebase-heartbeat-database",r3=1,$u="firebase-heartbeat-store";let qp=null;function g2(){return qp||(qp=T4(s3,r3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($u)}catch(n){console.warn(n)}}}}).catch(t=>{throw wr.create("idb-open",{originalErrorMessage:t.message})})),qp}async function a3(t){try{const n=(await g2()).transaction($u),s=await n.objectStore($u).get(y2(t));return await n.done,s}catch(e){if(e instanceof Os)Is.warn(e.message);else{const n=wr.create("idb-get",{originalErrorMessage:e?.message});Is.warn(n.message)}}}async function Ob(t,e){try{const s=(await g2()).transaction($u,"readwrite");await s.objectStore($u).put(e,y2(t)),await s.done}catch(n){if(n instanceof Os)Is.warn(n.message);else{const s=wr.create("idb-set",{originalErrorMessage:n?.message});Is.warn(s.message)}}}function y2(t){return`${t.name}!${t.options.appId}`}const o3=1024,l3=30;class u3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new h3(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=jb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>l3){const a=f3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Is.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=jb(),{heartbeatsToSend:n,unsentEntries:s}=c3(this._heartbeatsCache.heartbeats),a=Of(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Is.warn(e),""}}}function jb(){return new Date().toISOString().substring(0,10)}function c3(t,e=o3){const n=[];let s=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),Lb(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Lb(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class h3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WI()?JI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await a3(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Ob(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Ob(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Lb(t){return Of(JSON.stringify({version:2,heartbeats:t})).length}function f3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function d3(t){Ko(new Na("platform-logger",e=>new S4(e),"PRIVATE")),Ko(new Na("heartbeat",e=>new u3(e),"PRIVATE")),Sr(xg,Vb,t),Sr(xg,Vb,"esm2020"),Sr("fire-js","")}d3("");function v2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const m3=v2,_2=new dc("auth","Firebase",v2());const Lf=new E0("@firebase/auth");function p3(t,...e){Lf.logLevel<=Ue.WARN&&Lf.warn(`Auth (${ol}): ${t}`,...e)}function xf(t,...e){Lf.logLevel<=Ue.ERROR&&Lf.error(`Auth (${ol}): ${t}`,...e)}function ti(t,...e){throw C0(t,...e)}function bi(t,...e){return C0(t,...e)}function A0(t,e,n){const s={...m3(),[e]:n};return new dc("auth","Firebase",s).create(e,{appName:t.name})}function Cs(t){return A0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function g3(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&ti(t,"argument-error"),A0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function C0(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return _2.create(t,...e)}function xe(t,e,...n){if(!t)throw C0(e,...n)}function Es(t){const e="INTERNAL ASSERTION FAILED: "+t;throw xf(e),new Error(e)}function Ms(t,e){t||Es(e)}function wg(){return typeof self<"u"&&self.location?.href||""}function y3(){return Ub()==="http:"||Ub()==="https:"}function Ub(){return typeof self<"u"&&self.location?.protocol||null}function v3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(y3()||$I()||"connection"in navigator)?navigator.onLine:!0}function _3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class pc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ms(n>e,"Short delay should be less than long delay!"),this.isMobile=HI()||YI()}get(){return v3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function R0(t,e){Ms(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class b2{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const b3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const x3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],T3=new pc(3e4,6e4);function js(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ns(t,e,n,s,a={}){return x2(t,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const h=mc({key:t.config.apiKey,...u}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:f,...l};return KI()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&al(t.emulatorConfig.host)&&(p.credentials="include"),b2.fetch()(await T2(t,t.config.apiHost,n,h),p)})}async function x2(t,e,n){t._canInitEmulator=!1;const s={...b3,...e};try{const a=new w3(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw af(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw af(t,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw af(t,"email-already-in-use",u);if(f==="USER_DISABLED")throw af(t,"user-disabled",u);const y=s[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw A0(t,y,p);ti(t,y)}}catch(a){if(a instanceof Os)throw a;ti(t,"network-request-failed",{message:String(a)})}}async function gc(t,e,n,s,a={}){const l=await ns(t,e,n,s,a);return"mfaPendingCredential"in l&&ti(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function T2(t,e,n,s){const a=`${e}${n}?${s}`,l=t,u=l.config.emulator?R0(t.config,a):`${t.config.apiScheme}://${a}`;return x3.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function E3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class w3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(bi(this.auth,"network-request-failed")),T3.get())})}}function af(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=bi(t,e,s);return a.customData._tokenResponse=n,a}function zb(t){return t!==void 0&&t.enterprise!==void 0}class S3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return E3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function A3(t,e){return ns(t,"GET","/v2/recaptchaConfig",js(t,e))}async function C3(t,e){return ns(t,"POST","/v1/accounts:delete",e)}async function Uf(t,e){return ns(t,"POST","/v1/accounts:lookup",e)}function Pu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function R3(t,e=!1){const n=nn(t),s=await n.getIdToken(e),a=N0(s);xe(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:s,authTime:Pu(Hp(a.auth_time)),issuedAtTime:Pu(Hp(a.iat)),expirationTime:Pu(Hp(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Hp(t){return Number(t)*1e3}function N0(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return xf("JWT malformed, contained fewer than 3 sections"),null;try{const a=a2(n);return a?JSON.parse(a):(xf("Failed to decode base64 JWT payload"),null)}catch(a){return xf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Bb(t){const e=N0(t);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function $o(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Os&&N3(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function N3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class I3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Sg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pu(this.lastLoginAt),this.creationTime=Pu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function zf(t){const e=t.auth,n=await t.getIdToken(),s=await $o(t,Uf(e,{idToken:n}));xe(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?E2(a.providerUserInfo):[],u=D3(t.providerData,l),h=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!u?.length,p=h?f:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Sg(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function M3(t){const e=nn(t);await zf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function D3(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function E2(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function k3(t,e){const n=await x2(t,{},async()=>{const s=mc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await T2(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:s};return t.emulatorConfig&&al(t.emulatorConfig.host)&&(f.credentials="include"),b2.fetch()(u,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function V3(t,e){return ns(t,"POST","/v2/accounts:revokeToken",js(t,e))}class Lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Bb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const n=Bb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await k3(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,u=new Lo;return s&&(xe(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(xe(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(xe(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Lo,this.toJSON())}_performRefresh(){return Es("not implemented")}}function yr(t,e){xe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class vi{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new I3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Sg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await $o(this,this.stsTokenManager.getToken(this.auth,e));return xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return R3(this,e)}reload(){return M3(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new vi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await zf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(Cs(this.auth));const e=await this.getIdToken();return await $o(this,C3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,h=n.tenantId??void 0,f=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:_,emailVerified:T,isAnonymous:w,providerData:C,stsTokenManager:P}=n;xe(_&&P,e,"internal-error");const D=Lo.fromJSON(this.name,P);xe(typeof _=="string",e,"internal-error"),yr(s,e.name),yr(a,e.name),xe(typeof T=="boolean",e,"internal-error"),xe(typeof w=="boolean",e,"internal-error"),yr(l,e.name),yr(u,e.name),yr(h,e.name),yr(f,e.name),yr(p,e.name),yr(y,e.name);const O=new vi({uid:_,auth:e,email:a,emailVerified:T,displayName:s,isAnonymous:w,photoURL:u,phoneNumber:l,tenantId:h,stsTokenManager:D,createdAt:p,lastLoginAt:y});return C&&Array.isArray(C)&&(O.providerData=C.map(B=>({...B}))),f&&(O._redirectEventId=f),O}static async _fromIdTokenResponse(e,n,s=!1){const a=new Lo;a.updateFromServerResponse(n);const l=new vi({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await zf(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];xe(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?E2(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,h=new Lo;h.updateFromIdToken(s);const f=new vi({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Sg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(f,p),f}}const Fb=new Map;function ws(t){Ms(t instanceof Function,"Expected a class definition");let e=Fb.get(t);return e?(Ms(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Fb.set(t,e),e)}class w2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}w2.type="NONE";const qb=w2;function Tf(t,e,n){return`firebase:${t}:${e}:${n}`}class Uo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Tf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Tf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Uf(this.auth,{idToken:e}).catch(()=>{});return n?vi._fromGetAccountInfoResponse(this.auth,n,e):null}return vi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Uo(ws(qb),e,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||ws(qb);const u=Tf(s,e.config.apiKey,e.name);let h=null;for(const p of n)try{const y=await p._get(u);if(y){let _;if(typeof y=="string"){const T=await Uf(e,{idToken:y}).catch(()=>{});if(!T)break;_=await vi._fromGetAccountInfoResponse(e,T,y)}else _=vi._fromJSON(e,y);p!==l&&(h=_),l=p;break}}catch{}const f=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!f.length?new Uo(l,e,s):(l=f[0],h&&await l._set(u,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new Uo(l,e,s))}}function Hb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(R2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(S2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(I2(e))return"Blackberry";if(M2(e))return"Webos";if(A2(e))return"Safari";if((e.includes("chrome/")||C2(e))&&!e.includes("edge/"))return"Chrome";if(N2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function S2(t=hn()){return/firefox\//i.test(t)}function A2(t=hn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function C2(t=hn()){return/crios\//i.test(t)}function R2(t=hn()){return/iemobile/i.test(t)}function N2(t=hn()){return/android/i.test(t)}function I2(t=hn()){return/blackberry/i.test(t)}function M2(t=hn()){return/webos/i.test(t)}function I0(t=hn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function P3(t=hn()){return I0(t)&&!!window.navigator?.standalone}function O3(){return QI()&&document.documentMode===10}function D2(t=hn()){return I0(t)||N2(t)||M2(t)||I2(t)||/windows phone/i.test(t)||R2(t)}function k2(t,e=[]){let n;switch(t){case"Browser":n=Hb(hn());break;case"Worker":n=`${Hb(hn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ol}/${s}`}class j3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((u,h)=>{try{const f=e(l);u(f)}catch(f){h(f)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function L3(t,e={}){return ns(t,"GET","/v2/passwordPolicy",js(t,e))}const U3=6;class z3{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??U3,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class B3{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gb(this),this.idTokenSubscription=new Gb(this),this.beforeStateQueue=new j3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ws(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Uo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Uf(this,{idToken:e}),s=await vi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Pn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=s?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&h?.user&&(s=h.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await zf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pn(this.app))return Promise.reject(Cs(this));const n=e?nn(e):null;return n&&xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(Cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pn(this.app)?Promise.reject(Cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ws(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await L3(this),n=new z3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new dc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await V3(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ws(e)||this._popupRedirectResolver;xe(n,this,"argument-error"),this.redirectPersistenceManager=await Uo.create(this,[ws(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,s,a);return()=>{u=!0,f()}}else{const f=e.addObserver(n);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=k2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&p3(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ur(t){return nn(t)}class Gb{constructor(e){this.auth=e,this.observer=null,this.addObserver=i4(n=>this.observer=n)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let fd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function F3(t){fd=t}function V2(t){return fd.loadJS(t)}function q3(){return fd.recaptchaEnterpriseScript}function H3(){return fd.gapiScript}function G3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class K3{constructor(){this.enterprise=new $3}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class $3{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Y3="recaptcha-enterprise",P2="NO_RECAPTCHA";class Q3{constructor(e){this.type=Y3,this.auth=Ur(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,h)=>{A3(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new S3(f);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,u(p.siteKey)}}).catch(f=>{h(f)})})}function a(l,u,h){const f=window.grecaptcha;zb(f)?f.enterprise.ready(()=>{f.enterprise.execute(l,{action:e}).then(p=>{u(p)}).catch(()=>{u(P2)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new K3().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{s(this.auth).then(h=>{if(!n&&zb(window.grecaptcha))a(h,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=q3();f.length!==0&&(f+=h),V2(f).then(()=>{a(h,l,u)}).catch(p=>{u(p)})}}).catch(h=>{u(h)})})}}async function Kb(t,e,n,s=!1,a=!1){const l=new Q3(t);let u;if(a)u=P2;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return s?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Ag(t,e,n,s,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Kb(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await Kb(t,e,n,n==="getOobCode");return s(t,u)}else return Promise.reject(l)})}function X3(t,e){const n=S0(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ra(l,e??{}))return a;ti(a,"already-initialized")}return n.initialize({options:e})}function W3(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ws);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function J3(t,e,n){const s=Ur(t);xe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=O2(e),{host:u,port:h}=Z3(e),f=h===null?"":`:${h}`,p={url:`${l}//${u}${f}/`},y=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){xe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),xe(Ra(p,s.config.emulator)&&Ra(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,al(u)?(c2(`${l}//${u}${f}`),h2("Auth",!0)):eM()}function O2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Z3(t){const e=O2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:$b(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:$b(u)}}}function $b(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function eM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class M0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Es("not implemented")}_getIdTokenResponse(e){return Es("not implemented")}_linkToIdToken(e,n){return Es("not implemented")}_getReauthenticationResolver(e){return Es("not implemented")}}async function tM(t,e){return ns(t,"POST","/v1/accounts:signUp",e)}async function nM(t,e){return gc(t,"POST","/v1/accounts:signInWithPassword",js(t,e))}async function iM(t,e){return ns(t,"POST","/v1/accounts:sendOobCode",js(t,e))}async function sM(t,e){return iM(t,e)}async function rM(t,e){return gc(t,"POST","/v1/accounts:signInWithEmailLink",js(t,e))}async function aM(t,e){return gc(t,"POST","/v1/accounts:signInWithEmailLink",js(t,e))}class Yu extends M0{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Yu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Yu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ag(e,n,"signInWithPassword",nM);case"emailLink":return rM(e,{email:this._email,oobCode:this._password});default:ti(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ag(e,s,"signUpPassword",tM);case"emailLink":return aM(e,{idToken:n,email:this._email,oobCode:this._password});default:ti(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function zo(t,e){return gc(t,"POST","/v1/accounts:signInWithIdp",js(t,e))}const oM="http://localhost";class Ia extends M0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ia(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ti("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const u=new Ia(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return zo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,zo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,zo(e,n)}buildRequest(){const e={requestUri:oM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mc(n)}return e}}function lM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function uM(t){const e=Cu(Ru(t)).link,n=e?Cu(Ru(e)).deep_link_id:null,s=Cu(Ru(t)).deep_link_id;return(s?Cu(Ru(s)).link:null)||s||n||e||t}class D0{constructor(e){const n=Cu(Ru(e)),s=n.apiKey??null,a=n.oobCode??null,l=lM(n.mode??null);xe(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=uM(e);try{return new D0(n)}catch{return null}}}class ll{constructor(){this.providerId=ll.PROVIDER_ID}static credential(e,n){return Yu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=D0.parseLink(n);return xe(s,"argument-error"),Yu._fromEmailAndCode(e,s.code,s.tenantId)}}ll.PROVIDER_ID="password";ll.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ll.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class k0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class yc extends k0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class _r extends yc{constructor(){super("facebook.com")}static credential(e){return Ia._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _r.credential(e.oauthAccessToken)}catch{return null}}}_r.FACEBOOK_SIGN_IN_METHOD="facebook.com";_r.PROVIDER_ID="facebook.com";class Ts extends yc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ia._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Ts.credential(n,s)}catch{return null}}}Ts.GOOGLE_SIGN_IN_METHOD="google.com";Ts.PROVIDER_ID="google.com";class br extends yc{constructor(){super("github.com")}static credential(e){return Ia._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return br.credential(e.oauthAccessToken)}catch{return null}}}br.GITHUB_SIGN_IN_METHOD="github.com";br.PROVIDER_ID="github.com";class xr extends yc{constructor(){super("twitter.com")}static credential(e,n){return Ia._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return xr.credential(n,s)}catch{return null}}}xr.TWITTER_SIGN_IN_METHOD="twitter.com";xr.PROVIDER_ID="twitter.com";async function cM(t,e){return gc(t,"POST","/v1/accounts:signUp",js(t,e))}class Ma{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await vi._fromIdTokenResponse(e,s,a),u=Yb(s);return new Ma({user:l,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=Yb(s);return new Ma({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function Yb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Bf extends Os{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Bf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new Bf(e,n,s,a)}}function j2(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Bf._fromErrorAndOperation(t,l,e,s):l})}async function hM(t,e,n=!1){const s=await $o(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ma._forOperation(t,"link",s)}async function fM(t,e,n=!1){const{auth:s}=t;if(Pn(s.app))return Promise.reject(Cs(s));const a="reauthenticate";try{const l=await $o(t,j2(s,a,e,t),n);xe(l.idToken,s,"internal-error");const u=N0(l.idToken);xe(u,s,"internal-error");const{sub:h}=u;return xe(t.uid===h,s,"user-mismatch"),Ma._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&ti(s,"user-mismatch"),l}}async function L2(t,e,n=!1){if(Pn(t.app))return Promise.reject(Cs(t));const s="signIn",a=await j2(t,s,e),l=await Ma._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function dM(t,e){return L2(Ur(t),e)}async function U2(t){const e=Ur(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function z2(t,e,n){if(Pn(t.app))return Promise.reject(Cs(t));const s=Ur(t),u=await Ag(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cM).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&U2(t),f}),h=await Ma._fromIdTokenResponse(s,"signIn",u);return await s._updateCurrentUser(h.user),h}function mM(t,e,n){return Pn(t.app)?Promise.reject(Cs(t)):dM(nn(t),ll.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&U2(t),s})}async function pM(t,e){const n=nn(t),a={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:l}=await sM(n.auth,a);l!==t.email&&await t.reload()}async function gM(t,e){return ns(t,"POST","/v1/accounts:update",e)}async function Qb(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=nn(t),l={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=await $o(s,gM(s.auth,l));s.displayName=u.displayName||null,s.photoURL=u.photoUrl||null;const h=s.providerData.find(({providerId:f})=>f==="password");h&&(h.displayName=s.displayName,h.photoURL=s.photoURL),await s._updateTokensIfNecessary(u)}function yM(t,e,n,s){return nn(t).onIdTokenChanged(e,n,s)}function vM(t,e,n){return nn(t).beforeAuthStateChanged(e,n)}function _M(t,e,n,s){return nn(t).onAuthStateChanged(e,n,s)}function bM(t){return nn(t).signOut()}const Ff="__sak";class B2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ff,"1"),this.storage.removeItem(Ff),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const xM=1e3,TM=10;class F2 extends B2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=D2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);O3()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,TM):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},xM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}F2.type="LOCAL";const EM=F2;class q2 extends B2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}q2.type="SESSION";const H2=q2;function wM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class dd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new dd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const h=Array.from(u).map(async p=>p(n.origin,l)),f=await wM(h);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dd.receivers=[];function V0(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class SM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((h,f)=>{const p=V0("",20);a.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(_){const T=_;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(T.data.response);break;default:clearTimeout(y),clearTimeout(l),f(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function $i(){return window}function AM(t){$i().location.href=t}function G2(){return typeof $i().WorkerGlobalScope<"u"&&typeof $i().importScripts=="function"}async function CM(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RM(){return navigator?.serviceWorker?.controller||null}function NM(){return G2()?self:null}const K2="firebaseLocalStorageDb",IM=1,qf="firebaseLocalStorage",$2="fbase_key";class vc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function md(t,e){return t.transaction([qf],e?"readwrite":"readonly").objectStore(qf)}function MM(){const t=indexedDB.deleteDatabase(K2);return new vc(t).toPromise()}function Cg(){const t=indexedDB.open(K2,IM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(qf,{keyPath:$2})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(qf)?e(s):(s.close(),await MM(),e(await Cg()))})})}async function Xb(t,e,n){const s=md(t,!0).put({[$2]:e,value:n});return new vc(s).toPromise()}async function DM(t,e){const n=md(t,!1).get(e),s=await new vc(n).toPromise();return s===void 0?null:s.value}function Wb(t,e){const n=md(t,!0).delete(e);return new vc(n).toPromise()}const kM=800,VM=3;class Y2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>VM)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return G2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dd._getInstance(NM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await CM(),!this.activeServiceWorker)return;this.sender=new SM(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||RM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cg();return await Xb(e,Ff,"1"),await Wb(e,Ff),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Xb(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>DM(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Wb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=md(a,!1).getAll();return new vc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Y2.type="LOCAL";const PM=Y2;new pc(3e4,6e4);function Q2(t,e){return e?ws(e):(xe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class P0 extends M0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return zo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return zo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function OM(t){return L2(t.auth,new P0(t),t.bypassAuthState)}function jM(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),fM(n,new P0(t),t.bypassAuthState)}async function LM(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),hM(n,new P0(t),t.bypassAuthState)}class X2{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return OM;case"linkViaPopup":case"linkViaRedirect":return LM;case"reauthViaPopup":case"reauthViaRedirect":return jM;default:ti(this.auth,"internal-error")}}resolve(e){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const UM=new pc(2e3,1e4);async function zM(t,e,n){if(Pn(t.app))return Promise.reject(bi(t,"operation-not-supported-in-this-environment"));const s=Ur(t);g3(t,e,k0);const a=Q2(s,n);return new xa(s,"signInViaPopup",e,a).executeNotNull()}class xa extends X2{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,xa.currentPopupAction&&xa.currentPopupAction.cancel(),xa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){Ms(this.filter.length===1,"Popup operations only handle one event");const e=V0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,UM.get())};e()}}xa.currentPopupAction=null;const BM="pendingRedirect",Ef=new Map;class FM extends X2{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Ef.get(this.auth._key());if(!e){try{const s=await qM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Ef.set(this.auth._key(),e)}return this.bypassAuthState||Ef.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qM(t,e){const n=KM(e),s=GM(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function HM(t,e){Ef.set(t._key(),e)}function GM(t){return ws(t._redirectPersistence)}function KM(t){return Tf(BM,t.config.apiKey,t.name)}async function $M(t,e,n=!1){if(Pn(t.app))return Promise.reject(Cs(t));const s=Ur(t),a=Q2(s,e),u=await new FM(s,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}const YM=600*1e3;class QM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!XM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!W2(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(bi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YM&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jb(e))}saveEventToCache(e){this.cachedEventUids.add(Jb(e)),this.lastProcessedEventTime=Date.now()}}function Jb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function W2({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function XM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return W2(t);default:return!1}}async function WM(t,e={}){return ns(t,"GET","/v1/projects",e)}const JM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZM=/^https?/;async function eD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await WM(t);for(const n of e)try{if(tD(n))return}catch{}ti(t,"unauthorized-domain")}function tD(t){const e=wg(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!ZM.test(n))return!1;if(JM.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const nD=new pc(3e4,6e4);function Zb(){const t=$i().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function iD(t){return new Promise((e,n)=>{function s(){Zb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Zb(),n(bi(t,"network-request-failed"))},timeout:nD.get()})}if($i().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if($i().gapi?.load)s();else{const a=G3("iframefcb");return $i()[a]=()=>{gapi.load?s():n(bi(t,"network-request-failed"))},V2(`${H3()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw wf=null,e})}let wf=null;function sD(t){return wf=wf||iD(t),wf}const rD=new pc(5e3,15e3),aD="__/auth/iframe",oD="emulator/auth/iframe",lD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cD(t){const e=t.config;xe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?R0(e,oD):`https://${t.config.authDomain}/${aD}`,s={apiKey:e.apiKey,appName:t.name,v:ol},a=uD.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${mc(s).slice(1)}`}async function hD(t){const e=await sD(t),n=$i().gapi;return xe(n,t,"internal-error"),e.open({where:document.body,url:cD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lD,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=bi(t,"network-request-failed"),h=$i().setTimeout(()=>{l(u)},rD.get());function f(){$i().clearTimeout(h),a(s)}s.ping(f).then(f,()=>{l(u)})}))}const fD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dD=500,mD=600,pD="_blank",gD="http://localhost";class ex{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yD(t,e,n,s=dD,a=mD){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let h="";const f={...fD,width:s.toString(),height:a.toString(),top:l,left:u},p=hn().toLowerCase();n&&(h=C2(p)?pD:n),S2(p)&&(e=e||gD,f.scrollbars="yes");const y=Object.entries(f).reduce((T,[w,C])=>`${T}${w}=${C},`,"");if(P3(p)&&h!=="_self")return vD(e||"",h),new ex(null);const _=window.open(e||"",h,y);xe(_,t,"popup-blocked");try{_.focus()}catch{}return new ex(_)}function vD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const _D="__/auth/handler",bD="emulator/auth/handler",xD=encodeURIComponent("fac");async function tx(t,e,n,s,a,l){xe(t.config.authDomain,t,"auth-domain-config-required"),xe(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:ol,eventId:a};if(e instanceof k0){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",n4(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))u[y]=_}if(e instanceof yc){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(u.scopes=y.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const f=await t._getAppCheckToken(),p=f?`#${xD}=${encodeURIComponent(f)}`:"";return`${TD(t)}?${mc(h).slice(1)}${p}`}function TD({config:t}){return t.emulator?R0(t,bD):`https://${t.authDomain}/${_D}`}const Gp="webStorageSupport";class ED{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=H2,this._completeRedirectFn=$M,this._overrideRedirectResult=HM}async _openPopup(e,n,s,a){Ms(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await tx(e,n,s,wg(),a);return yD(e,l,V0())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await tx(e,n,s,wg(),a);return AM(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Ms(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await hD(e),s=new QM(e);return n.register("authEvent",a=>(xe(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Gp,{type:Gp},a=>{const l=a?.[0]?.[Gp];l!==void 0&&n(!!l),ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=eD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return D2()||A2()||I0()}}const wD=ED;var nx="@firebase/auth",ix="1.11.1";class SD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function AD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CD(t){Ko(new Na("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=s.options;xe(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const f={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:k2(t)},p=new B3(s,a,l,f);return W3(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ko(new Na("auth-internal",e=>{const n=Ur(e.getProvider("auth").getImmediate());return(s=>new SD(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Sr(nx,ix,AD(t)),Sr(nx,ix,"esm2020")}const RD=300,ND=u2("authIdTokenMaxAge")||RD;let sx=null;const ID=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>ND)return;const a=n?.token;sx!==a&&(sx=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function MD(t=p2()){const e=S0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=X3(t,{popupRedirectResolver:wD,persistence:[PM,EM,H2]}),s=u2("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=ID(l.toString());vM(n,u,()=>u(n.currentUser)),yM(n,h=>u(h))}}const a=o2("auth");return a&&J3(n,`http://${a}`),n}function DD(){return document.getElementsByTagName("head")?.[0]??document}F3({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=bi("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",DD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CD("Browser");var kD="firebase",VD="12.6.0";Sr(kD,VD,"app");var rx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ar,J2;(function(){var t;function e(I,A){function V(){}V.prototype=A.prototype,I.F=A.prototype,I.prototype=new V,I.prototype.constructor=I,I.D=function(R,M,L){for(var k=Array(arguments.length-2),le=2;le<arguments.length;le++)k[le-2]=arguments[le];return A.prototype[M].apply(R,k)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,A,V){V||(V=0);const R=Array(16);if(typeof A=="string")for(var M=0;M<16;++M)R[M]=A.charCodeAt(V++)|A.charCodeAt(V++)<<8|A.charCodeAt(V++)<<16|A.charCodeAt(V++)<<24;else for(M=0;M<16;++M)R[M]=A[V++]|A[V++]<<8|A[V++]<<16|A[V++]<<24;A=I.g[0],V=I.g[1],M=I.g[2];let L=I.g[3],k;k=A+(L^V&(M^L))+R[0]+3614090360&4294967295,A=V+(k<<7&4294967295|k>>>25),k=L+(M^A&(V^M))+R[1]+3905402710&4294967295,L=A+(k<<12&4294967295|k>>>20),k=M+(V^L&(A^V))+R[2]+606105819&4294967295,M=L+(k<<17&4294967295|k>>>15),k=V+(A^M&(L^A))+R[3]+3250441966&4294967295,V=M+(k<<22&4294967295|k>>>10),k=A+(L^V&(M^L))+R[4]+4118548399&4294967295,A=V+(k<<7&4294967295|k>>>25),k=L+(M^A&(V^M))+R[5]+1200080426&4294967295,L=A+(k<<12&4294967295|k>>>20),k=M+(V^L&(A^V))+R[6]+2821735955&4294967295,M=L+(k<<17&4294967295|k>>>15),k=V+(A^M&(L^A))+R[7]+4249261313&4294967295,V=M+(k<<22&4294967295|k>>>10),k=A+(L^V&(M^L))+R[8]+1770035416&4294967295,A=V+(k<<7&4294967295|k>>>25),k=L+(M^A&(V^M))+R[9]+2336552879&4294967295,L=A+(k<<12&4294967295|k>>>20),k=M+(V^L&(A^V))+R[10]+4294925233&4294967295,M=L+(k<<17&4294967295|k>>>15),k=V+(A^M&(L^A))+R[11]+2304563134&4294967295,V=M+(k<<22&4294967295|k>>>10),k=A+(L^V&(M^L))+R[12]+1804603682&4294967295,A=V+(k<<7&4294967295|k>>>25),k=L+(M^A&(V^M))+R[13]+4254626195&4294967295,L=A+(k<<12&4294967295|k>>>20),k=M+(V^L&(A^V))+R[14]+2792965006&4294967295,M=L+(k<<17&4294967295|k>>>15),k=V+(A^M&(L^A))+R[15]+1236535329&4294967295,V=M+(k<<22&4294967295|k>>>10),k=A+(M^L&(V^M))+R[1]+4129170786&4294967295,A=V+(k<<5&4294967295|k>>>27),k=L+(V^M&(A^V))+R[6]+3225465664&4294967295,L=A+(k<<9&4294967295|k>>>23),k=M+(A^V&(L^A))+R[11]+643717713&4294967295,M=L+(k<<14&4294967295|k>>>18),k=V+(L^A&(M^L))+R[0]+3921069994&4294967295,V=M+(k<<20&4294967295|k>>>12),k=A+(M^L&(V^M))+R[5]+3593408605&4294967295,A=V+(k<<5&4294967295|k>>>27),k=L+(V^M&(A^V))+R[10]+38016083&4294967295,L=A+(k<<9&4294967295|k>>>23),k=M+(A^V&(L^A))+R[15]+3634488961&4294967295,M=L+(k<<14&4294967295|k>>>18),k=V+(L^A&(M^L))+R[4]+3889429448&4294967295,V=M+(k<<20&4294967295|k>>>12),k=A+(M^L&(V^M))+R[9]+568446438&4294967295,A=V+(k<<5&4294967295|k>>>27),k=L+(V^M&(A^V))+R[14]+3275163606&4294967295,L=A+(k<<9&4294967295|k>>>23),k=M+(A^V&(L^A))+R[3]+4107603335&4294967295,M=L+(k<<14&4294967295|k>>>18),k=V+(L^A&(M^L))+R[8]+1163531501&4294967295,V=M+(k<<20&4294967295|k>>>12),k=A+(M^L&(V^M))+R[13]+2850285829&4294967295,A=V+(k<<5&4294967295|k>>>27),k=L+(V^M&(A^V))+R[2]+4243563512&4294967295,L=A+(k<<9&4294967295|k>>>23),k=M+(A^V&(L^A))+R[7]+1735328473&4294967295,M=L+(k<<14&4294967295|k>>>18),k=V+(L^A&(M^L))+R[12]+2368359562&4294967295,V=M+(k<<20&4294967295|k>>>12),k=A+(V^M^L)+R[5]+4294588738&4294967295,A=V+(k<<4&4294967295|k>>>28),k=L+(A^V^M)+R[8]+2272392833&4294967295,L=A+(k<<11&4294967295|k>>>21),k=M+(L^A^V)+R[11]+1839030562&4294967295,M=L+(k<<16&4294967295|k>>>16),k=V+(M^L^A)+R[14]+4259657740&4294967295,V=M+(k<<23&4294967295|k>>>9),k=A+(V^M^L)+R[1]+2763975236&4294967295,A=V+(k<<4&4294967295|k>>>28),k=L+(A^V^M)+R[4]+1272893353&4294967295,L=A+(k<<11&4294967295|k>>>21),k=M+(L^A^V)+R[7]+4139469664&4294967295,M=L+(k<<16&4294967295|k>>>16),k=V+(M^L^A)+R[10]+3200236656&4294967295,V=M+(k<<23&4294967295|k>>>9),k=A+(V^M^L)+R[13]+681279174&4294967295,A=V+(k<<4&4294967295|k>>>28),k=L+(A^V^M)+R[0]+3936430074&4294967295,L=A+(k<<11&4294967295|k>>>21),k=M+(L^A^V)+R[3]+3572445317&4294967295,M=L+(k<<16&4294967295|k>>>16),k=V+(M^L^A)+R[6]+76029189&4294967295,V=M+(k<<23&4294967295|k>>>9),k=A+(V^M^L)+R[9]+3654602809&4294967295,A=V+(k<<4&4294967295|k>>>28),k=L+(A^V^M)+R[12]+3873151461&4294967295,L=A+(k<<11&4294967295|k>>>21),k=M+(L^A^V)+R[15]+530742520&4294967295,M=L+(k<<16&4294967295|k>>>16),k=V+(M^L^A)+R[2]+3299628645&4294967295,V=M+(k<<23&4294967295|k>>>9),k=A+(M^(V|~L))+R[0]+4096336452&4294967295,A=V+(k<<6&4294967295|k>>>26),k=L+(V^(A|~M))+R[7]+1126891415&4294967295,L=A+(k<<10&4294967295|k>>>22),k=M+(A^(L|~V))+R[14]+2878612391&4294967295,M=L+(k<<15&4294967295|k>>>17),k=V+(L^(M|~A))+R[5]+4237533241&4294967295,V=M+(k<<21&4294967295|k>>>11),k=A+(M^(V|~L))+R[12]+1700485571&4294967295,A=V+(k<<6&4294967295|k>>>26),k=L+(V^(A|~M))+R[3]+2399980690&4294967295,L=A+(k<<10&4294967295|k>>>22),k=M+(A^(L|~V))+R[10]+4293915773&4294967295,M=L+(k<<15&4294967295|k>>>17),k=V+(L^(M|~A))+R[1]+2240044497&4294967295,V=M+(k<<21&4294967295|k>>>11),k=A+(M^(V|~L))+R[8]+1873313359&4294967295,A=V+(k<<6&4294967295|k>>>26),k=L+(V^(A|~M))+R[15]+4264355552&4294967295,L=A+(k<<10&4294967295|k>>>22),k=M+(A^(L|~V))+R[6]+2734768916&4294967295,M=L+(k<<15&4294967295|k>>>17),k=V+(L^(M|~A))+R[13]+1309151649&4294967295,V=M+(k<<21&4294967295|k>>>11),k=A+(M^(V|~L))+R[4]+4149444226&4294967295,A=V+(k<<6&4294967295|k>>>26),k=L+(V^(A|~M))+R[11]+3174756917&4294967295,L=A+(k<<10&4294967295|k>>>22),k=M+(A^(L|~V))+R[2]+718787259&4294967295,M=L+(k<<15&4294967295|k>>>17),k=V+(L^(M|~A))+R[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(M+(k<<21&4294967295|k>>>11))&4294967295,I.g[2]=I.g[2]+M&4294967295,I.g[3]=I.g[3]+L&4294967295}s.prototype.v=function(I,A){A===void 0&&(A=I.length);const V=A-this.blockSize,R=this.C;let M=this.h,L=0;for(;L<A;){if(M==0)for(;L<=V;)a(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<A;)if(R[M++]=I.charCodeAt(L++),M==this.blockSize){a(this,R),M=0;break}}else for(;L<A;)if(R[M++]=I[L++],M==this.blockSize){a(this,R),M=0;break}}this.h=M,this.o+=A},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var V=I.length-8;V<I.length;++V)I[V]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,V=0;V<4;++V)for(let R=0;R<32;R+=8)I[A++]=this.g[V]>>>R&255;return I};function l(I,A){var V=h;return Object.prototype.hasOwnProperty.call(V,I)?V[I]:V[I]=A(I)}function u(I,A){this.h=A;const V=[];let R=!0;for(let M=I.length-1;M>=0;M--){const L=I[M]|0;R&&L==A||(V[M]=L,R=!1)}this.g=V}var h={};function f(I){return-128<=I&&I<128?l(I,function(A){return new u([A|0],A<0?-1:0)}):new u([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return _;if(I<0)return D(p(-I));const A=[];let V=1;for(let R=0;I>=V;R++)A[R]=I/V|0,V*=4294967296;return new u(A,0)}function y(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return D(y(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const V=p(Math.pow(A,8));let R=_;for(let L=0;L<I.length;L+=8){var M=Math.min(8,I.length-L);const k=parseInt(I.substring(L,L+M),A);M<8?(M=p(Math.pow(A,M)),R=R.j(M).add(p(k))):(R=R.j(V),R=R.add(p(k)))}return R}var _=f(0),T=f(1),w=f(16777216);t=u.prototype,t.m=function(){if(P(this))return-D(this).m();let I=0,A=1;for(let V=0;V<this.g.length;V++){const R=this.i(V);I+=(R>=0?R:4294967296+R)*A,A*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(C(this))return"0";if(P(this))return"-"+D(this).toString(I);const A=p(Math.pow(I,6));var V=this;let R="";for(;;){const M=J(V,A).g;V=O(V,M.j(A));let L=((V.g.length>0?V.g[0]:V.h)>>>0).toString(I);if(V=M,C(V))return L+R;for(;L.length<6;)L="0"+L;R=L+R}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function C(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function P(I){return I.h==-1}t.l=function(I){return I=O(this,I),P(I)?-1:C(I)?0:1};function D(I){const A=I.g.length,V=[];for(let R=0;R<A;R++)V[R]=~I.g[R];return new u(V,~I.h).add(T)}t.abs=function(){return P(this)?D(this):this},t.add=function(I){const A=Math.max(this.g.length,I.g.length),V=[];let R=0;for(let M=0;M<=A;M++){let L=R+(this.i(M)&65535)+(I.i(M)&65535),k=(L>>>16)+(this.i(M)>>>16)+(I.i(M)>>>16);R=k>>>16,L&=65535,k&=65535,V[M]=k<<16|L}return new u(V,V[V.length-1]&-2147483648?-1:0)};function O(I,A){return I.add(D(A))}t.j=function(I){if(C(this)||C(I))return _;if(P(this))return P(I)?D(this).j(D(I)):D(D(this).j(I));if(P(I))return D(this.j(D(I)));if(this.l(w)<0&&I.l(w)<0)return p(this.m()*I.m());const A=this.g.length+I.g.length,V=[];for(var R=0;R<2*A;R++)V[R]=0;for(R=0;R<this.g.length;R++)for(let M=0;M<I.g.length;M++){const L=this.i(R)>>>16,k=this.i(R)&65535,le=I.i(M)>>>16,Ee=I.i(M)&65535;V[2*R+2*M]+=k*Ee,B(V,2*R+2*M),V[2*R+2*M+1]+=L*Ee,B(V,2*R+2*M+1),V[2*R+2*M+1]+=k*le,B(V,2*R+2*M+1),V[2*R+2*M+2]+=L*le,B(V,2*R+2*M+2)}for(I=0;I<A;I++)V[I]=V[2*I+1]<<16|V[2*I];for(I=A;I<2*A;I++)V[I]=0;return new u(V,0)};function B(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function z(I,A){this.g=I,this.h=A}function J(I,A){if(C(A))throw Error("division by zero");if(C(I))return new z(_,_);if(P(I))return A=J(D(I),A),new z(D(A.g),D(A.h));if(P(A))return A=J(I,D(A)),new z(D(A.g),A.h);if(I.g.length>30){if(P(I)||P(A))throw Error("slowDivide_ only works with positive integers.");for(var V=T,R=A;R.l(I)<=0;)V=Z(V),R=Z(R);var M=te(V,1),L=te(R,1);for(R=te(R,2),V=te(V,2);!C(R);){var k=L.add(R);k.l(I)<=0&&(M=M.add(V),L=k),R=te(R,1),V=te(V,1)}return A=O(I,M.j(A)),new z(M,A)}for(M=_;I.l(A)>=0;){for(V=Math.max(1,Math.floor(I.m()/A.m())),R=Math.ceil(Math.log(V)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),L=p(V),k=L.j(A);P(k)||k.l(I)>0;)V-=R,L=p(V),k=L.j(A);C(L)&&(L=T),M=M.add(L),I=O(I,k)}return new z(M,I)}t.B=function(I){return J(this,I).h},t.and=function(I){const A=Math.max(this.g.length,I.g.length),V=[];for(let R=0;R<A;R++)V[R]=this.i(R)&I.i(R);return new u(V,this.h&I.h)},t.or=function(I){const A=Math.max(this.g.length,I.g.length),V=[];for(let R=0;R<A;R++)V[R]=this.i(R)|I.i(R);return new u(V,this.h|I.h)},t.xor=function(I){const A=Math.max(this.g.length,I.g.length),V=[];for(let R=0;R<A;R++)V[R]=this.i(R)^I.i(R);return new u(V,this.h^I.h)};function Z(I){const A=I.g.length+1,V=[];for(let R=0;R<A;R++)V[R]=I.i(R)<<1|I.i(R-1)>>>31;return new u(V,I.h)}function te(I,A){const V=A>>5;A%=32;const R=I.g.length-V,M=[];for(let L=0;L<R;L++)M[L]=A>0?I.i(L+V)>>>A|I.i(L+V+1)<<32-A:I.i(L+V);return new u(M,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,J2=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,Ar=u}).apply(typeof rx<"u"?rx:typeof self<"u"?self:typeof window<"u"?window:{});var of=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Z2,Nu,ew,Sf,Rg,tw,nw,iw;(function(){var t,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof of=="object"&&of];for(var b=0;b<d.length;++b){var E=d[b];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function a(d,b){if(b)e:{var E=s;d=d.split(".");for(var N=0;N<d.length-1;N++){var G=d[N];if(!(G in E))break e;E=E[G]}d=d[d.length-1],N=E[d],b=b(N),b!=N&&b!=null&&e(E,d,{configurable:!0,writable:!0,value:b})}}a("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(d){return d||function(b){var E=[],N;for(N in b)Object.prototype.hasOwnProperty.call(b,N)&&E.push([N,b[N]]);return E}});var l=l||{},u=this||self;function h(d){var b=typeof d;return b=="object"&&d!=null||b=="function"}function f(d,b,E){return d.call.apply(d.bind,arguments)}function p(d,b,E){return p=f,p.apply(null,arguments)}function y(d,b){var E=Array.prototype.slice.call(arguments,1);return function(){var N=E.slice();return N.push.apply(N,arguments),d.apply(this,N)}}function _(d,b){function E(){}E.prototype=b.prototype,d.Z=b.prototype,d.prototype=new E,d.prototype.constructor=d,d.Ob=function(N,G,X){for(var ue=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)ue[Ie-2]=arguments[Ie];return b.prototype[G].apply(N,ue)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function w(d){const b=d.length;if(b>0){const E=Array(b);for(let N=0;N<b;N++)E[N]=d[N];return E}return[]}function C(d,b){for(let N=1;N<arguments.length;N++){const G=arguments[N];var E=typeof G;if(E=E!="object"?E:G?Array.isArray(G)?"array":E:"null",E=="array"||E=="object"&&typeof G.length=="number"){E=d.length||0;const X=G.length||0;d.length=E+X;for(let ue=0;ue<X;ue++)d[E+ue]=G[ue]}else d.push(G)}}class P{constructor(b,E){this.i=b,this.j=E,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function D(d){u.setTimeout(()=>{throw d},0)}function O(){var d=I;let b=null;return d.g&&(b=d.g,d.g=d.g.next,d.g||(d.h=null),b.next=null),b}class B{constructor(){this.h=this.g=null}add(b,E){const N=z.get();N.set(b,E),this.h?this.h.next=N:this.g=N,this.h=N}}var z=new P(()=>new J,d=>d.reset());class J{constructor(){this.next=this.g=this.h=null}set(b,E){this.h=b,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,te=!1,I=new B,A=()=>{const d=Promise.resolve(void 0);Z=()=>{d.then(V)}};function V(){for(var d;d=O();){try{d.h.call(d.g)}catch(E){D(E)}var b=z;b.j(d),b.h<100&&(b.h++,d.next=b.g,b.g=d)}te=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(d,b){this.type=d,this.g=this.target=b,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,b=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};u.addEventListener("test",E,b),u.removeEventListener("test",E,b)}catch{}return d})();function k(d){return/^[\s\xa0]*$/.test(d)}function le(d,b){M.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,b)}_(le,M),le.prototype.init=function(d,b){const E=this.type=d.type,N=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=b,b=d.relatedTarget,b||(E=="mouseover"?b=d.fromElement:E=="mouseout"&&(b=d.toElement)),this.relatedTarget=b,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&le.Z.h.call(this)},le.prototype.h=function(){le.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ee="closure_listenable_"+(Math.random()*1e6|0),Y=0;function re(d,b,E,N,G){this.listener=d,this.proxy=null,this.src=b,this.type=E,this.capture=!!N,this.ha=G,this.key=++Y,this.da=this.fa=!1}function ce(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function be(d,b,E){for(const N in d)b.call(E,d[N],N,d)}function Ne(d,b){for(const E in d)b.call(void 0,d[E],E,d)}function F(d){const b={};for(const E in d)b[E]=d[E];return b}const ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function he(d,b){let E,N;for(let G=1;G<arguments.length;G++){N=arguments[G];for(E in N)d[E]=N[E];for(let X=0;X<ie.length;X++)E=ie[X],Object.prototype.hasOwnProperty.call(N,E)&&(d[E]=N[E])}}function me(d){this.src=d,this.g={},this.h=0}me.prototype.add=function(d,b,E,N,G){const X=d.toString();d=this.g[X],d||(d=this.g[X]=[],this.h++);const ue=De(d,b,N,G);return ue>-1?(b=d[ue],E||(b.fa=!1)):(b=new re(b,this.src,X,!!N,G),b.fa=E,d.push(b)),b};function Se(d,b){const E=b.type;if(E in d.g){var N=d.g[E],G=Array.prototype.indexOf.call(N,b,void 0),X;(X=G>=0)&&Array.prototype.splice.call(N,G,1),X&&(ce(b),d.g[E].length==0&&(delete d.g[E],d.h--))}}function De(d,b,E,N){for(let G=0;G<d.length;++G){const X=d[G];if(!X.da&&X.listener==b&&X.capture==!!E&&X.ha==N)return G}return-1}var qe="closure_lm_"+(Math.random()*1e6|0),Lt={};function lt(d,b,E,N,G){if(Array.isArray(b)){for(let X=0;X<b.length;X++)lt(d,b[X],E,N,G);return null}return E=_l(E),d&&d[Ee]?d.J(b,E,h(N)?!!N.capture:!1,G):Br(d,b,E,!1,N,G)}function Br(d,b,E,N,G,X){if(!b)throw Error("Invalid event type");const ue=h(G)?!!G.capture:!!G;let Ie=Fr(d);if(Ie||(d[qe]=Ie=new me(d)),E=Ie.add(b,E,N,ue,X),E.proxy)return E;if(N=La(),E.proxy=N,N.src=d,N.listener=E,d.addEventListener)L||(G=ue),G===void 0&&(G=!1),d.addEventListener(b.toString(),N,G);else if(d.attachEvent)d.attachEvent(wi(b.toString()),N);else if(d.addListener&&d.removeListener)d.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return E}function La(){function d(E){return b.call(d.src,d.listener,E)}const b=yl;return d}function Ua(d,b,E,N,G){if(Array.isArray(b))for(var X=0;X<b.length;X++)Ua(d,b[X],E,N,G);else N=h(N)?!!N.capture:!!N,E=_l(E),d&&d[Ee]?(d=d.i,X=String(b).toString(),X in d.g&&(b=d.g[X],E=De(b,E,N,G),E>-1&&(ce(b[E]),Array.prototype.splice.call(b,E,1),b.length==0&&(delete d.g[X],d.h--)))):d&&(d=Fr(d))&&(b=d.g[b.toString()],d=-1,b&&(d=De(b,E,N,G)),(E=d>-1?b[d]:null)&&za(E))}function za(d){if(typeof d!="number"&&d&&!d.da){var b=d.src;if(b&&b[Ee])Se(b.i,d);else{var E=d.type,N=d.proxy;b.removeEventListener?b.removeEventListener(E,N,d.capture):b.detachEvent?b.detachEvent(wi(E),N):b.addListener&&b.removeListener&&b.removeListener(N),(E=Fr(b))?(Se(E,d),E.h==0&&(E.src=null,b[qe]=null)):ce(d)}}}function wi(d){return d in Lt?Lt[d]:Lt[d]="on"+d}function yl(d,b){if(d.da)d=!0;else{b=new le(b,this);const E=d.listener,N=d.ha||d.src;d.fa&&za(d),d=E.call(N,b)}return d}function Fr(d){return d=d[qe],d instanceof me?d:null}var vl="__closure_events_fn_"+(Math.random()*1e9>>>0);function _l(d){return typeof d=="function"?d:(d[vl]||(d[vl]=function(b){return d.handleEvent(b)}),d[vl])}function wt(){R.call(this),this.i=new me(this),this.M=this,this.G=null}_(wt,R),wt.prototype[Ee]=!0,wt.prototype.removeEventListener=function(d,b,E,N){Ua(this,d,b,E,N)};function Ut(d,b){var E,N=d.G;if(N)for(E=[];N;N=N.G)E.push(N);if(d=d.M,N=b.type||b,typeof b=="string")b=new M(b,d);else if(b instanceof M)b.target=b.target||d;else{var G=b;b=new M(N,d),he(b,G)}G=!0;let X,ue;if(E)for(ue=E.length-1;ue>=0;ue--)X=b.g=E[ue],G=Ls(X,N,!0,b)&&G;if(X=b.g=d,G=Ls(X,N,!0,b)&&G,G=Ls(X,N,!1,b)&&G,E)for(ue=0;ue<E.length;ue++)X=b.g=E[ue],G=Ls(X,N,!1,b)&&G}wt.prototype.N=function(){if(wt.Z.N.call(this),this.i){var d=this.i;for(const b in d.g){const E=d.g[b];for(let N=0;N<E.length;N++)ce(E[N]);delete d.g[b],d.h--}}this.G=null},wt.prototype.J=function(d,b,E,N){return this.i.add(String(d),b,!1,E,N)},wt.prototype.K=function(d,b,E,N){return this.i.add(String(d),b,!0,E,N)};function Ls(d,b,E,N){if(b=d.i.g[String(b)],!b)return!0;b=b.concat();let G=!0;for(let X=0;X<b.length;++X){const ue=b[X];if(ue&&!ue.da&&ue.capture==E){const Ie=ue.listener,_t=ue.ha||ue.src;ue.fa&&Se(d.i,ue),G=Ie.call(_t,N)!==!1&&G}}return G&&!N.defaultPrevented}function kd(d,b){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:u.setTimeout(d,b||0)}function Nc(d){d.g=kd(()=>{d.g=null,d.i&&(d.i=!1,Nc(d))},d.l);const b=d.h;d.h=null,d.m.apply(null,b)}class fn extends R{constructor(b,E){super(),this.m=b,this.l=E,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Nc(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qr(d){R.call(this),this.h=d,this.g={}}_(qr,R);var bl=[];function xl(d){be(d.g,function(b,E){this.g.hasOwnProperty(E)&&za(b)},d),d.g={}}qr.prototype.N=function(){qr.Z.N.call(this),xl(this)},qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Us=u.JSON.stringify,Vd=u.JSON.parse,Ic=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function Mc(){}function Dc(){}var si={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $t(){M.call(this,"d")}_($t,M);function On(){M.call(this,"c")}_(On,M);var vt={},kc=null;function Ba(){return kc=kc||new wt}vt.Ia="serverreachability";function Vc(d){M.call(this,vt.Ia,d)}_(Vc,M);function Si(d){const b=Ba();Ut(b,new Vc(b))}vt.STAT_EVENT="statevent";function Hr(d,b){M.call(this,vt.STAT_EVENT,d),this.stat=b}_(Hr,M);function St(d){const b=Ba();Ut(b,new Hr(b,d))}vt.Ja="timingevent";function Ai(d,b){M.call(this,vt.Ja,d),this.size=b}_(Ai,M);function Ci(d,b){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},b)}function ri(){this.g=!0}ri.prototype.ua=function(){this.g=!1};function Pd(d,b,E,N,G,X){d.info(function(){if(d.g)if(X){var ue="",Ie=X.split("&");for(let $e=0;$e<Ie.length;$e++){var _t=Ie[$e].split("=");if(_t.length>1){const ut=_t[0];_t=_t[1];const zn=ut.split("_");ue=zn.length>=2&&zn[1]=="type"?ue+(ut+"="+_t+"&"):ue+(ut+"=redacted&")}}}else ue=null;else ue=X;return"XMLHTTP REQ ("+N+") [attempt "+G+"]: "+b+`
`+E+`
`+ue})}function Pc(d,b,E,N,G,X,ue){d.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+G+"]: "+b+`
`+E+`
`+X+" "+ue})}function Ri(d,b,E,N){d.info(function(){return"XMLHTTP TEXT ("+b+"): "+Od(d,E)+(N?" "+N:"")})}function Gr(d,b){d.info(function(){return"TIMEOUT: "+b})}ri.prototype.info=function(){};function Od(d,b){if(!d.g)return b;if(!b)return null;try{const X=JSON.parse(b);if(X){for(d=0;d<X.length;d++)if(Array.isArray(X[d])){var E=X[d];if(!(E.length<2)){var N=E[1];if(Array.isArray(N)&&!(N.length<1)){var G=N[0];if(G!="noop"&&G!="stop"&&G!="close")for(let ue=1;ue<N.length;ue++)N[ue]=""}}}}return Us(X)}catch{return b}}var Kr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Tl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},El;function $r(){}_($r,Mc),$r.prototype.g=function(){return new XMLHttpRequest},El=new $r;function is(d){return encodeURIComponent(String(d))}function Oc(d){var b=1;d=d.split(":");const E=[];for(;b>0&&d.length;)E.push(d.shift()),b--;return d.length&&E.push(d.join(":")),E}function ai(d,b,E,N){this.j=d,this.i=b,this.l=E,this.S=N||1,this.V=new qr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new oi}function oi(){this.i=null,this.g="",this.h=!1}var At={},qt={};function Ni(d,b,E){d.M=1,d.A=Yr(Rt(b)),d.u=E,d.R=!0,Fa(d,null)}function Fa(d,b){d.F=Date.now(),Ii(d),d.B=Rt(d.A);var E=d.B,N=d.S;Array.isArray(N)||(N=[String(N)]),Ka(E.i,"t",N),d.C=0,E=d.j.L,d.h=new oi,d.g=Wc(d.j,E?b:null,!d.u),d.P>0&&(d.O=new fn(p(d.Y,d,d.g),d.P)),b=d.V,E=d.g,N=d.ba;var G="readystatechange";Array.isArray(G)||(G&&(bl[0]=G.toString()),G=bl);for(let X=0;X<G.length;X++){const ue=lt(E,G[X],N||b.handleEvent,!1,b.h||b);if(!ue)break;b.g[ue.key]=ue}b=d.J?F(d.J):{},d.u?(d.v||(d.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,b)):(d.v="GET",d.g.ea(d.B,d.v,null,b)),Si(),Pd(d.i,d.v,d.B,d.l,d.S,d.u)}ai.prototype.ba=function(d){d=d.target;const b=this.O;b&&ci(d)==3?b.j():this.Y(d)},ai.prototype.Y=function(d){try{if(d==this.g)e:{const Ie=ci(this.g),_t=this.g.ya(),$e=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||Yt(this.g)))){this.K||Ie!=4||_t==7||(_t==8||$e<=0?Si(3):Si(2)),Mi(this);var b=this.g.ca();this.X=b;var E=jd(this);if(this.o=b==200,Pc(this.i,this.v,this.B,this.l,this.S,Ie,b),this.o){if(this.U&&!this.L){t:{if(this.g){var N,G=this.g;if((N=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(N)){var X=N;break t}}X=null}if(d=X)Ri(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Di(this,d);else{this.o=!1,this.m=3,St(12),Sn(this),jn(this);break e}}if(this.R){d=!0;let ut;for(;!this.K&&this.C<E.length;)if(ut=Lc(this,E),ut==qt){Ie==4&&(this.m=4,St(14),d=!1),Ri(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==At){this.m=4,St(15),Ri(this.i,this.l,E,"[Invalid Chunk]"),d=!1;break}else Ri(this.i,this.l,ut,null),Di(this,ut);if(jc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||E.length!=0||this.h.h||(this.m=1,St(16),d=!1),this.o=this.o&&d,!d)Ri(this.i,this.l,E,"[Invalid Chunked Response]"),Sn(this),jn(this);else if(E.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Ll(ue),ue.P=!0,St(11))}}else Ri(this.i,this.l,E,null),Di(this,E);Ie==4&&Sn(this),this.o&&!this.K&&(Ie==4?$c(this.j,this):(this.o=!1,Ii(this)))}else rs(this.g),b==400&&E.indexOf("Unknown SID")>0?(this.m=3,St(12)):(this.m=0,St(13)),Sn(this),jn(this)}}}catch{}finally{}};function jd(d){if(!jc(d))return d.g.la();const b=Yt(d.g);if(b==="")return"";let E="";const N=b.length,G=ci(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Sn(d),jn(d),"";d.h.i=new u.TextDecoder}for(let X=0;X<N;X++)d.h.h=!0,E+=d.h.i.decode(b[X],{stream:!(G&&X==N-1)});return b.length=0,d.h.g+=E,d.C=0,d.h.g}function jc(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Lc(d,b){var E=d.C,N=b.indexOf(`
`,E);return N==-1?qt:(E=Number(b.substring(E,N)),isNaN(E)?At:(N+=1,N+E>b.length?qt:(b=b.slice(N,N+E),d.C=N+E,b)))}ai.prototype.cancel=function(){this.K=!0,Sn(this)};function Ii(d){d.T=Date.now()+d.H,qa(d,d.H)}function qa(d,b){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Ci(p(d.aa,d),b)}function Mi(d){d.D&&(u.clearTimeout(d.D),d.D=null)}ai.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Gr(this.i,this.B),this.M!=2&&(Si(),St(17)),Sn(this),this.m=2,jn(this)):qa(this,this.T-d)};function jn(d){d.j.I==0||d.K||$c(d.j,d)}function Sn(d){Mi(d);var b=d.O;b&&typeof b.dispose=="function"&&b.dispose(),d.O=null,xl(d.V),d.g&&(b=d.g,d.g=null,b.abort(),b.dispose())}function Di(d,b){try{var E=d.j;if(E.I!=0&&(E.g==d||Vi(E.h,d))){if(!d.L&&Vi(E.h,d)&&E.I==3){try{var N=E.Ba.g.parse(b)}catch{N=null}if(Array.isArray(N)&&N.length==3){var G=N;if(G[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<d.F)Wa(E),$s(E);else break e;ta(E),St(18)}}else E.xa=G[1],0<E.xa-E.K&&G[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Ci(p(E.Va,E),6e3));ki(E.h)<=1&&E.ta&&(E.ta=void 0)}else zi(E,11)}else if((d.L||E.g==d)&&Wa(E),!k(b))for(G=E.Ba.g.parse(b),b=0;b<G.length;b++){let $e=G[b];const ut=$e[0];if(!(ut<=E.K))if(E.K=ut,$e=$e[1],E.I==2)if($e[0]=="c"){E.M=$e[1],E.ba=$e[2];const zn=$e[3];zn!=null&&(E.ka=zn,E.j.info("VER="+E.ka));const Bi=$e[4];Bi!=null&&(E.za=Bi,E.j.info("SVER="+E.za));const hi=$e[5];hi!=null&&typeof hi=="number"&&hi>0&&(N=1.5*hi,E.O=N,E.j.info("backChannelRequestTimeoutMs_="+N)),N=E;const fi=d.g;if(fi){const na=fi.g?fi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(na){var X=N.h;X.g||na.indexOf("spdy")==-1&&na.indexOf("quic")==-1&&na.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Al(X,X.h),X.h=null))}if(N.G){const Ja=fi.g?fi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ja&&(N.wa=Ja,Xe(N.J,N.G,Ja))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-d.F,E.j.info("Handshake RTT: "+E.T+"ms")),N=E;var ue=d;if(N.na=Xc(N,N.L?N.ba:null,N.W),ue.L){Cl(N.h,ue);var Ie=ue,_t=N.O;_t&&(Ie.H=_t),Ie.D&&(Mi(Ie),Ii(Ie)),N.g=ue}else Gc(N);E.i.length>0&&Ui(E)}else $e[0]!="stop"&&$e[0]!="close"||zi(E,7);else E.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?zi(E,7):Ol(E):$e[0]!="noop"&&E.l&&E.l.qa($e),E.A=0)}}Si(4)}catch{}}var Ct=class{constructor(d,b){this.g=d,this.map=b}};function wl(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Sl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function ki(d){return d.h?1:d.g?d.g.size:0}function Vi(d,b){return d.h?d.h==b:d.g?d.g.has(b):!1}function Al(d,b){d.g?d.g.add(b):d.h=b}function Cl(d,b){d.h&&d.h==b?d.h=null:d.g&&d.g.has(b)&&d.g.delete(b)}wl.prototype.cancel=function(){if(this.i=Rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Rl(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let b=d.i;for(const E of d.g.values())b=b.concat(E.G);return b}return w(d.i)}var Uc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ha(d,b){if(d){d=d.split("&");for(let E=0;E<d.length;E++){const N=d[E].indexOf("=");let G,X=null;N>=0?(G=d[E].substring(0,N),X=d[E].substring(N+1)):G=d[E],b(G,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function An(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;d instanceof An?(this.l=d.l,Ht(this,d.j),this.o=d.o,this.g=d.g,zs(this,d.u),this.h=d.h,Nl(this,qc(d.i)),this.m=d.m):d&&(b=String(d).match(Uc))?(this.l=!1,Ht(this,b[1]||"",!0),this.o=Pi(b[2]||""),this.g=Pi(b[3]||"",!0),zs(this,b[4]),this.h=Pi(b[5]||"",!0),Nl(this,b[6]||"",!0),this.m=Pi(b[7]||"")):(this.l=!1,this.i=new Fs(null,this.l))}An.prototype.toString=function(){const d=[];var b=this.j;b&&d.push(Qr(b,Ga,!0),":");var E=this.g;return(E||b=="file")&&(d.push("//"),(b=this.o)&&d.push(Qr(b,Ga,!0),"@"),d.push(is(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&d.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(Qr(E,E.charAt(0)=="/"?Il:zc,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",Qr(E,Bc)),d.join("")},An.prototype.resolve=function(d){const b=Rt(this);let E=!!d.j;E?Ht(b,d.j):E=!!d.o,E?b.o=d.o:E=!!d.g,E?b.g=d.g:E=d.u!=null;var N=d.h;if(E)zs(b,d.u);else if(E=!!d.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var G=b.h.lastIndexOf("/");G!=-1&&(N=b.h.slice(0,G+1)+N)}if(G=N,G==".."||G==".")N="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){N=G.lastIndexOf("/",0)==0,G=G.split("/");const X=[];for(let ue=0;ue<G.length;){const Ie=G[ue++];Ie=="."?N&&ue==G.length&&X.push(""):Ie==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),N&&ue==G.length&&X.push("")):(X.push(Ie),N=!0)}N=X.join("/")}else N=G}return E?b.h=N:E=d.i.toString()!=="",E?Nl(b,qc(d.i)):E=!!d.m,E&&(b.m=d.m),b};function Rt(d){return new An(d)}function Ht(d,b,E){d.j=E?Pi(b,!0):b,d.j&&(d.j=d.j.replace(/:$/,""))}function zs(d,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);d.u=b}else d.u=null}function Nl(d,b,E){b instanceof Fs?(d.i=b,$a(d.i,d.l)):(E||(b=Qr(b,Bs)),d.i=new Fs(b,d.l))}function Xe(d,b,E){d.i.set(b,E)}function Yr(d){return Xe(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Pi(d,b){return d?b?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Qr(d,b,E){return typeof d=="string"?(d=encodeURI(d).replace(b,gn),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function gn(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Ga=/[#\/\?@]/g,zc=/[#\?:]/g,Il=/[#\?]/g,Bs=/[#\?@]/g,Bc=/#/g;function Fs(d,b){this.h=this.g=null,this.i=d||null,this.j=!!b}function yn(d){d.g||(d.g=new Map,d.h=0,d.i&&Ha(d.i,function(b,E){d.add(decodeURIComponent(b.replace(/\+/g," ")),E)}))}t=Fs.prototype,t.add=function(d,b){yn(this),this.i=null,d=qs(this,d);let E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(b),this.h+=1,this};function Fc(d,b){yn(d),b=qs(d,b),d.g.has(b)&&(d.i=null,d.h-=d.g.get(b).length,d.g.delete(b))}function Ml(d,b){return yn(d),b=qs(d,b),d.g.has(b)}t.forEach=function(d,b){yn(this),this.g.forEach(function(E,N){E.forEach(function(G){d.call(b,G,N,this)},this)},this)};function Dl(d,b){yn(d);let E=[];if(typeof b=="string")Ml(d,b)&&(E=E.concat(d.g.get(qs(d,b))));else for(d=Array.from(d.g.values()),b=0;b<d.length;b++)E=E.concat(d[b]);return E}t.set=function(d,b){return yn(this),this.i=null,d=qs(this,d),Ml(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[b]),this.h+=1,this},t.get=function(d,b){return d?(d=Dl(this,d),d.length>0?String(d[0]):b):b};function Ka(d,b,E){Fc(d,b),E.length>0&&(d.i=null,d.g.set(qs(d,b),w(E)),d.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],b=Array.from(this.g.keys());for(let N=0;N<b.length;N++){var E=b[N];const G=is(E);E=Dl(this,E);for(let X=0;X<E.length;X++){let ue=G;E[X]!==""&&(ue+="="+is(E[X])),d.push(ue)}}return this.i=d.join("&")};function qc(d){const b=new Fs;return b.i=d.i,d.g&&(b.g=new Map(d.g),b.h=d.h),b}function qs(d,b){return b=String(b),d.j&&(b=b.toLowerCase()),b}function $a(d,b){b&&!d.j&&(yn(d),d.i=null,d.g.forEach(function(E,N){const G=N.toLowerCase();N!=G&&(Fc(this,N),Ka(this,G,E))},d)),d.j=b}function li(d,b){const E=new ri;if(u.Image){const N=new Image;N.onload=y(Ln,E,"TestLoadImage: loaded",!0,b,N),N.onerror=y(Ln,E,"TestLoadImage: error",!1,b,N),N.onabort=y(Ln,E,"TestLoadImage: abort",!1,b,N),N.ontimeout=y(Ln,E,"TestLoadImage: timeout",!1,b,N),u.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=d}else b(!1)}function kl(d,b){const E=new ri,N=new AbortController,G=setTimeout(()=>{N.abort(),Ln(E,"TestPingServer: timeout",!1,b)},1e4);fetch(d,{signal:N.signal}).then(X=>{clearTimeout(G),X.ok?Ln(E,"TestPingServer: ok",!0,b):Ln(E,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(G),Ln(E,"TestPingServer: error",!1,b)})}function Ln(d,b,E,N,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),N(E)}catch{}}function Hs(){this.g=new Ic}function Oi(d){this.i=d.Sb||null,this.h=d.ab||!1}_(Oi,Mc),Oi.prototype.g=function(){return new Xr(this.i,this.h)};function Xr(d,b){wt.call(this),this.H=d,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(Xr,wt),t=Xr.prototype,t.open=function(d,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=b,this.readyState=1,ui(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(b.body=d),(this.H||u).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Gs(this)),this.readyState=0},t.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,ui(this)),this.g&&(this.readyState=3,ui(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ya(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ya(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}t.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var b=d.value?d.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!d.done}))&&(this.response=this.responseText+=b)}d.done?Gs(this):ui(this),this.readyState==3&&Ya(this)}},t.Oa=function(d){this.g&&(this.response=this.responseText=d,Gs(this))},t.Na=function(d){this.g&&(this.response=d,Gs(this))},t.ga=function(){this.g&&Gs(this)};function Gs(d){d.readyState=4,d.l=null,d.j=null,d.B=null,ui(d)}t.setRequestHeader=function(d,b){this.A.append(d,b)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],b=this.h.entries();for(var E=b.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=b.next();return d.join(`\r
`)};function ui(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Xr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Un(d){let b="";return be(d,function(E,N){b+=N,b+=":",b+=E,b+=`\r
`}),b}function Wr(d,b,E){e:{for(N in E){var N=!1;break e}N=!0}N||(E=Un(E),typeof d=="string"?E!=null&&is(E):Xe(d,b,E))}function Ze(d){wt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(Ze,wt);var ji=/^https?$/i,Vl=["POST","PUT"];t=Ze.prototype,t.Fa=function(d){this.H=d},t.ea=function(d,b,E,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);b=b?b.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():El.g(),this.g.onreadystatechange=T(p(this.Ca,this));try{this.B=!0,this.g.open(b,String(d),!0),this.B=!1}catch(X){Jr(this,X);return}if(d=E||"",E=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var G in N)E.set(G,N[G]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const X of N.keys())E.set(X,N.get(X));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(E.keys()).find(X=>X.toLowerCase()=="content-type"),G=u.FormData&&d instanceof u.FormData,!(Array.prototype.indexOf.call(Vl,b,void 0)>=0)||N||G||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ue]of E)this.g.setRequestHeader(X,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(X){Jr(this,X)}};function Jr(d,b){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=b,d.o=5,Pl(d),ss(d)}function Pl(d){d.A||(d.A=!0,Ut(d,"complete"),Ut(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Ut(this,"complete"),Ut(this,"abort"),ss(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ss(this,!0)),Ze.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Zr(this):this.Xa())},t.Xa=function(){Zr(this)};function Zr(d){if(d.h&&typeof l<"u"){if(d.v&&ci(d)==4)setTimeout(d.Ca.bind(d),0);else if(Ut(d,"readystatechange"),ci(d)==4){d.h=!1;try{const X=d.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var E;if(!(E=b)){var N;if(N=X===0){let ue=String(d.D).match(Uc)[1]||null;!ue&&u.self&&u.self.location&&(ue=u.self.location.protocol.slice(0,-1)),N=!ji.test(ue?ue.toLowerCase():"")}E=N}if(E)Ut(d,"complete"),Ut(d,"success");else{d.o=6;try{var G=ci(d)>2?d.g.statusText:""}catch{G=""}d.l=G+" ["+d.ca()+"]",Pl(d)}}finally{ss(d)}}}}function ss(d,b){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const E=d.g;d.g=null,b||Ut(d,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ci(d){return d.g?d.g.readyState:0}t.ca=function(){try{return ci(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(d){if(this.g){var b=this.g.responseText;return d&&b.indexOf(d)==0&&(b=b.substring(d.length)),Vd(b)}};function Yt(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function rs(d){const b={};d=(d.g&&ci(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<d.length;N++){if(k(d[N]))continue;var E=Oc(d[N]);const G=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const X=b[G]||[];b[G]=X,X.push(E)}Ne(b,function(N){return N.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Li(d,b,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||b}function Ks(d){this.za=0,this.i=[],this.j=new ri,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Li("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Li("baseRetryDelayMs",5e3,d),this.Za=Li("retryDelaySeedMs",1e4,d),this.Ta=Li("forwardChannelMaxRetries",2,d),this.va=Li("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new wl(d&&d.concurrentRequestLimit),this.Ba=new Hs,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ks.prototype,t.ka=8,t.I=1,t.connect=function(d,b,E,N){St(0),this.W=d,this.H=b||{},E&&N!==void 0&&(this.H.OSID=E,this.H.OAID=N),this.F=this.X,this.J=Xc(this,null,this.W),Ui(this)};function Ol(d){if(Qa(d),d.I==3){var b=d.V++,E=Rt(d.J);if(Xe(E,"SID",d.M),Xe(E,"RID",b),Xe(E,"TYPE","terminate"),ea(d,E),b=new ai(d,d.j,b),b.M=2,b.A=Yr(Rt(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(b.A.toString(),"")}catch{}!E&&u.Image&&(new Image().src=b.A,E=!0),E||(b.g=Wc(b.j,null),b.g.ea(b.A)),b.F=Date.now(),Ii(b)}Qc(d)}function $s(d){d.g&&(Ll(d),d.g.cancel(),d.g=null)}function Qa(d){$s(d),d.v&&(u.clearTimeout(d.v),d.v=null),Wa(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&u.clearTimeout(d.m),d.m=null)}function Ui(d){if(!Sl(d.h)&&!d.m){d.m=!0;var b=d.Ea;Z||A(),te||(Z(),te=!0),I.add(b,d),d.D=0}}function Xa(d,b){return ki(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=b.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Ci(p(d.Ea,d,b),Yc(d,d.D)),d.D++,!0)}t.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const G=new ai(this,this.j,d);let X=this.o;if(this.U&&(X?(X=F(X),he(X,this.U)):X=this.U),this.u!==null||this.R||(G.J=X,X=null),this.S)e:{for(var b=0,E=0;E<this.i.length;E++){t:{var N=this.i[E];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(b+=N,b>4096){b=E;break e}if(b===4096||E===this.i.length-1){b=E+1;break e}}b=1e3}else b=1e3;b=Hc(this,G,b),E=Rt(this.J),Xe(E,"RID",d),Xe(E,"CVER",22),this.G&&Xe(E,"X-HTTP-Session-Id",this.G),ea(this,E),X&&(this.R?b="headers="+is(Un(X))+"&"+b:this.u&&Wr(E,this.u,X)),Al(this.h,G),this.Ra&&Xe(E,"TYPE","init"),this.S?(Xe(E,"$req",b),Xe(E,"SID","null"),G.U=!0,Ni(G,E,null)):Ni(G,E,b),this.I=2}}else this.I==3&&(d?jl(this,d):this.i.length==0||Sl(this.h)||jl(this))};function jl(d,b){var E;b?E=b.l:E=d.V++;const N=Rt(d.J);Xe(N,"SID",d.M),Xe(N,"RID",E),Xe(N,"AID",d.K),ea(d,N),d.u&&d.o&&Wr(N,d.u,d.o),E=new ai(d,d.j,E,d.D+1),d.u===null&&(E.J=d.o),b&&(d.i=b.G.concat(d.i)),b=Hc(d,E,1e3),E.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Al(d.h,E),Ni(E,N,b)}function ea(d,b){d.H&&be(d.H,function(E,N){Xe(b,N,E)}),d.l&&be({},function(E,N){Xe(b,N,E)})}function Hc(d,b,E){E=Math.min(d.i.length,E);const N=d.l?p(d.l.Ka,d.l,d):null;e:{var G=d.i;let Ie=-1;for(;;){const _t=["count="+E];Ie==-1?E>0?(Ie=G[0].g,_t.push("ofs="+Ie)):Ie=0:_t.push("ofs="+Ie);let $e=!0;for(let ut=0;ut<E;ut++){var X=G[ut].g;const zn=G[ut].map;if(X-=Ie,X<0)Ie=Math.max(0,G[ut].g-100),$e=!1;else try{X="req"+X+"_"||"";try{var ue=zn instanceof Map?zn:Object.entries(zn);for(const[Bi,hi]of ue){let fi=hi;h(hi)&&(fi=Us(hi)),_t.push(X+Bi+"="+encodeURIComponent(fi))}}catch(Bi){throw _t.push(X+"type="+encodeURIComponent("_badmap")),Bi}}catch{N&&N(zn)}}if($e){ue=_t.join("&");break e}}ue=void 0}return d=d.i.splice(0,E),b.G=d,ue}function Gc(d){if(!d.g&&!d.v){d.Y=1;var b=d.Da;Z||A(),te||(Z(),te=!0),I.add(b,d),d.A=0}}function ta(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Ci(p(d.Da,d),Yc(d,d.A)),d.A++,!0)}t.Da=function(){if(this.v=null,Kc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Ci(p(this.Wa,this),d)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,St(10),$s(this),Kc(this))};function Ll(d){d.B!=null&&(u.clearTimeout(d.B),d.B=null)}function Kc(d){d.g=new ai(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var b=Rt(d.na);Xe(b,"RID","rpc"),Xe(b,"SID",d.M),Xe(b,"AID",d.K),Xe(b,"CI",d.F?"0":"1"),!d.F&&d.ia&&Xe(b,"TO",d.ia),Xe(b,"TYPE","xmlhttp"),ea(d,b),d.u&&d.o&&Wr(b,d.u,d.o),d.O&&(d.g.H=d.O);var E=d.g;d=d.ba,E.M=1,E.A=Yr(Rt(b)),E.u=null,E.R=!0,Fa(E,d)}t.Va=function(){this.C!=null&&(this.C=null,$s(this),ta(this),St(19))};function Wa(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function $c(d,b){var E=null;if(d.g==b){Wa(d),Ll(d),d.g=null;var N=2}else if(Vi(d.h,b))E=b.G,Cl(d.h,b),N=1;else return;if(d.I!=0){if(b.o)if(N==1){E=b.u?b.u.length:0,b=Date.now()-b.F;var G=d.D;N=Ba(),Ut(N,new Ai(N,E)),Ui(d)}else Gc(d);else if(G=b.m,G==3||G==0&&b.X>0||!(N==1&&Xa(d,b)||N==2&&ta(d)))switch(E&&E.length>0&&(b=d.h,b.i=b.i.concat(E)),G){case 1:zi(d,5);break;case 4:zi(d,10);break;case 3:zi(d,6);break;default:zi(d,2)}}}function Yc(d,b){let E=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(E*=2),E*b}function zi(d,b){if(d.j.info("Error code "+b),b==2){var E=p(d.bb,d),N=d.Ua;const G=!N;N=new An(N||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Ht(N,"https"),Yr(N),G?li(N.toString(),E):kl(N.toString(),E)}else St(2);d.I=0,d.l&&d.l.pa(b),Qc(d),Qa(d)}t.bb=function(d){d?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function Qc(d){if(d.I=0,d.ja=[],d.l){const b=Rl(d.h);(b.length!=0||d.i.length!=0)&&(C(d.ja,b),C(d.ja,d.i),d.h.i.length=0,w(d.i),d.i.length=0),d.l.oa()}}function Xc(d,b,E){var N=E instanceof An?Rt(E):new An(E);if(N.g!="")b&&(N.g=b+"."+N.g),zs(N,N.u);else{var G=u.location;N=G.protocol,b=b?b+"."+G.hostname:G.hostname,G=+G.port;const X=new An(null);N&&Ht(X,N),b&&(X.g=b),G&&zs(X,G),E&&(X.h=E),N=X}return E=d.G,b=d.wa,E&&b&&Xe(N,E,b),Xe(N,"VER",d.ka),ea(d,N),N}function Wc(d,b,E){if(b&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=d.Aa&&!d.ma?new Ze(new Oi({ab:E})):new Ze(d.ma),b.Fa(d.L),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jc(){}t=Jc.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ys(){}Ys.prototype.g=function(d,b){return new dn(d,b)};function dn(d,b){wt.call(this),this.g=new Ks(b),this.l=d,this.h=b&&b.messageUrlParams||null,d=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(d?d["X-WebChannel-Content-Type"]=b.messageContentType:d={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(d?d["X-WebChannel-Client-Profile"]=b.sa:d={"X-WebChannel-Client-Profile":b.sa}),this.g.U=d,(d=b&&b.Qb)&&!k(d)&&(this.g.u=d),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!k(b)&&(this.g.G=b,d=this.h,d!==null&&b in d&&(d=this.h,b in d&&delete d[b])),this.j=new as(this)}_(dn,wt),dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Ol(this.g)},dn.prototype.o=function(d){var b=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.v&&(E={},E.__data__=Us(d),d=E);b.i.push(new Ct(b.Ya++,d)),b.I==3&&Ui(b)},dn.prototype.N=function(){this.g.l=null,delete this.j,Ol(this.g),delete this.g,dn.Z.N.call(this)};function Zc(d){$t.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var b=d.__sm__;if(b){e:{for(const E in b){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,b=b!==null&&d in b?b[d]:void 0),this.data=b}else this.data=d}_(Zc,$t);function eh(){On.call(this),this.status=1}_(eh,On);function as(d){this.g=d}_(as,Jc),as.prototype.ra=function(){Ut(this.g,"a")},as.prototype.qa=function(d){Ut(this.g,new Zc(d))},as.prototype.pa=function(d){Ut(this.g,new eh)},as.prototype.oa=function(){Ut(this.g,"b")},Ys.prototype.createWebChannel=Ys.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,iw=function(){return new Ys},nw=function(){return Ba()},tw=vt,Rg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Kr.NO_ERROR=0,Kr.TIMEOUT=8,Kr.HTTP_ERROR=6,Sf=Kr,Tl.COMPLETE="complete",ew=Tl,Dc.EventType=si,si.OPEN="a",si.CLOSE="b",si.ERROR="c",si.MESSAGE="d",wt.prototype.listen=wt.prototype.J,Nu=Dc,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,Z2=Ze}).apply(typeof of<"u"?of:typeof self<"u"?self:typeof window<"u"?window:{});const ax="@firebase/firestore",ox="4.9.2";class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");let ul="12.3.0";const Da=new E0("@firebase/firestore");function No(){return Da.logLevel}function fe(t,...e){if(Da.logLevel<=Ue.DEBUG){const n=e.map(O0);Da.debug(`Firestore (${ul}): ${t}`,...n)}}function Ds(t,...e){if(Da.logLevel<=Ue.ERROR){const n=e.map(O0);Da.error(`Firestore (${ul}): ${t}`,...n)}}function Yo(t,...e){if(Da.logLevel<=Ue.WARN){const n=e.map(O0);Da.warn(`Firestore (${ul}): ${t}`,...n)}}function O0(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Te(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,sw(t,s,n)}function sw(t,e,n){let s=`FIRESTORE (${ul}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ds(s),new Error(s)}function Qe(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||sw(e,a,s)}function Re(t,e){return t}const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Os{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Cr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class rw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(on.UNAUTHENTICATED)))}shutdown(){}}class OD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class jD{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let s=this.i;const a=f=>this.i!==s?(s=this.i,n(f)):Promise.resolve();let l=new Cr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Cr,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const f=l;e.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},h=f=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Cr)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qe(typeof s.accessToken=="string",31837,{l:s}),new rw(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new on(e)}}class LD{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=on.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class UD{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new LD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class lx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const s=l=>{l.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,fe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new lx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new lx(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function BD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class j0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=BD(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function ze(t,e){return t<e?-1:t>e?1:0}function Ng(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return Kp(a)===Kp(l)?ze(a,l):Kp(a)?1:-1}return ze(t.length,e.length)}const FD=55296,qD=57343;function Kp(t){const e=t.charCodeAt(0);return e>=FD&&e<=qD}function Qo(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}const ux="__name__";class Ki{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Te(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ki.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ki?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=Ki.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return ze(e.length,n.length)}static compareSegments(e,n){const s=Ki.isNumericId(e),a=Ki.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Ki.extractNumericId(e).compare(Ki.extractNumericId(n)):Ng(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ar.fromString(e.substring(4,e.length-2))}}class st extends Ki{construct(e,n,s){return new st(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(ae.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new st(n)}static emptyPath(){return new st([])}}const HD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Ki{construct(e,n,s){return new tn(e,n,s)}static isValidIdentifier(e){return HD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ux}static keyField(){return new tn([ux])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new de(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new de(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new de(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=f,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(s+=h,a++):(l(),a++)}if(l(),u)throw new de(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(n)}static emptyPath(){return new tn([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(st.fromString(e))}static fromName(e){return new ve(st.fromString(e).popFirst(5))}static empty(){return new ve(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new st(e.slice()))}}function aw(t,e,n){if(!n)throw new de(ae.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function GD(t,e,n,s){if(e===!0&&s===!0)throw new de(ae.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function cx(t){if(!ve.isDocumentKey(t))throw new de(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function hx(t){if(ve.isDocumentKey(t))throw new de(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ow(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function pd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Te(12329,{type:typeof t})}function Qu(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=pd(t);throw new de(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function jt(t,e){const n={typeString:t};return e&&(n.value=e),n}function _c(t,e){if(!ow(t))throw new de(ae.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const u=t[s];if(a&&typeof u!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new de(ae.INVALID_ARGUMENT,n);return!0}const fx=-62135596800,dx=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*dx);return new ot(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<fx)throw new de(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dx}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_c(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-fx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:jt("string",ot._jsonSchemaVersion),seconds:jt("number"),nanoseconds:jt("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new ot(0,0))}static max(){return new Ae(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Xu=-1;function KD(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Ae.fromTimestamp(s===1e9?new ot(n+1,0):new ot(n,s));return new Ir(a,ve.empty(),e)}function $D(t){return new Ir(t.readTime,t.key,Xu)}class Ir{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ir(Ae.min(),ve.empty(),Xu)}static max(){return new Ir(Ae.max(),ve.empty(),Xu)}}function YD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(t.documentKey,e.documentKey),n!==0?n:ze(t.largestBatchId,e.largestBatchId))}const QD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function cl(t){if(t.code!==ae.FAILED_PRECONDITION||t.message!==QD)throw t;fe("LocalStore","Unexpectedly lost primary lease")}class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.reject(n)}static resolve(e){return new oe(((n,s)=>{n(e)}))}static reject(e){return new oe(((n,s)=>{s(e)}))}static waitFor(e){return new oe(((n,s)=>{let a=0,l=0,u=!1;e.forEach((h=>{++a,h.next((()=>{++l,u&&l===a&&n()}),(f=>s(f)))})),u=!0,l===a&&n()}))}static or(e){let n=oe.resolve(!1);for(const s of e)n=n.next((a=>a?oe.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new oe(((s,a)=>{const l=e.length,u=new Array(l);let h=0;for(let f=0;f<l;f++){const p=f;n(e[p]).next((y=>{u[p]=y,++h,h===l&&s(u)}),(y=>a(y)))}}))}static doWhile(e,n){return new oe(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function WD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hl(t){return t.name==="IndexedDbTransactionError"}class gd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gd.ce=-1;const L0=-1;function yd(t){return t==null}function Hf(t){return t===0&&1/t==-1/0}function JD(t){return typeof t=="number"&&Number.isInteger(t)&&!Hf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const lw="";function ZD(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=mx(e)),e=e5(t.get(n),e);return mx(e)}function e5(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case lw:n+="";break;default:n+=l}}return n}function mx(t){return t+lw+""}function px(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Va(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function uw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class mt{constructor(e,n){this.comparator=e,this.root=n||en.EMPTY}insert(e,n){return new mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lf(this.root,e,this.comparator,!1)}getReverseIterator(){return new lf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lf(this.root,e,this.comparator,!0)}}class lf{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??en.RED,this.left=a??en.EMPTY,this.right=l??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new en(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return en.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new en(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ft{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new gx(this.data.getIterator())}getIteratorFrom(e){return new gx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ft(this.comparator);return n.data=e,n}}class gx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class _i{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new _i([])}unionWith(e){let n=new Ft(tn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new _i(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class cw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new cw("Invalid base64 string: "+l):l}})(e);return new sn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const t5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mr(t){if(Qe(!!t,39018),typeof t=="string"){let e=0;const n=t5.exec(t);if(Qe(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Et(t.seconds),nanos:Et(t.nanos)}}function Et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Dr(t){return typeof t=="string"?sn.fromBase64String(t):sn.fromUint8Array(t)}const hw="server_timestamp",fw="__type__",dw="__previous_value__",mw="__local_write_time__";function U0(t){return(t?.mapValue?.fields||{})[fw]?.stringValue===hw}function vd(t){const e=t.mapValue.fields[dw];return U0(e)?vd(e):e}function Wu(t){const e=Mr(t.mapValue.fields[mw].timestampValue);return new ot(e.seconds,e.nanos)}class n5{constructor(e,n,s,a,l,u,h,f,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=y}}const Gf="(default)";class Ju{constructor(e,n){this.projectId=e,this.database=n||Gf}static empty(){return new Ju("","")}get isDefaultDatabase(){return this.database===Gf}isEqual(e){return e instanceof Ju&&e.projectId===this.projectId&&e.database===this.database}}const pw="__type__",i5="__max__",uf={mapValue:{}},gw="__vector__",Kf="value";function kr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?U0(t)?4:r5(t)?9007199254740991:s5(t)?10:11:Te(28295,{value:t})}function es(t,e){if(t===e)return!0;const n=kr(t);if(n!==kr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Wu(t).isEqual(Wu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Mr(a.timestampValue),h=Mr(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Dr(a.bytesValue).isEqual(Dr(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Et(a.geoPointValue.latitude)===Et(l.geoPointValue.latitude)&&Et(a.geoPointValue.longitude)===Et(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Et(a.integerValue)===Et(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Et(a.doubleValue),h=Et(l.doubleValue);return u===h?Hf(u)===Hf(h):isNaN(u)&&isNaN(h)}return!1})(t,e);case 9:return Qo(t.arrayValue.values||[],e.arrayValue.values||[],es);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},h=l.mapValue.fields||{};if(px(u)!==px(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!es(u[f],h[f])))return!1;return!0})(t,e);default:return Te(52216,{left:t})}}function Zu(t,e){return(t.values||[]).find((n=>es(n,e)))!==void 0}function Xo(t,e){if(t===e)return 0;const n=kr(t),s=kr(e);if(n!==s)return ze(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const h=Et(l.integerValue||l.doubleValue),f=Et(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(t,e);case 3:return yx(t.timestampValue,e.timestampValue);case 4:return yx(Wu(t),Wu(e));case 5:return Ng(t.stringValue,e.stringValue);case 6:return(function(l,u){const h=Dr(l),f=Dr(u);return h.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const h=l.split("/"),f=u.split("/");for(let p=0;p<h.length&&p<f.length;p++){const y=ze(h[p],f[p]);if(y!==0)return y}return ze(h.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const h=ze(Et(l.latitude),Et(u.latitude));return h!==0?h:ze(Et(l.longitude),Et(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return vx(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const h=l.fields||{},f=u.fields||{},p=h[Kf]?.arrayValue,y=f[Kf]?.arrayValue,_=ze(p?.values?.length||0,y?.values?.length||0);return _!==0?_:vx(p,y)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===uf.mapValue&&u===uf.mapValue)return 0;if(l===uf.mapValue)return 1;if(u===uf.mapValue)return-1;const h=l.fields||{},f=Object.keys(h),p=u.fields||{},y=Object.keys(p);f.sort(),y.sort();for(let _=0;_<f.length&&_<y.length;++_){const T=Ng(f[_],y[_]);if(T!==0)return T;const w=Xo(h[f[_]],p[y[_]]);if(w!==0)return w}return ze(f.length,y.length)})(t.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function yx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ze(t,e);const n=Mr(t),s=Mr(e),a=ze(n.seconds,s.seconds);return a!==0?a:ze(n.nanos,s.nanos)}function vx(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=Xo(n[a],s[a]);if(l)return l}return ze(n.length,s.length)}function Wo(t){return Ig(t)}function Ig(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Mr(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Dr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ve.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=Ig(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${Ig(n.fields[u])}`;return a+"}"})(t.mapValue):Te(61005,{value:t})}function Af(t){switch(kr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vd(t);return e?16+Af(e):16;case 5:return 2*t.stringValue.length;case 6:return Dr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Af(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return Va(s.fields,((l,u)=>{a+=l.length+Af(u)})),a})(t.mapValue);default:throw Te(13486,{value:t})}}function _x(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Mg(t){return!!t&&"integerValue"in t}function z0(t){return!!t&&"arrayValue"in t}function bx(t){return!!t&&"nullValue"in t}function xx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Cf(t){return!!t&&"mapValue"in t}function s5(t){return(t?.mapValue?.fields||{})[pw]?.stringValue===gw}function Ou(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Va(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Ou(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ou(t.arrayValue.values[n]);return e}return{...t}}function r5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===i5}class Wn{constructor(e){this.value=e}static empty(){return new Wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Cf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ou(n)}setAll(e){let n=tn.emptyPath(),s={},a=[];e.forEach(((u,h)=>{if(!n.isImmediateParentOf(h)){const f=this.getFieldsMap(n);this.applyChanges(f,s,a),s={},a=[],n=h.popLast()}u?s[h.lastSegment()]=Ou(u):a.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Cf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return es(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Cf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Va(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Wn(Ou(this.value))}}function yw(t){const e=[];return Va(t.fields,((n,s)=>{const a=new tn([n]);if(Cf(s)){const l=yw(s.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new _i(e)}class un{constructor(e,n,s,a,l,u,h){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(e){return new un(e,0,Ae.min(),Ae.min(),Ae.min(),Wn.empty(),0)}static newFoundDocument(e,n,s,a){return new un(e,1,n,Ae.min(),s,a,0)}static newNoDocument(e,n){return new un(e,2,n,Ae.min(),Ae.min(),Wn.empty(),0)}static newUnknownDocument(e,n){return new un(e,3,n,Ae.min(),Ae.min(),Wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $f{constructor(e,n){this.position=e,this.inclusive=n}}function Tx(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?s=ve.comparator(ve.fromName(u.referenceValue),n.key):s=Xo(u,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function Ex(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!es(t.position[n],e.position[n]))return!1;return!0}class Yf{constructor(e,n="asc"){this.field=e,this.dir=n}}function a5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class vw{}class Ot extends vw{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new l5(e,n,s):n==="array-contains"?new h5(e,s):n==="in"?new f5(e,s):n==="not-in"?new d5(e,s):n==="array-contains-any"?new m5(e,s):new Ot(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new u5(e,s):new c5(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Xo(n,this.value)):n!==null&&kr(this.value)===kr(n)&&this.matchesComparison(Xo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ti extends vw{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ti(e,n)}matches(e){return _w(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function _w(t){return t.op==="and"}function bw(t){return o5(t)&&_w(t)}function o5(t){for(const e of t.filters)if(e instanceof Ti)return!1;return!0}function Dg(t){if(t instanceof Ot)return t.field.canonicalString()+t.op.toString()+Wo(t.value);if(bw(t))return t.filters.map((e=>Dg(e))).join(",");{const e=t.filters.map((n=>Dg(n))).join(",");return`${t.op}(${e})`}}function xw(t,e){return t instanceof Ot?(function(s,a){return a instanceof Ot&&s.op===a.op&&s.field.isEqual(a.field)&&es(s.value,a.value)})(t,e):t instanceof Ti?(function(s,a){return a instanceof Ti&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,u,h)=>l&&xw(u,a.filters[h])),!0):!1})(t,e):void Te(19439)}function Tw(t){return t instanceof Ot?(function(n){return`${n.field.canonicalString()} ${n.op} ${Wo(n.value)}`})(t):t instanceof Ti?(function(n){return n.op.toString()+" {"+n.getFilters().map(Tw).join(" ,")+"}"})(t):"Filter"}class l5 extends Ot{constructor(e,n,s){super(e,n,s),this.key=ve.fromName(s.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class u5 extends Ot{constructor(e,n){super(e,"in",n),this.keys=Ew("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class c5 extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=Ew("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Ew(t,e){return(e.arrayValue?.values||[]).map((n=>ve.fromName(n.referenceValue)))}class h5 extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return z0(n)&&Zu(n.arrayValue,this.value)}}class f5 extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zu(this.value.arrayValue,n)}}class d5 extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Zu(this.value.arrayValue,n)}}class m5 extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!z0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Zu(this.value.arrayValue,s)))}}class p5{constructor(e,n=null,s=[],a=[],l=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=h,this.Te=null}}function wx(t,e=null,n=[],s=[],a=null,l=null,u=null){return new p5(t,e,n,s,a,l,u)}function B0(t){const e=Re(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Dg(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),yd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Wo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Wo(s))).join(",")),e.Te=n}return e.Te}function F0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!a5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!xw(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ex(t.startAt,e.startAt)&&Ex(t.endAt,e.endAt)}function kg(t){return ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class bc{constructor(e,n=null,s=[],a=[],l=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function g5(t,e,n,s,a,l,u,h){return new bc(t,e,n,s,a,l,u,h)}function ww(t){return new bc(t)}function Sx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Sw(t){return t.collectionGroup!==null}function ju(t){const e=Re(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Ft(tn.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Yf(l,s))})),n.has(tn.keyField().canonicalString())||e.Ie.push(new Yf(tn.keyField(),s))}return e.Ie}function Yi(t){const e=Re(t);return e.Ee||(e.Ee=y5(e,ju(t))),e.Ee}function y5(t,e){if(t.limitType==="F")return wx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Yf(a.field,l)}));const n=t.endAt?new $f(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new $f(t.startAt.position,t.startAt.inclusive):null;return wx(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Vg(t,e){const n=t.filters.concat([e]);return new bc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Pg(t,e,n){return new bc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _d(t,e){return F0(Yi(t),Yi(e))&&t.limitType===e.limitType}function Aw(t){return`${B0(Yi(t))}|lt:${t.limitType}`}function Io(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>Tw(a))).join(", ")}]`),yd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>Wo(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>Wo(a))).join(",")),`Target(${s})`})(Yi(t))}; limitType=${t.limitType})`}function bd(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ve.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of ju(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(u,h,f){const p=Tx(u,h,f);return u.inclusive?p<=0:p<0})(s.startAt,ju(s),a)||s.endAt&&!(function(u,h,f){const p=Tx(u,h,f);return u.inclusive?p>=0:p>0})(s.endAt,ju(s),a))})(t,e)}function v5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Cw(t){return(e,n)=>{let s=!1;for(const a of ju(t)){const l=_5(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function _5(t,e,n){const s=t.field.isKeyField()?ve.comparator(e.key,n.key):(function(l,u,h){const f=u.data.field(l),p=h.data.field(l);return f!==null&&p!==null?Xo(f,p):Te(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:t.dir})}}class Pa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Va(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return uw(this.inner)}size(){return this.innerSize}}const b5=new mt(ve.comparator);function ks(){return b5}const Rw=new mt(ve.comparator);function Iu(...t){let e=Rw;for(const n of t)e=e.insert(n.key,n);return e}function Nw(t){let e=Rw;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ta(){return Lu()}function Iw(){return Lu()}function Lu(){return new Pa((t=>t.toString()),((t,e)=>t.isEqual(e)))}const x5=new mt(ve.comparator),T5=new Ft(ve.comparator);function Be(...t){let e=T5;for(const n of t)e=e.add(n);return e}const E5=new Ft(ze);function w5(){return E5}function q0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hf(e)?"-0":e}}function Mw(t){return{integerValue:""+t}}function S5(t,e){return JD(e)?Mw(e):q0(t,e)}class xd{constructor(){this._=void 0}}function A5(t,e,n){return t instanceof Qf?(function(a,l){const u={fields:{[fw]:{stringValue:hw},[mw]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&U0(l)&&(l=vd(l)),l&&(u.fields[dw]=l),{mapValue:u}})(n,e):t instanceof ec?kw(t,e):t instanceof tc?Vw(t,e):(function(a,l){const u=Dw(a,l),h=Ax(u)+Ax(a.Ae);return Mg(u)&&Mg(a.Ae)?Mw(h):q0(a.serializer,h)})(t,e)}function C5(t,e,n){return t instanceof ec?kw(t,e):t instanceof tc?Vw(t,e):n}function Dw(t,e){return t instanceof Xf?(function(s){return Mg(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Qf extends xd{}class ec extends xd{constructor(e){super(),this.elements=e}}function kw(t,e){const n=Pw(e);for(const s of t.elements)n.some((a=>es(a,s)))||n.push(s);return{arrayValue:{values:n}}}class tc extends xd{constructor(e){super(),this.elements=e}}function Vw(t,e){let n=Pw(e);for(const s of t.elements)n=n.filter((a=>!es(a,s)));return{arrayValue:{values:n}}}class Xf extends xd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Ax(t){return Et(t.integerValue||t.doubleValue)}function Pw(t){return z0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function R5(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof ec&&a instanceof ec||s instanceof tc&&a instanceof tc?Qo(s.elements,a.elements,es):s instanceof Xf&&a instanceof Xf?es(s.Ae,a.Ae):s instanceof Qf&&a instanceof Qf})(t.transform,e.transform)}class N5{constructor(e,n){this.version=e,this.transformResults=n}}class Rs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Rs}static exists(e){return new Rs(void 0,e)}static updateTime(e){return new Rs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Td{}function Ow(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Lw(t.key,Rs.none()):new xc(t.key,t.data,Rs.none());{const n=t.data,s=Wn.empty();let a=new Ft(tn.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new Oa(t.key,s,new _i(a.toArray()),Rs.none())}}function I5(t,e,n){t instanceof xc?(function(a,l,u){const h=a.value.clone(),f=Rx(a.fieldTransforms,l,u.transformResults);h.setAll(f),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(t,e,n):t instanceof Oa?(function(a,l,u){if(!Rf(a.precondition,l))return void l.convertToUnknownDocument(u.version);const h=Rx(a.fieldTransforms,l,u.transformResults),f=l.data;f.setAll(jw(a)),f.setAll(h),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Uu(t,e,n,s){return t instanceof xc?(function(l,u,h,f){if(!Rf(l.precondition,u))return h;const p=l.value.clone(),y=Nx(l.fieldTransforms,f,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(t,e,n,s):t instanceof Oa?(function(l,u,h,f){if(!Rf(l.precondition,u))return h;const p=Nx(l.fieldTransforms,f,u),y=u.data;return y.setAll(jw(l)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(t,e,n,s):(function(l,u,h){return Rf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(t,e,n)}function M5(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=Dw(s.transform,a||null);l!=null&&(n===null&&(n=Wn.empty()),n.set(s.field,l))}return n||null}function Cx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Qo(s,a,((l,u)=>R5(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class xc extends Td{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Oa extends Td{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function jw(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function Rx(t,e,n){const s=new Map;Qe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,h=e.data.field(l.field);s.set(l.field,C5(u,h,n[a]))}return s}function Nx(t,e,n){const s=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);s.set(a.field,A5(l,u,e))}return s}class Lw extends Td{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class D5 extends Td{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class k5{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&I5(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Uu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Uu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Iw();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=n.has(a.key)?null:h;const f=Ow(u,h);f!==null&&s.set(a.key,f),u.isValidDocument()||u.convertToNoDocument(Ae.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Be())}isEqual(e){return this.batchId===e.batchId&&Qo(this.mutations,e.mutations,((n,s)=>Cx(n,s)))&&Qo(this.baseMutations,e.baseMutations,((n,s)=>Cx(n,s)))}}class H0{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Qe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return x5})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new H0(e,n,s,a)}}class V5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class P5{constructor(e,n){this.count=e,this.unchangedNames=n}}var kt,He;function O5(t){switch(t){case ae.OK:return Te(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return Te(15467,{code:t})}}function Uw(t){if(t===void 0)return Ds("GRPC error has no .code"),ae.UNKNOWN;switch(t){case kt.OK:return ae.OK;case kt.CANCELLED:return ae.CANCELLED;case kt.UNKNOWN:return ae.UNKNOWN;case kt.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case kt.INTERNAL:return ae.INTERNAL;case kt.UNAVAILABLE:return ae.UNAVAILABLE;case kt.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case kt.NOT_FOUND:return ae.NOT_FOUND;case kt.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case kt.ABORTED:return ae.ABORTED;case kt.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case kt.DATA_LOSS:return ae.DATA_LOSS;default:return Te(39323,{code:t})}}(He=kt||(kt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";function j5(){return new TextEncoder}const L5=new Ar([4294967295,4294967295],0);function Ix(t){const e=j5().encode(t),n=new J2;return n.update(e),new Uint8Array(n.digest())}function Mx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ar([n,s],0),new Ar([a,l],0)]}class G0{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Mu(`Invalid padding: ${n}`);if(s<0)throw new Mu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Mu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Mu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ar.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(Ar.fromNumber(s)));return a.compare(L5)===1&&(a=new Ar([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Ix(e),[s,a]=Mx(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);if(!this.we(u))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new G0(l,a,n);return s.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const n=Ix(e),[s,a]=Mx(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Mu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ed{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Tc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Ed(Ae.min(),a,new mt(ze),ks(),Be())}}class Tc{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Tc(s,n,Be(),Be(),Be())}}class Nf{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class zw{constructor(e,n){this.targetId=e,this.Ce=n}}class Bw{constructor(e,n,s=sn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Dx{constructor(){this.ve=0,this.Fe=kx(),this.Me=sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),n=Be(),s=Be();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Te(38017,{changeType:l})}})),new Tc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=kx()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class U5{constructor(e){this.Ge=e,this.ze=new Map,this.je=ks(),this.Je=cf(),this.He=cf(),this.Ye=new mt(ze)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(kg(l))if(s===0){const u=new ve(l.path);this.et(n,u,un.newNoDocument(u,Ae.min()))}else Qe(s===1,20013,{expectedCount:s});else{const u=this._t(n);if(u!==s){const h=this.ut(e),f=h?this.ct(h,e,u):1;if(f!==0){this.it(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let u,h;try{u=Dr(s).toUint8Array()}catch(f){if(f instanceof cw)return Yo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new G0(u,a,l)}catch(f){return Yo(f instanceof Mu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const h=this.ot(u);if(h){if(l.current&&kg(h.target)){const f=new ve(h.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,un.newNoDocument(f,e))}l.Be&&(n.set(u,l.ke()),l.qe())}}));let s=Be();this.He.forEach(((l,u)=>{let h=!0;u.forEachWhile((f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new Ed(e,n,this.Ye,this.je,s);return this.je=ks(),this.Je=cf(),this.He=cf(),this.Ye=new mt(ze),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Dx,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ft(ze),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ft(ze),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Dx),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function cf(){return new mt(ve.comparator)}function kx(){return new mt(ve.comparator)}const z5={asc:"ASCENDING",desc:"DESCENDING"},B5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},F5={and:"AND",or:"OR"};class q5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Og(t,e){return t.useProto3Json||yd(e)?e:{value:e}}function Wf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Fw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function H5(t,e){return Wf(t,e.toTimestamp())}function Qi(t){return Qe(!!t,49232),Ae.fromTimestamp((function(n){const s=Mr(n);return new ot(s.seconds,s.nanos)})(t))}function K0(t,e){return jg(t,e).canonicalString()}function jg(t,e){const n=(function(a){return new st(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function qw(t){const e=st.fromString(t);return Qe(Yw(e),10190,{key:e.toString()}),e}function Lg(t,e){return K0(t.databaseId,e.path)}function $p(t,e){const n=qw(e);if(n.get(1)!==t.databaseId.projectId)throw new de(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ve(Gw(n))}function Hw(t,e){return K0(t.databaseId,e)}function G5(t){const e=qw(t);return e.length===4?st.emptyPath():Gw(e)}function Ug(t){return new st(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Gw(t){return Qe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Vx(t,e,n){return{name:Lg(t,e),fields:n.value.mapValue.fields}}function K5(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Te(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(Qe(y===void 0||typeof y=="string",58123),sn.fromBase64String(y||"")):(Qe(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),sn.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(p){const y=p.code===void 0?ae.UNKNOWN:Uw(p.code);return new de(y,p.message||"")})(u);n=new Bw(s,a,l,h||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=$p(t,s.document.name),l=Qi(s.document.updateTime),u=s.document.createTime?Qi(s.document.createTime):Ae.min(),h=new Wn({mapValue:{fields:s.document.fields}}),f=un.newFoundDocument(a,l,u,h),p=s.targetIds||[],y=s.removedTargetIds||[];n=new Nf(p,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=$p(t,s.document),l=s.readTime?Qi(s.readTime):Ae.min(),u=un.newNoDocument(a,l),h=s.removedTargetIds||[];n=new Nf([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=$p(t,s.document),l=s.removedTargetIds||[];n=new Nf([],l,a,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new P5(a,l),h=s.targetId;n=new zw(h,u)}}return n}function $5(t,e){let n;if(e instanceof xc)n={update:Vx(t,e.key,e.value)};else if(e instanceof Lw)n={delete:Lg(t,e.key)};else if(e instanceof Oa)n={update:Vx(t,e.key,e.data),updateMask:nk(e.fieldMask)};else{if(!(e instanceof D5))return Te(16599,{Vt:e.type});n={verify:Lg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,u){const h=u.transform;if(h instanceof Qf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof ec)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof tc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Xf)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Te(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:H5(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Te(27497)})(t,e.precondition)),n}function Y5(t,e){return t&&t.length>0?(Qe(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?Qi(a.updateTime):Qi(l);return u.isEqual(Ae.min())&&(u=Qi(l)),new N5(u,a.transformResults||[])})(n,e)))):[]}function Q5(t,e){return{documents:[Hw(t,e.path)]}}function X5(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Hw(t,a);const l=(function(p){if(p.length!==0)return $w(Ti.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((y=>(function(T){return{field:Mo(T.field),direction:Z5(T.dir)}})(y)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=Og(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function W5(t){let e=G5(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Qe(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(_){const T=Kw(_);return T instanceof Ti&&bw(T)?T.getFilters():[T]})(n.where));let u=[];n.orderBy&&(u=(function(_){return _.map((T=>(function(C){return new Yf(Do(C.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(T)))})(n.orderBy));let h=null;n.limit&&(h=(function(_){let T;return T=typeof _=="object"?_.value:_,yd(T)?null:T})(n.limit));let f=null;n.startAt&&(f=(function(_){const T=!!_.before,w=_.values||[];return new $f(w,T)})(n.startAt));let p=null;return n.endAt&&(p=(function(_){const T=!_.before,w=_.values||[];return new $f(w,T)})(n.endAt)),g5(e,a,u,l,h,"F",f,p)}function J5(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Kw(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Do(n.unaryFilter.field);return Ot.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Do(n.unaryFilter.field);return Ot.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Do(n.unaryFilter.field);return Ot.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Do(n.unaryFilter.field);return Ot.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Ot.create(Do(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ti.create(n.compositeFilter.filters.map((s=>Kw(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(n.compositeFilter.op))})(t):Te(30097,{filter:t})}function Z5(t){return z5[t]}function ek(t){return B5[t]}function tk(t){return F5[t]}function Mo(t){return{fieldPath:t.canonicalString()}}function Do(t){return tn.fromServerFormat(t.fieldPath)}function $w(t){return t instanceof Ot?(function(n){if(n.op==="=="){if(xx(n.value))return{unaryFilter:{field:Mo(n.field),op:"IS_NAN"}};if(bx(n.value))return{unaryFilter:{field:Mo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(xx(n.value))return{unaryFilter:{field:Mo(n.field),op:"IS_NOT_NAN"}};if(bx(n.value))return{unaryFilter:{field:Mo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mo(n.field),op:ek(n.op),value:n.value}}})(t):t instanceof Ti?(function(n){const s=n.getFilters().map((a=>$w(a)));return s.length===1?s[0]:{compositeFilter:{op:tk(n.op),filters:s}}})(t):Te(54877,{filter:t})}function nk(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Yw(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Tr{constructor(e,n,s,a,l=Ae.min(),u=Ae.min(),h=sn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Tr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ik{constructor(e){this.yt=e}}function sk(t){const e=W5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Pg(e,e.limit,"L"):e}class rk{constructor(){this.Cn=new ak}addToCollectionParentIndex(e,n){return this.Cn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(Ir.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(Ir.min())}updateCollectionGroup(e,n,s){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class ak{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Ft(st.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Ft(st.comparator)).toArray()}}const Px={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Qw=41943040;class En{static withCacheSize(e){return new En(e,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(Qw,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);class Jo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Jo(0)}static cr(){return new Jo(-1)}}const Ox="LruGarbageCollector",ok=1048576;function jx([t,e],[n,s]){const a=ze(t,n);return a===0?ze(e,s):a}class lk{constructor(e){this.Ir=e,this.buffer=new Ft(jx),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();jx(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class uk{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(Ox,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){hl(n)?fe(Ox,"Ignoring IndexedDB error during garbage collection: ",n):await cl(n)}await this.Vr(3e5)}))}}class ck{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return oe.resolve(gd.ce);const s=new lk(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(Px)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Px):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,l,u,h,f,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,u=Date.now(),this.nthSequenceNumber(e,a)))).next((_=>(s=_,h=Date.now(),this.removeTargets(e,s,n)))).next((_=>(l=_,f=Date.now(),this.removeOrphanedDocuments(e,s)))).next((_=>(p=Date.now(),No()<=Ue.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${l} targets in `+(f-h)+`ms
	Removed ${_} documents in `+(p-f)+`ms
Total Duration: ${p-y}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function hk(t,e){return new ck(t,e)}class fk{constructor(){this.changes=new Pa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?oe.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class dk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class mk{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&Uu(s.mutation,a,_i.empty(),ot.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Be()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Be()){const a=Ta();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let u=Iu();return l.forEach(((h,f)=>{u=u.insert(h,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const s=Ta();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Be())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,h)=>{n.set(u,h)}))}))}computeViews(e,n,s,a){let l=ks();const u=Lu(),h=(function(){return Lu()})();return n.forEach(((f,p)=>{const y=s.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Oa)?l=l.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),Uu(y.mutation,p,y.mutation.getFieldMask(),ot.now())):u.set(p.key,_i.empty())})),this.recalculateAndSaveOverlays(e,l).next((f=>(f.forEach(((p,y)=>u.set(p,y))),n.forEach(((p,y)=>h.set(p,new dk(y,u.get(p)??null)))),h)))}recalculateAndSaveOverlays(e,n){const s=Lu();let a=new mt(((u,h)=>u-h)),l=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const h of u)h.keys().forEach((f=>{const p=n.get(f);if(p===null)return;let y=s.get(f)||_i.empty();y=h.applyToLocalView(p,y),s.set(f,y);const _=(a.get(h.batchId)||Be()).add(f);a=a.insert(h.batchId,_)}))})).next((()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,y=f.value,_=Iw();y.forEach((T=>{if(!l.has(T)){const w=Ow(n.get(T),s.get(T));w!==null&&_.set(T,w),l=l.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,_))}return oe.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(u){return ve.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Sw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):oe.resolve(Ta());let h=Xu,f=l;return u.next((p=>oe.forEach(p,((y,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),l.get(y)?oe.resolve():this.remoteDocumentCache.getEntry(e,y).next((T=>{f=f.insert(y,T)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,f,p,Be()))).next((y=>({batchId:h,changes:Nw(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next((s=>{let a=Iu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let u=Iu();return this.indexManager.getCollectionParents(e,l).next((h=>oe.forEach(h,(f=>{const p=(function(_,T){return new bc(T,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,f.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,s,a).next((y=>{y.forEach(((_,T)=>{u=u.insert(_,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((u=>{l.forEach(((f,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,un.newInvalidDocument(y)))}));let h=Iu();return u.forEach(((f,p)=>{const y=l.get(f);y!==void 0&&Uu(y.mutation,p,_i.empty(),ot.now()),bd(n,p)&&(h=h.insert(f,p))})),h}))}}class pk{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return oe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Qi(a.createTime)}})(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:sk(a.bundledQuery),readTime:Qi(a.readTime)}})(n)),oe.resolve()}}class gk{constructor(){this.overlays=new mt(ve.comparator),this.qr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ta();return oe.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.St(e,n,l)})),oe.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),oe.resolve()}getOverlaysForCollection(e,n,s){const a=Ta(),l=n.length+1,u=new ve(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&f.largestBatchId>s&&a.set(f.getKey(),f)}return oe.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new mt(((p,y)=>p-y));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let y=l.get(p.largestBatchId);y===null&&(y=Ta(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const h=Ta(),f=l.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,y)=>h.set(p,y))),!(h.size()>=a)););return oe.resolve(h)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new V5(n,s));let l=this.qr.get(n);l===void 0&&(l=Be(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}class yk{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}class $0{constructor(){this.Qr=new Ft(Kt.$r),this.Ur=new Ft(Kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Kt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Kt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ve(new st([])),s=new Kt(n,e),a=new Kt(n,e+1),l=[];return this.Ur.forEachInRange([s,a],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ve(new st([])),s=new Kt(n,e),a=new Kt(n,e+1);let l=Be();return this.Ur.forEachInRange([s,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new Kt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Kt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ve.comparator(e.key,n.key)||ze(e.Yr,n.Yr)}static Kr(e,n){return ze(e.Yr,n.Yr)||ve.comparator(e.key,n.key)}}class vk{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ft(Kt.$r)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new k5(l,n,s,a);this.mutationQueue.push(u);for(const h of a)this.Zr=this.Zr.add(new Kt(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return oe.resolve(u)}lookupMutationBatch(e,n){return oe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return oe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?L0:this.tr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Kt(n,0),a=new Kt(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(u=>{const h=this.Xr(u.Yr);l.push(h)})),oe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ft(ze);return n.forEach((a=>{const l=new Kt(a,0),u=new Kt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(h=>{s=s.add(h.Yr)}))})),oe.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;ve.isDocumentKey(l)||(l=l.child(""));const u=new Kt(new ve(l),0);let h=new Ft(ze);return this.Zr.forEachWhile((f=>{const p=f.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(h=h.add(f.Yr)),!0)}),u),oe.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Qe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return oe.forEach(n.mutations,(a=>{const l=new Kt(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Kt(n,0),a=this.Zr.firstAfterOrEqual(s);return oe.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class _k{constructor(e){this.ri=e,this.docs=(function(){return new mt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return oe.resolve(s?s.document.mutableCopy():un.newInvalidDocument(n))}getEntries(e,n){let s=ks();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():un.newInvalidDocument(a))})),oe.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=ks();const u=n.path,h=new ve(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:y}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||YD($D(y),s)<=0||(a.has(y.key)||bd(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return oe.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Te(9500)}ii(e,n){return oe.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new bk(this)}getSize(e){return oe.resolve(this.size)}}class bk extends fk{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),oe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class xk{constructor(e){this.persistence=e,this.si=new Pa((n=>B0(n)),F0),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new $0,this.targetCount=0,this.ai=Jo.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),oe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Jo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.Pr(n),oe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=n&&s.get(h.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),oe.waitFor(l).next((()=>a))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return oe.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),oe.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),oe.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return oe.resolve(s)}containsKey(e,n){return oe.resolve(this._i.containsKey(n))}}class Xw{constructor(e,n){this.ui={},this.overlays={},this.ci=new gd(0),this.li=!1,this.li=!0,this.hi=new yk,this.referenceDelegate=e(this),this.Pi=new xk(this),this.indexManager=new rk,this.remoteDocumentCache=(function(a){return new _k(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new ik(n),this.Ii=new pk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new gk,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new vk(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){fe("MemoryPersistence","Starting transaction:",e);const a=new Tk(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return oe.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class Tk extends XD{constructor(e){super(),this.currentSequenceNumber=e}}class Y0{constructor(e){this.persistence=e,this.Ri=new $0,this.Vi=null}static mi(e){return new Y0(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),oe.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.fi,(s=>{const a=ve.fromPath(s);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Ae.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return oe.or([()=>oe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Jf{constructor(e,n){this.persistence=e,this.pi=new Pa((s=>ZD(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=hk(this,n)}static mi(e,n){return new Jf(e,n)}Ei(){}di(e){return oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return oe.forEach(this.pi,((s,a)=>this.br(e,s,a).next((l=>l?oe.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,n).next((h=>{h||(s++,l.removeEntry(u,Ae.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),oe.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Af(e.data.value)),n}br(e,n,s){return oe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return oe.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Q0{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=Be(),a=Be();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Q0(e,n.fromCache,s,a)}}class Ek{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class wk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return XI()?8:WD(hn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ys(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,n,a,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new Ek;return this.Ss(e,n,u).next((h=>{if(l.result=h,this.Vs)return this.bs(e,n,u,h.size)}))})).next((()=>l.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(No()<=Ue.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),oe.resolve()):(No()<=Ue.DEBUG&&fe("QueryEngine","Query:",Io(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(No()<=Ue.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yi(n))):oe.resolve())}ys(e,n){if(Sx(n))return oe.resolve(null);let s=Yi(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Pg(n,null,"F"),s=Yi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const u=Be(...l);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,s).next((f=>{const p=this.Ds(n,h);return this.Cs(n,p,u,f.readTime)?this.ys(e,Pg(n,null,"F")):this.vs(e,p,n,f)}))))})))))}ws(e,n,s,a){return Sx(n)||a.isEqual(Ae.min())?oe.resolve(null):this.ps.getDocuments(e,s).next((l=>{const u=this.Ds(n,l);return this.Cs(n,u,s,a)?oe.resolve(null):(No()<=Ue.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Io(n)),this.vs(e,u,n,KD(a,Xu)).next((h=>h)))}))}Ds(e,n){let s=new Ft(Cw(e));return n.forEach(((a,l)=>{bd(e,l)&&(s=s.add(l))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,s){return No()<=Ue.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Io(n)),this.ps.getDocumentsMatchingQuery(e,n,Ir.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const X0="LocalStore",Sk=3e8;class Ak{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new mt(ze),this.xs=new Pa((l=>B0(l)),F0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Ck(t,e,n,s){return new Ak(t,e,n,s)}async function Ww(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],h=[];let f=Be();for(const p of a){u.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}for(const p of l){h.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}return n.localDocuments.getDocuments(s,f).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:h})))}))}))}function Rk(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,p,y){const _=p.batch,T=_.keys();let w=oe.resolve();return T.forEach((C=>{w=w.next((()=>y.getEntry(f,C))).next((P=>{const D=p.docVersions.get(C);Qe(D!==null,48541),P.version.compareTo(D)<0&&(_.applyToRemoteDocument(P,p),P.isValidDocument()&&(P.setReadTime(p.commitVersion),y.addEntry(P)))}))})),w.next((()=>h.mutationQueue.removeMutationBatch(f,_)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(h){let f=Be();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function Jw(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Nk(t,e){const n=Re(t),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const h=[];e.targetChanges.forEach(((y,_)=>{const T=a.get(_);if(!T)return;h.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,_).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,_))));let w=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?w=w.withResumeToken(sn.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):y.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(y.resumeToken,s)),a=a.insert(_,w),(function(P,D,O){return P.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=Sk?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(T,w,y)&&h.push(n.Pi.updateTargetData(l,w))}));let f=ks(),p=Be();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),h.push(Ik(l,u,e.documentUpdates).next((y=>{f=y.ks,p=y.qs}))),!s.isEqual(Ae.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((_=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));h.push(y)}return oe.waitFor(h).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,f,p))).next((()=>f))})).then((l=>(n.Ms=a,l)))}function Ik(t,e,n){let s=Be(),a=Be();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let u=ks();return n.forEach(((h,f)=>{const p=l.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),f.isNoDocument()&&f.version.isEqual(Ae.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):fe(X0,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)})),{ks:u,qs:a}}))}function Mk(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=L0),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function Dk(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((l=>l?(a=l,oe.resolve(a)):n.Pi.allocateTargetId(s).next((u=>(a=new Tr(e,u,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function zg(t,e,n){const s=Re(t),a=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!hl(u))throw u;fe(X0,`Failed to update sequence numbers for target ${e}: ${u}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function Lx(t,e,n){const s=Re(t);let a=Ae.min(),l=Be();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,p,y){const _=Re(f),T=_.xs.get(y);return T!==void 0?oe.resolve(_.Ms.get(T)):_.Pi.getTargetData(p,y)})(s,u,Yi(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(u,h.targetId).next((f=>{l=f}))})).next((()=>s.Fs.getDocumentsMatchingQuery(u,e,n?a:Ae.min(),n?l:Be()))).next((h=>(kk(s,v5(e),h),{documents:h,Qs:l})))))}function kk(t,e,n){let s=t.Os.get(e)||Ae.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Os.set(e,s)}class Ux{constructor(){this.activeTargetIds=w5()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Vk{constructor(){this.Mo=new Ux,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Ux,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Pk{Oo(e){}shutdown(){}}const zx="ConnectivityMonitor";class Bx{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(zx,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(zx,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let hf=null;function Bg(){return hf===null?hf=(function(){return 268435456+Math.round(2147483648*Math.random())})():hf++,"0x"+hf.toString(16)}const Yp="RestConnection",Ok={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===Gf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,l){const u=Bg(),h=this.zo(e,n.toUriEncodedString());fe(Yp,`Sending RPC '${e}' ${u}:`,h,s);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,a,l);const{host:p}=new URL(h),y=al(p);return this.Jo(e,h,f,s,y).then((_=>(fe(Yp,`Received RPC '${e}' ${u}: `,_),_)),(_=>{throw Yo(Yp,`RPC '${e}' ${u} failed with error: `,_,"url: ",h,"request:",s),_}))}Ho(e,n,s,a,l,u){return this.Go(e,n,s,a,l)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ul})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const s=Ok[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class Lk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const an="WebChannelConnection";class Uk extends jk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,l){const u=Bg();return new Promise(((h,f)=>{const p=new Z2;p.setWithCredentials(!0),p.listenOnce(ew.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Sf.NO_ERROR:const _=p.getResponseJson();fe(an,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),h(_);break;case Sf.TIMEOUT:fe(an,`RPC '${e}' ${u} timed out`),f(new de(ae.DEADLINE_EXCEEDED,"Request time out"));break;case Sf.HTTP_ERROR:const T=p.getStatus();if(fe(an,`RPC '${e}' ${u} failed with status:`,T,"response text:",p.getResponseText()),T>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const C=w?.error;if(C&&C.status&&C.message){const P=(function(O){const B=O.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(B)>=0?B:ae.UNKNOWN})(C.status);f(new de(P,C.message))}else f(new de(ae.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new de(ae.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{fe(an,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(a);fe(an,`RPC '${e}' ${u} sending request:`,a),p.send(n,"POST",y,s,15)}))}T_(e,n,s){const a=Bg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=iw(),h=nw(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,s),f.encodeInitMessageHeaders=!0;const y=l.join("");fe(an,`Creating RPC '${e}' stream ${a}: ${y}`,f);const _=u.createWebChannel(y,f);this.I_(_);let T=!1,w=!1;const C=new Lk({Yo:D=>{w?fe(an,`Not sending because RPC '${e}' stream ${a} is closed:`,D):(T||(fe(an,`Opening RPC '${e}' stream ${a} transport.`),_.open(),T=!0),fe(an,`RPC '${e}' stream ${a} sending:`,D),_.send(D))},Zo:()=>_.close()}),P=(D,O,B)=>{D.listen(O,(z=>{try{B(z)}catch(J){setTimeout((()=>{throw J}),0)}}))};return P(_,Nu.EventType.OPEN,(()=>{w||(fe(an,`RPC '${e}' stream ${a} transport opened.`),C.o_())})),P(_,Nu.EventType.CLOSE,(()=>{w||(w=!0,fe(an,`RPC '${e}' stream ${a} transport closed`),C.a_(),this.E_(_))})),P(_,Nu.EventType.ERROR,(D=>{w||(w=!0,Yo(an,`RPC '${e}' stream ${a} transport errored. Name:`,D.name,"Message:",D.message),C.a_(new de(ae.UNAVAILABLE,"The operation could not be completed")))})),P(_,Nu.EventType.MESSAGE,(D=>{if(!w){const O=D.data[0];Qe(!!O,16349);const B=O,z=B?.error||B[0]?.error;if(z){fe(an,`RPC '${e}' stream ${a} received error:`,z);const J=z.status;let Z=(function(A){const V=kt[A];if(V!==void 0)return Uw(V)})(J),te=z.message;Z===void 0&&(Z=ae.INTERNAL,te="Unknown error status: "+J+" with message "+z.message),w=!0,C.a_(new de(Z,te)),_.close()}else fe(an,`RPC '${e}' stream ${a} received:`,O),C.u_(O)}})),P(h,tw.STAT_EVENT,(D=>{D.stat===Rg.PROXY?fe(an,`RPC '${e}' stream ${a} detected buffering proxy`):D.stat===Rg.NOPROXY&&fe(an,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{C.__()}),0),C}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Qp(){return typeof document<"u"?document:null}function wd(t){return new q5(t,!0)}class Zw{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&fe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Fx="PersistentStream";class eS{constructor(e,n,s,a,l,u,h,f){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Zw(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(Ds(n.toString()),Ds("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new de(ae.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(Fx,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(fe(Fx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class zk extends eS{constructor(e,n,s,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=K5(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ae.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ae.min():u.readTime?Qi(u.readTime):Ae.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Ug(this.serializer),n.addTarget=(function(l,u){let h;const f=u.target;if(h=kg(f)?{documents:Q5(l,f)}:{query:X5(l,f).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=Fw(l,u.resumeToken);const p=Og(l,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Ae.min())>0){h.readTime=Wf(l,u.snapshotVersion.toTimestamp());const p=Og(l,u.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const s=J5(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Ug(this.serializer),n.removeTarget=e,this.q_(n)}}class Bk extends eS{constructor(e,n,s,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Y5(e.writeResults,e.commitTime),s=Qi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Ug(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>$5(this.serializer,s)))};this.q_(n)}}class Fk{}class qk extends Fk{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new de(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,jg(n,s),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new de(ae.UNKNOWN,l.toString())}))}Ho(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,jg(n,s),a,u,h,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(ae.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Hk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ds(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ka="RemoteStore";class Gk{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{s.enqueueAndForget((async()=>{ja(this)&&(fe(ka,"Restarting streams for network reachability change."),await(async function(f){const p=Re(f);p.Ea.add(4),await Ec(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Sd(p)})(this))}))})),this.Ra=new Hk(s,a)}}async function Sd(t){if(ja(t))for(const e of t.da)await e(!0)}async function Ec(t){for(const e of t.da)await e(!1)}function tS(t,e){const n=Re(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ey(n)?Z0(n):fl(n).O_()&&J0(n,e))}function W0(t,e){const n=Re(t),s=fl(n);n.Ia.delete(e),s.O_()&&nS(n,e),n.Ia.size===0&&(s.O_()?s.L_():ja(n)&&n.Ra.set("Unknown"))}function J0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fl(t).Y_(e)}function nS(t,e){t.Va.Ue(e),fl(t).Z_(e)}function Z0(t){t.Va=new U5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),fl(t).start(),t.Ra.ua()}function ey(t){return ja(t)&&!fl(t).x_()&&t.Ia.size>0}function ja(t){return Re(t).Ea.size===0}function iS(t){t.Va=void 0}async function Kk(t){t.Ra.set("Online")}async function $k(t){t.Ia.forEach(((e,n)=>{J0(t,e)}))}async function Yk(t,e){iS(t),ey(t)?(t.Ra.ha(e),Z0(t)):t.Ra.set("Unknown")}async function Qk(t,e,n){if(t.Ra.set("Online"),e instanceof Bw&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ia.delete(h),a.Va.removeTarget(h))})(t,e)}catch(s){fe(ka,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Zf(t,s)}else if(e instanceof Nf?t.Va.Ze(e):e instanceof zw?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ae.min()))try{const s=await Jw(t.localStore);n.compareTo(s)>=0&&await(function(l,u){const h=l.Va.Tt(u);return h.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(f.resumeToken,u))}})),h.targetMismatches.forEach(((f,p)=>{const y=l.Ia.get(f);if(!y)return;l.Ia.set(f,y.withResumeToken(sn.EMPTY_BYTE_STRING,y.snapshotVersion)),nS(l,f);const _=new Tr(y.target,f,p,y.sequenceNumber);J0(l,_)})),l.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(s){fe(ka,"Failed to raise snapshot:",s),await Zf(t,s)}}async function Zf(t,e,n){if(!hl(e))throw e;t.Ea.add(1),await Ec(t),t.Ra.set("Offline"),n||(n=()=>Jw(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{fe(ka,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Sd(t)}))}function sS(t,e){return e().catch((n=>Zf(t,n,e)))}async function Ad(t){const e=Re(t),n=Vr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:L0;for(;Xk(e);)try{const a=await Mk(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,Wk(e,a)}catch(a){await Zf(e,a)}rS(e)&&aS(e)}function Xk(t){return ja(t)&&t.Ta.length<10}function Wk(t,e){t.Ta.push(e);const n=Vr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function rS(t){return ja(t)&&!Vr(t).x_()&&t.Ta.length>0}function aS(t){Vr(t).start()}async function Jk(t){Vr(t).ra()}async function Zk(t){const e=Vr(t);for(const n of t.Ta)e.ea(n.mutations)}async function e6(t,e,n){const s=t.Ta.shift(),a=H0.from(s,e,n);await sS(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Ad(t)}async function t6(t,e){e&&Vr(t).X_&&await(async function(s,a){if((function(u){return O5(u)&&u!==ae.ABORTED})(a.code)){const l=s.Ta.shift();Vr(s).B_(),await sS(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Ad(s)}})(t,e),rS(t)&&aS(t)}async function qx(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),fe(ka,"RemoteStore received new credentials");const s=ja(n);n.Ea.add(3),await Ec(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Sd(n)}async function n6(t,e){const n=Re(t);e?(n.Ea.delete(2),await Sd(n)):e||(n.Ea.add(2),await Ec(n),n.Ra.set("Unknown"))}function fl(t){return t.ma||(t.ma=(function(n,s,a){const l=Re(n);return l.sa(),new zk(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:Kk.bind(null,t),t_:$k.bind(null,t),r_:Yk.bind(null,t),H_:Qk.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),ey(t)?Z0(t):t.Ra.set("Unknown")):(await t.ma.stop(),iS(t))}))),t.ma}function Vr(t){return t.fa||(t.fa=(function(n,s,a){const l=Re(n);return l.sa(),new Bk(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Jk.bind(null,t),r_:t6.bind(null,t),ta:Zk.bind(null,t),na:e6.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Ad(t)):(await t.fa.stop(),t.Ta.length>0&&(fe(ka,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class ty{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const u=Date.now()+s,h=new ty(e,n,u,a,l);return h.start(s),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ny(t,e){if(Ds("AsyncQueue",`${e}: ${t}`),hl(t))return new de(ae.UNAVAILABLE,`${e}: ${t}`);throw t}class Bo{static emptySet(e){return new Bo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ve.comparator(n.key,s.key):(n,s)=>ve.comparator(n.key,s.key),this.keyedMap=Iu(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Bo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Bo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class Hx{constructor(){this.ga=new mt(ve.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Zo{constructor(e,n,s,a,l,u,h,f,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,a,l){const u=[];return n.forEach((h=>{u.push({type:0,doc:h})})),new Zo(e,n,Bo.emptySet(n),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_d(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class i6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class s6{constructor(){this.queries=Gx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Re(n),l=a.queries;a.queries=Gx(),l.forEach(((u,h)=>{for(const f of h.Sa)f.onError(s)}))})(this,new de(ae.ABORTED,"Firestore shutting down"))}}function Gx(){return new Pa((t=>Aw(t)),_d)}async function r6(t,e){const n=Re(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new i6,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const h=ny(u,`Initialization of query '${Io(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&iy(n)}async function a6(t,e){const n=Re(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function o6(t,e){const n=Re(t);let s=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const h of u.Sa)h.Fa(a)&&(s=!0);u.wa=a}}s&&iy(n)}function l6(t,e,n){const s=Re(t),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(e)}function iy(t){t.Ca.forEach((e=>{e.next()}))}var Fg,Kx;(Kx=Fg||(Fg={})).Ma="default",Kx.Cache="cache";class u6{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Zo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Zo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Fg.Cache}}class oS{constructor(e){this.key=e}}class lS{constructor(e){this.key=e}}class c6{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=Cw(e),this.tu=new Bo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new Hx,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,h=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,_)=>{const T=a.get(y),w=bd(this.query,_)?_:null,C=!!T&&this.mutatedKeys.has(T.key),P=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let D=!1;T&&w?T.data.isEqual(w.data)?C!==P&&(s.track({type:3,doc:w}),D=!0):this.su(T,w)||(s.track({type:2,doc:w}),D=!0,(f&&this.eu(w,f)>0||p&&this.eu(w,p)<0)&&(h=!0)):!T&&w?(s.track({type:0,doc:w}),D=!0):T&&!w&&(s.track({type:1,doc:T}),D=!0,(f||p)&&(h=!0)),D&&(w?(u=u.add(w),l=P?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:u,iu:s,Cs:h,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,_)=>(function(w,C){const P=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:D})}};return P(w)-P(C)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(s),a=a??!1;const h=n&&!a?this._u():[],f=this.Xa.size===0&&this.current&&!a?1:0,p=f!==this.Za;return this.Za=f,u.length!==0||p?{snapshot:new Zo(this.query,e.tu,l,u,e.mutatedKeys,f===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Hx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new lS(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new oS(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Be();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Zo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const sy="SyncEngine";class h6{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class f6{constructor(e){this.key=e,this.hu=!1}}class d6{constructor(e,n,s,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Pa((h=>Aw(h)),_d),this.Iu=new Map,this.Eu=new Set,this.du=new mt(ve.comparator),this.Au=new Map,this.Ru=new $0,this.Vu={},this.mu=new Map,this.fu=Jo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function m6(t,e,n=!0){const s=mS(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await uS(s,e,n,!0),a}async function p6(t,e){const n=mS(t);await uS(n,e,!0,!1)}async function uS(t,e,n,s){const a=await Dk(t.localStore,Yi(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let h;return s&&(h=await g6(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&tS(t.remoteStore,a),h}async function g6(t,e,n,s,a){t.pu=(_,T,w)=>(async function(P,D,O,B){let z=D.view.ru(O);z.Cs&&(z=await Lx(P.localStore,D.query,!1).then((({documents:I})=>D.view.ru(I,z))));const J=B&&B.targetChanges.get(D.targetId),Z=B&&B.targetMismatches.get(D.targetId)!=null,te=D.view.applyChanges(z,P.isPrimaryClient,J,Z);return Yx(P,D.targetId,te.au),te.snapshot})(t,_,T,w);const l=await Lx(t.localStore,e,!0),u=new c6(e,l.Qs),h=u.ru(l.documents),f=Tc.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),p=u.applyChanges(h,t.isPrimaryClient,f);Yx(t,n,p.au);const y=new h6(e,n,u);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function y6(t,e,n){const s=Re(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((u=>!_d(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await zg(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&W0(s.remoteStore,a.targetId),qg(s,a.targetId)})).catch(cl)):(qg(s,a.targetId),await zg(s.localStore,a.targetId,!0))}async function v6(t,e){const n=Re(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),W0(n.remoteStore,s.targetId))}async function _6(t,e,n){const s=A6(t);try{const a=await(function(u,h){const f=Re(u),p=ot.now(),y=h.reduce(((w,C)=>w.add(C.key)),Be());let _,T;return f.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let C=ks(),P=Be();return f.Ns.getEntries(w,y).next((D=>{C=D,C.forEach(((O,B)=>{B.isValidDocument()||(P=P.add(O))}))})).next((()=>f.localDocuments.getOverlayedDocuments(w,C))).next((D=>{_=D;const O=[];for(const B of h){const z=M5(B,_.get(B.key).overlayedDocument);z!=null&&O.push(new Oa(B.key,z,yw(z.value.mapValue),Rs.exists(!0)))}return f.mutationQueue.addMutationBatch(w,p,O,h)})).next((D=>{T=D;const O=D.applyToLocalDocumentSet(_,P);return f.documentOverlayCache.saveOverlays(w,D.batchId,O)}))})).then((()=>({batchId:T.batchId,changes:Nw(_)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(u,h,f){let p=u.Vu[u.currentUser.toKey()];p||(p=new mt(ze)),p=p.insert(h,f),u.Vu[u.currentUser.toKey()]=p})(s,a.batchId,n),await wc(s,a.changes),await Ad(s.remoteStore)}catch(a){const l=ny(a,"Failed to persist write");n.reject(l)}}async function cS(t,e){const n=Re(t);try{const s=await Nk(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(Qe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?Qe(u.hu,14607):a.removedDocuments.size>0&&(Qe(u.hu,42227),u.hu=!1))})),await wc(n,s,e)}catch(s){await cl(s)}}function $x(t,e,n){const s=Re(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,u)=>{const h=u.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(u,h){const f=Re(u);f.onlineState=h;let p=!1;f.queries.forEach(((y,_)=>{for(const T of _.Sa)T.va(h)&&(p=!0)})),p&&iy(f)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function b6(t,e,n){const s=Re(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let u=new mt(ve.comparator);u=u.insert(l,un.newNoDocument(l,Ae.min()));const h=Be().add(l),f=new Ed(Ae.min(),new Map,new mt(ze),u,h);await cS(s,f),s.du=s.du.remove(l),s.Au.delete(e),ry(s)}else await zg(s.localStore,e,!1).then((()=>qg(s,e,n))).catch(cl)}async function x6(t,e){const n=Re(t),s=e.batch.batchId;try{const a=await Rk(n.localStore,e);fS(n,s,null),hS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await wc(n,a)}catch(a){await cl(a)}}async function T6(t,e,n){const s=Re(t);try{const a=await(function(u,h){const f=Re(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return f.mutationQueue.lookupMutationBatch(p,h).next((_=>(Qe(_!==null,37113),y=_.keys(),f.mutationQueue.removeMutationBatch(p,_)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,y,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>f.localDocuments.getDocuments(p,y)))}))})(s.localStore,e);fS(s,e,n),hS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await wc(s,a)}catch(a){await cl(a)}}function hS(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function fS(t,e,n){const s=Re(t);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function qg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||dS(t,s)}))}function dS(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(W0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),ry(t))}function Yx(t,e,n){for(const s of n)s instanceof oS?(t.Ru.addReference(s.key,e),E6(t,s)):s instanceof lS?(fe(sy,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||dS(t,s.key)):Te(19791,{wu:s})}function E6(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(fe(sy,"New document in limbo: "+n),t.Eu.add(s),ry(t))}function ry(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ve(st.fromString(e)),s=t.fu.next();t.Au.set(s,new f6(n)),t.du=t.du.insert(n,s),tS(t.remoteStore,new Tr(Yi(ww(n.path)),s,"TargetPurposeLimboResolution",gd.ce))}}async function wc(t,e,n){const s=Re(t),a=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((h,f)=>{u.push(s.pu(f,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(f.targetId)?.current;s.sharedClientState.updateQueryState(f.targetId,y?"current":"not-current")}if(p){a.push(p);const y=Q0.As(f.targetId,p);l.push(y)}})))})),await Promise.all(u),s.Pu.H_(a),await(async function(f,p){const y=Re(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>oe.forEach(p,(T=>oe.forEach(T.Es,(w=>y.persistence.referenceDelegate.addReference(_,T.targetId,w))).next((()=>oe.forEach(T.ds,(w=>y.persistence.referenceDelegate.removeReference(_,T.targetId,w)))))))))}catch(_){if(!hl(_))throw _;fe(X0,"Failed to update sequence numbers: "+_)}for(const _ of p){const T=_.targetId;if(!_.fromCache){const w=y.Ms.get(T),C=w.snapshotVersion,P=w.withLastLimboFreeSnapshotVersion(C);y.Ms=y.Ms.insert(T,P)}}})(s.localStore,l))}async function w6(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){fe(sy,"User change. New user:",e.toKey());const s=await Ww(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((h=>{h.forEach((f=>{f.reject(new de(ae.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await wc(n,s.Ls)}}function S6(t,e){const n=Re(t),s=n.Au.get(e);if(s&&s.hu)return Be().add(s.key);{let a=Be();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const h=n.Tu.get(u);a=a.unionWith(h.view.nu)}return a}}function mS(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=cS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=S6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=b6.bind(null,e),e.Pu.H_=o6.bind(null,e.eventManager),e.Pu.yu=l6.bind(null,e.eventManager),e}function A6(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=x6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=T6.bind(null,e),e}class ed{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Ck(this.persistence,new wk,e.initialUser,this.serializer)}Cu(e){return new Xw(Y0.mi,this.serializer)}Du(e){return new Vk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ed.provider={build:()=>new ed};class C6 extends ed{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Qe(this.persistence.referenceDelegate instanceof Jf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new uk(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new Xw((s=>Jf.mi(s,n)),this.serializer)}}class Hg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>$x(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=w6.bind(null,this.syncEngine),await n6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new s6})()}createDatastore(e){const n=wd(e.databaseInfo.databaseId),s=(function(l){return new Uk(l)})(e.databaseInfo);return(function(l,u,h,f){return new qk(l,u,h,f)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,u,h){return new Gk(s,a,l,u,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>$x(this.syncEngine,n,0)),(function(){return Bx.v()?new Bx:new Pk})())}createSyncEngine(e,n){return(function(a,l,u,h,f,p,y){const _=new d6(a,l,u,h,f,p);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Re(n);fe(ka,"RemoteStore shutting down."),s.Ea.add(5),await Ec(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Hg.provider={build:()=>new Hg};class R6{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ds("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Pr="FirestoreClient";class N6{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=on.UNAUTHENTICATED,this.clientId=j0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{fe(Pr,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(fe(Pr,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=ny(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Xp(t,e){t.asyncQueue.verifyOperationInProgress(),fe(Pr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await Ww(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Qx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await I6(t);fe(Pr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>qx(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>qx(e.remoteStore,a))),t._onlineComponents=e}async function I6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe(Pr,"Using user provided OfflineComponentProvider");try{await Xp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ae.FAILED_PRECONDITION||a.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Yo("Error using user provided cache. Falling back to memory cache: "+n),await Xp(t,new ed)}}else fe(Pr,"Using default OfflineComponentProvider"),await Xp(t,new C6(void 0));return t._offlineComponents}async function pS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe(Pr,"Using user provided OnlineComponentProvider"),await Qx(t,t._uninitializedComponentsProvider._online)):(fe(Pr,"Using default OnlineComponentProvider"),await Qx(t,new Hg))),t._onlineComponents}function M6(t){return pS(t).then((e=>e.syncEngine))}async function D6(t){const e=await pS(t),n=e.eventManager;return n.onListen=m6.bind(null,e.syncEngine),n.onUnlisten=y6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=p6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=v6.bind(null,e.syncEngine),n}function k6(t,e,n={}){const s=new Cr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,f,p){const y=new R6({next:T=>{y.Nu(),u.enqueueAndForget((()=>a6(l,_))),T.fromCache&&f.source==="server"?p.reject(new de(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(T)},error:T=>p.reject(T)}),_=new u6(h,y,{includeMetadataChanges:!0,qa:!0});return r6(l,_)})(await D6(t),t.asyncQueue,e,n,s))),s.promise}function gS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const Xx=new Map;const yS="firestore.googleapis.com",Wx=!0;class Jx{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yS,this.ssl=Wx}else this.host=e.host,this.ssl=e.ssl??Wx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Qw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ok)throw new de(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gS(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new de(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new de(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new de(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cd{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new PD;switch(s.type){case"firstParty":return new UD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=Xx.get(n);s&&(fe("ComponentProvider","Removing Datastore"),Xx.delete(n),s.terminate())})(this),Promise.resolve()}}function V6(t,e,n,s={}){t=Qu(t,Cd);const a=al(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(c2(`https://${h}`),h2("Firestore",!0)),l.host!==yS&&l.host!==h&&Yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...l,host:h,ssl:a,emulatorOptions:s};if(!Ra(f,u)&&(t._setSettings(f),s.mockUserToken)){let p,y;if(typeof s.mockUserToken=="string")p=s.mockUserToken,y=on.MOCK_USER;else{p=BI(s.mockUserToken,t._app?.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new de(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new on(_)}t._authCredentials=new OD(new rw(p,y))}}class dl{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new dl(this.firestore,e,this._query)}}class Bt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bt(this.firestore,e,this._key)}toJSON(){return{type:Bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(_c(n,Bt._jsonSchema))return new Bt(e,s||null,new ve(st.fromString(n.referencePath)))}}Bt._jsonSchemaVersion="firestore/documentReference/1.0",Bt._jsonSchema={type:jt("string",Bt._jsonSchemaVersion),referencePath:jt("string")};class Rr extends dl{constructor(e,n,s){super(e,n,ww(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bt(this.firestore,null,new ve(e))}withConverter(e){return new Rr(this.firestore,e,this._path)}}function P6(t,e,...n){if(t=nn(t),aw("collection","path",e),t instanceof Cd){const s=st.fromString(e,...n);return hx(s),new Rr(t,null,s)}{if(!(t instanceof Bt||t instanceof Rr))throw new de(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(st.fromString(e,...n));return hx(s),new Rr(t.firestore,null,s)}}function Zx(t,e,...n){if(t=nn(t),arguments.length===1&&(e=j0.newId()),aw("doc","path",e),t instanceof Cd){const s=st.fromString(e,...n);return cx(s),new Bt(t,null,new ve(s))}{if(!(t instanceof Bt||t instanceof Rr))throw new de(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(st.fromString(e,...n));return cx(s),new Bt(t.firestore,t instanceof Rr?t.converter:null,new ve(s))}}const eT="AsyncQueue";class tT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Zw(this,"async_queue_retry"),this._c=()=>{const s=Qp();s&&fe(eT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Qp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Qp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Cr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!hl(e))throw e;fe(eT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ds("INTERNAL UNHANDLED ERROR: ",nT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=ty.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Te(47125,{Pc:nT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function nT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ay extends Cd{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new tT,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tT(e),this._firestoreClient=void 0,await e}}}function O6(t,e){const n=typeof t=="object"?t:p2(),s=typeof t=="string"?t:Gf,a=S0(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=UI("firestore");l&&V6(a,...l)}return a}function vS(t){if(t._terminated)throw new de(ae.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||j6(t),t._firestoreClient}function j6(t){const e=t._freezeSettings(),n=(function(a,l,u,h){return new n5(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,gS(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new N6(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class Jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jn(sn.fromBase64String(e))}catch(n){throw new de(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Jn(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_c(e,Jn._jsonSchema))return Jn.fromBase64String(e.bytes)}}Jn._jsonSchemaVersion="firestore/bytes/1.0",Jn._jsonSchema={type:jt("string",Jn._jsonSchemaVersion),bytes:jt("string")};class oy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class _S{constructor(e){this._methodName=e}}class Xi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xi._jsonSchemaVersion}}static fromJSON(e){if(_c(e,Xi._jsonSchema))return new Xi(e.latitude,e.longitude)}}Xi._jsonSchemaVersion="firestore/geoPoint/1.0",Xi._jsonSchema={type:jt("string",Xi._jsonSchemaVersion),latitude:jt("number"),longitude:jt("number")};class Wi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_c(e,Wi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Wi(e.vectorValues);throw new de(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wi._jsonSchemaVersion="firestore/vectorValue/1.0",Wi._jsonSchema={type:jt("string",Wi._jsonSchemaVersion),vectorValues:jt("object")};const L6=/^__.*__$/;class U6{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Oa(e,this.data,this.fieldMask,n,this.fieldTransforms):new xc(e,this.data,n,this.fieldTransforms)}}function bS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:t})}}class ly{constructor(e,n,s,a,l,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ly({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return td(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(bS(this.Ac)&&L6.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class z6{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||wd(e)}Cc(e,n,s,a=!1){return new ly({Ac:e,methodName:n,Dc:s,path:tn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xS(t){const e=t._freezeSettings(),n=wd(t._databaseId);return new z6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function B6(t,e,n,s,a,l={}){const u=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);wS("Data must be an object, but it was:",u,s);const h=TS(s,u);let f,p;if(l.merge)f=new _i(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const T=q6(e,_,n);if(!u.contains(T))throw new de(ae.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);G6(y,T)||y.push(T)}f=new _i(y),p=u.fieldTransforms.filter((_=>f.covers(_.field)))}else f=null,p=u.fieldTransforms;return new U6(new Wn(h),f,p)}function F6(t,e,n,s=!1){return uy(n,t.Cc(s?4:3,e))}function uy(t,e){if(ES(t=nn(t)))return wS("Unsupported field value:",e,t),TS(t,e);if(t instanceof _S)return(function(s,a){if(!bS(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let u=0;for(const h of s){let f=uy(h,a.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),l.push(f),u++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=nn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return S5(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=ot.fromDate(s);return{timestampValue:Wf(a.serializer,l)}}if(s instanceof ot){const l=new ot(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Wf(a.serializer,l)}}if(s instanceof Xi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Jn)return{bytesValue:Fw(a.serializer,s._byteString)};if(s instanceof Bt){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:K0(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Wi)return(function(u,h){return{mapValue:{fields:{[pw]:{stringValue:gw},[Kf]:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw h.Sc("VectorValues must only contain numeric values.");return q0(h.serializer,p)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${pd(s)}`)})(t,e)}function TS(t,e){const n={};return uw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Va(t,((s,a)=>{const l=uy(a,e.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function ES(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ot||t instanceof Xi||t instanceof Jn||t instanceof Bt||t instanceof _S||t instanceof Wi)}function wS(t,e,n){if(!ES(n)||!ow(n)){const s=pd(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function q6(t,e,n){if((e=nn(e))instanceof oy)return e._internalPath;if(typeof e=="string")return SS(t,e);throw td("Field path arguments must be of type string or ",t,!1,void 0,n)}const H6=new RegExp("[~\\*/\\[\\]]");function SS(t,e,n){if(e.search(H6)>=0)throw td(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new oy(...e.split("."))._internalPath}catch{throw td(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function td(t,e,n,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(l||u)&&(f+=" (found",l&&(f+=` in field ${s}`),u&&(f+=` in document ${a}`),f+=")"),new de(ae.INVALID_ARGUMENT,h+t+f)}function G6(t,e){return t.some((n=>n.isEqual(e)))}class AS{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new K6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(cy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class K6 extends AS{data(){return super.data()}}function cy(t,e){return typeof e=="string"?SS(t,e):e instanceof oy?e._internalPath:e._delegate._internalPath}function $6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hy{}class Y6 extends hy{}function Q6(t,e,...n){let s=[];e instanceof hy&&s.push(e),s=s.concat(n),(function(l){const u=l.filter((f=>f instanceof fy)).length,h=l.filter((f=>f instanceof Rd)).length;if(u>1||u>0&&h>0)throw new de(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class Rd extends Y6{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Rd(e,n,s)}_apply(e){const n=this._parse(e);return CS(e._query,n),new dl(e.firestore,e.converter,Vg(e._query,n))}_parse(e){const n=xS(e.firestore);return(function(l,u,h,f,p,y,_){let T;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new de(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){rT(_,y);const C=[];for(const P of _)C.push(sT(f,l,P));T={arrayValue:{values:C}}}else T=sT(f,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||rT(_,y),T=F6(h,u,_,y==="in"||y==="not-in");return Ot.create(p,y,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function iT(t,e,n){const s=e,a=cy("where",t);return Rd._create(a,s,n)}class fy extends hy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new fy(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Ti.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const h=l.getFlattenedFilters();for(const f of h)CS(u,f),u=Vg(u,f)})(e._query,n),new dl(e.firestore,e.converter,Vg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function sT(t,e,n){if(typeof(n=nn(n))=="string"){if(n==="")throw new de(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sw(e)&&n.indexOf("/")!==-1)throw new de(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(st.fromString(n));if(!ve.isDocumentKey(s))throw new de(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return _x(t,new ve(s))}if(n instanceof Bt)return _x(t,n._key);throw new de(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pd(n)}.`)}function rT(t,e){if(!Array.isArray(t)||t.length===0)throw new de(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function CS(t,e){const n=(function(a,l){for(const u of a)for(const h of u.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new de(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class X6{convertValue(e,n="none"){switch(kr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Dr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Va(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[Kf].arrayValue?.values?.map((s=>Et(s.doubleValue)));return new Wi(n)}convertGeoPoint(e){return new Xi(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=vd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Wu(e));default:return null}}convertTimestamp(e){const n=Mr(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=st.fromString(e);Qe(Yw(s),9688,{name:e});const a=new Ju(s.get(1),s.get(3)),l=new ve(s.popFirst(5));return a.isEqual(n)||Ds(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function W6(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class ff{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fo extends AS{constructor(e,n,s,a,l,u){super(e,n,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new If(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(cy("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Fo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Fo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fo._jsonSchema={type:jt("string",Fo._jsonSchemaVersion),bundleSource:jt("string","DocumentSnapshot"),bundleName:jt("string"),bundle:jt("string")};class If extends Fo{data(e={}){return super.data(e)}}class qo{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new ff(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new If(this._firestore,this._userDataWriter,s.key,s,new ff(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const f=new If(a._firestore,a._userDataWriter,h.doc.key,h.doc,new ff(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const f=new If(a._firestore,a._userDataWriter,h.doc.key,h.doc,new ff(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:J6(h.type),doc:f,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=qo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=j0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function J6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:t})}}qo._jsonSchemaVersion="firestore/querySnapshot/1.0",qo._jsonSchema={type:jt("string",qo._jsonSchemaVersion),bundleSource:jt("string","QuerySnapshot"),bundleName:jt("string"),bundle:jt("string")};class Z6 extends X6{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Bt(this.firestore,null,n)}}function eV(t){t=Qu(t,dl);const e=Qu(t.firestore,ay),n=vS(e),s=new Z6(e);return $6(t._query),k6(n,t._query).then((a=>new qo(e,s,t,a)))}function aT(t,e,n){t=Qu(t,Bt);const s=Qu(t.firestore,ay),a=W6(t.converter,e,n);return tV(s,[B6(xS(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Rs.none())])}function tV(t,e){return(function(s,a){const l=new Cr;return s.asyncQueue.enqueueAndForget((async()=>_6(await M6(s),a,l))),l.promise})(vS(t),e)}(function(e,n=!0){(function(a){ul=a})(ol),Ko(new Na("firestore",((s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),h=new ay(new jD(s.getProvider("auth-internal")),new zD(u,s.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new de(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ju(p.options.projectId,y)})(u,a),u);return l={useFetchStreams:n,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),Sr(ax,ox,e),Sr(ax,ox,"esm2020")})();const nV={apiKey:"AIzaSyAF4veeyofGsuM9rRYA4MbMwksw1bVyzBM",authDomain:"project-sekolah-2ad32.firebaseapp.com",projectId:"project-sekolah-2ad32",storageBucket:"project-sekolah-2ad32.firebasestorage.app",messagingSenderId:"238726950843",appId:"1:238726950843:web:dcc46562e4aa756f535e9e",measurementId:"G-2WHX7LPDN4"},RS=m2(nV),gi=MD(RS),Gg=O6(RS),wu={login:(t,e)=>mM(gi,t,e),loginWithGoogle:()=>{const t=new Ts;return zM(gi,t)},logout:()=>bM(gi),register:async(t,e,n)=>{const s=await z2(gi,t,e),a=s.user;return n&&await Qb(a,{displayName:n}),await aT(Zx(Gg,"users",a.uid),{uid:a.uid,email:a.email,name:n||t.split("@")[0],bio:"",createdAt:new Date().toISOString()}),s},sendVerificationEmail:async()=>{gi.currentUser&&await pM(gi.currentUser)},updateProfile:async t=>{if(!gi.currentUser)throw new Error("Not logged in");const{uid:e}=gi.currentUser;console.log("Starting profile update for user:",e),console.log("Updates:",t);try{t.name&&(console.log("Updating Firebase Auth profile..."),await Qb(gi.currentUser,{displayName:t.name}),console.log("Firebase Auth profile updated.")),console.log("Updating Firestore document..."),await aT(Zx(Gg,"users",e),t,{merge:!0}),console.log("Firestore document updated.")}catch(n){throw console.error("Error in authService.updateProfile:",n),n}}},NS=j.createContext(void 0);function iV({children:t}){const[e,n]=j.useState(null),[s,a]=j.useState(!1),[l,u]=j.useState(!0),h=j.useRef(null),[f,p]=j.useState(!1);j.useEffect(()=>{if(typeof window<"u"){const B=new Audio("/soundtrack.mp3");return B.loop=!0,B.volume=.3,h.current=B,()=>B.pause()}},[]);const y=()=>{const B=h.current;B?.paused&&B.play().then(()=>p(!0)).catch(console.warn)},_=()=>{const B=h.current;B&&!B.paused&&(B.pause(),p(!1))},T=()=>{f?_():y()};j.useEffect(()=>_M(gi,z=>{if(z){const J={id:z.uid,name:z.displayName||z.email?.split("@")[0]||"User",email:z.email||"",emailVerified:z.emailVerified};n(J),a(z.emailVerified),y()}else n(null),a(!1),_();u(!1)}),[]);const w=async(B,z)=>{await wu.login(B,z)},C=async()=>{await wu.loginWithGoogle()},P=async()=>{await wu.logout()},D=async()=>{await wu.sendVerificationEmail()},O=async B=>{try{await wu.updateProfile(B),n(z=>z?{...z,...B}:null)}catch(z){throw console.error("Failed to update profile:",z),z}};return v.jsx(NS.Provider,{value:{user:e,isEmailVerified:s,login:w,loginWithGoogle:C,logout:P,sendVerificationEmail:D,updateProfile:O,loading:l,isAudioPlaying:f,playAudio:y,pauseAudio:_,togglePlay:T},children:t})}function ii(){const t=j.useContext(NS);if(!t)throw new Error("useAuth must be used inside AuthProvider");return t}function zu(t){let e=t[0],n=t[1],s=t[2];return Math.sqrt(e*e+n*n+s*s)}function Kg(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function sV(t,e,n,s){return t[0]=e,t[1]=n,t[2]=s,t}function oT(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function lT(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function rV(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function aV(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function Wp(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function oV(t,e){let n=e[0]-t[0],s=e[1]-t[1],a=e[2]-t[2];return Math.sqrt(n*n+s*s+a*a)}function lV(t,e){let n=e[0]-t[0],s=e[1]-t[1],a=e[2]-t[2];return n*n+s*s+a*a}function uT(t){let e=t[0],n=t[1],s=t[2];return e*e+n*n+s*s}function uV(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function cV(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function $g(t,e){let n=e[0],s=e[1],a=e[2],l=n*n+s*s+a*a;return l>0&&(l=1/Math.sqrt(l)),t[0]=e[0]*l,t[1]=e[1]*l,t[2]=e[2]*l,t}function IS(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function cT(t,e,n){let s=e[0],a=e[1],l=e[2],u=n[0],h=n[1],f=n[2];return t[0]=a*f-l*h,t[1]=l*u-s*f,t[2]=s*h-a*u,t}function hV(t,e,n,s){let a=e[0],l=e[1],u=e[2];return t[0]=a+s*(n[0]-a),t[1]=l+s*(n[1]-l),t[2]=u+s*(n[2]-u),t}function fV(t,e,n,s,a){const l=Math.exp(-s*a);let u=e[0],h=e[1],f=e[2];return t[0]=n[0]+(u-n[0])*l,t[1]=n[1]+(h-n[1])*l,t[2]=n[2]+(f-n[2])*l,t}function dV(t,e,n){let s=e[0],a=e[1],l=e[2],u=n[3]*s+n[7]*a+n[11]*l+n[15];return u=u||1,t[0]=(n[0]*s+n[4]*a+n[8]*l+n[12])/u,t[1]=(n[1]*s+n[5]*a+n[9]*l+n[13])/u,t[2]=(n[2]*s+n[6]*a+n[10]*l+n[14])/u,t}function mV(t,e,n){let s=e[0],a=e[1],l=e[2],u=n[3]*s+n[7]*a+n[11]*l+n[15];return u=u||1,t[0]=(n[0]*s+n[4]*a+n[8]*l)/u,t[1]=(n[1]*s+n[5]*a+n[9]*l)/u,t[2]=(n[2]*s+n[6]*a+n[10]*l)/u,t}function pV(t,e,n){let s=e[0],a=e[1],l=e[2];return t[0]=s*n[0]+a*n[3]+l*n[6],t[1]=s*n[1]+a*n[4]+l*n[7],t[2]=s*n[2]+a*n[5]+l*n[8],t}function gV(t,e,n){let s=e[0],a=e[1],l=e[2],u=n[0],h=n[1],f=n[2],p=n[3],y=h*l-f*a,_=f*s-u*l,T=u*a-h*s,w=h*T-f*_,C=f*y-u*T,P=u*_-h*y,D=p*2;return y*=D,_*=D,T*=D,w*=2,C*=2,P*=2,t[0]=s+y+w,t[1]=a+_+C,t[2]=l+T+P,t}const yV=(function(){const t=[0,0,0],e=[0,0,0];return function(n,s){Kg(t,n),Kg(e,s),$g(t,t),$g(e,e);let a=IS(t,e);return a>1?0:a<-1?Math.PI:Math.acos(a)}})();function vV(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}class Pt extends Array{constructor(e=0,n=e,s=e){return super(e,n,s),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this[0]=e}set y(e){this[1]=e}set z(e){this[2]=e}set(e,n=e,s=e){return e.length?this.copy(e):(sV(this,e,n,s),this)}copy(e){return Kg(this,e),this}add(e,n){return n?oT(this,e,n):oT(this,this,e),this}sub(e,n){return n?lT(this,e,n):lT(this,this,e),this}multiply(e){return e.length?rV(this,this,e):Wp(this,this,e),this}divide(e){return e.length?aV(this,this,e):Wp(this,this,1/e),this}inverse(e=this){return cV(this,e),this}len(){return zu(this)}distance(e){return e?oV(this,e):zu(this)}squaredLen(){return uT(this)}squaredDistance(e){return e?lV(this,e):uT(this)}negate(e=this){return uV(this,e),this}cross(e,n){return n?cT(this,e,n):cT(this,this,e),this}scale(e){return Wp(this,this,e),this}normalize(){return $g(this,this),this}dot(e){return IS(this,e)}equals(e){return vV(this,e)}applyMatrix3(e){return pV(this,this,e),this}applyMatrix4(e){return dV(this,this,e),this}scaleRotateMatrix4(e){return mV(this,this,e),this}applyQuaternion(e){return gV(this,this,e),this}angle(e){return yV(this,e)}lerp(e,n){return hV(this,this,e,n),this}smoothLerp(e,n,s){return fV(this,this,e,n,s),this}clone(){return new Pt(this[0],this[1],this[2])}fromArray(e,n=0){return this[0]=e[n],this[1]=e[n+1],this[2]=e[n+2],this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e}transformDirection(e){const n=this[0],s=this[1],a=this[2];return this[0]=e[0]*n+e[4]*s+e[8]*a,this[1]=e[1]*n+e[5]*s+e[9]*a,this[2]=e[2]*n+e[6]*s+e[10]*a,this.normalize()}}const hT=new Pt;let _V=1,bV=1,fT=!1;class xV{constructor(e,n={}){e.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=e,this.attributes=n,this.id=_V++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let s in n)this.addAttribute(s,n[s])}addAttribute(e,n){if(this.attributes[e]=n,n.id=bV++,n.size=n.size||1,n.type=n.type||(n.data.constructor===Float32Array?this.gl.FLOAT:n.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),n.target=e==="index"?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,n.normalized=n.normalized||!1,n.stride=n.stride||0,n.offset=n.offset||0,n.count=n.count||(n.stride?n.data.byteLength/n.stride:n.data.length/n.size),n.divisor=n.instanced||0,n.needsUpdate=!1,n.usage=n.usage||this.gl.STATIC_DRAW,n.buffer||this.updateAttribute(n),n.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==n.count*n.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,n.count*n.divisor);this.instancedCount=n.count*n.divisor}else e==="index"?this.drawRange.count=n.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,n.count))}updateAttribute(e){const n=!e.buffer;n&&(e.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==e.buffer&&(this.gl.bindBuffer(e.target,e.buffer),this.glState.boundBuffer=e.buffer),n?this.gl.bufferData(e.target,e.data,e.usage):this.gl.bufferSubData(e.target,0,e.data),e.needsUpdate=!1}setIndex(e){this.addAttribute("index",e)}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}setInstancedCount(e){this.instancedCount=e}createVAO(e){this.VAOs[e.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.bindAttributes(e)}bindAttributes(e){e.attributeLocations.forEach((n,{name:s,type:a})=>{if(!this.attributes[s]){console.warn(`active attribute ${s} not being supplied`);return}const l=this.attributes[s];this.gl.bindBuffer(l.target,l.buffer),this.glState.boundBuffer=l.buffer;let u=1;a===35674&&(u=2),a===35675&&(u=3),a===35676&&(u=4);const h=l.size/u,f=u===1?0:u*u*4,p=u===1?0:u*4;for(let y=0;y<u;y++)this.gl.vertexAttribPointer(n+y,h,l.type,l.normalized,l.stride+f,l.offset+y*p),this.gl.enableVertexAttribArray(n+y),this.gl.renderer.vertexAttribDivisor(n+y,l.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:e,mode:n=this.gl.TRIANGLES}){this.gl.renderer.currentGeometry!==`${this.id}_${e.attributeOrder}`&&(this.VAOs[e.attributeOrder]||this.createVAO(e),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${e.attributeOrder}`),e.attributeLocations.forEach((a,{name:l})=>{const u=this.attributes[l];u.needsUpdate&&this.updateAttribute(u)});let s=2;this.attributes.index?.type===this.gl.UNSIGNED_INT&&(s=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(n,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*s,this.instancedCount):this.gl.renderer.drawArraysInstanced(n,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(n,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*s):this.gl.drawArrays(n,this.drawRange.start,this.drawRange.count)}getPosition(){const e=this.attributes.position;if(e.data)return e;if(!fT)return console.warn("No position buffer data found to compute bounds"),fT=!0}computeBoundingBox(e){e||(e=this.getPosition());const n=e.data,s=e.size;this.bounds||(this.bounds={min:new Pt,max:new Pt,center:new Pt,scale:new Pt,radius:1/0});const a=this.bounds.min,l=this.bounds.max,u=this.bounds.center,h=this.bounds.scale;a.set(1/0),l.set(-1/0);for(let f=0,p=n.length;f<p;f+=s){const y=n[f],_=n[f+1],T=n[f+2];a.x=Math.min(y,a.x),a.y=Math.min(_,a.y),a.z=Math.min(T,a.z),l.x=Math.max(y,l.x),l.y=Math.max(_,l.y),l.z=Math.max(T,l.z)}h.sub(l,a),u.add(a,l).divide(2)}computeBoundingSphere(e){e||(e=this.getPosition());const n=e.data,s=e.size;this.bounds||this.computeBoundingBox(e);let a=0;for(let l=0,u=n.length;l<u;l+=s)hT.fromArray(n,l),a=Math.max(a,this.bounds.center.squaredDistance(hT));this.bounds.radius=Math.sqrt(a)}remove(){for(let e in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[e]),delete this.VAOs[e];for(let e in this.attributes)this.gl.deleteBuffer(this.attributes[e].buffer),delete this.attributes[e]}}let TV=1;const dT={};class EV{constructor(e,{vertex:n,fragment:s,uniforms:a={},transparent:l=!1,cullFace:u=e.BACK,frontFace:h=e.CCW,depthTest:f=!0,depthWrite:p=!0,depthFunc:y=e.LEQUAL}={}){e.canvas||console.error("gl not passed as first argument to Program"),this.gl=e,this.uniforms=a,this.id=TV++,n||console.warn("vertex shader not supplied"),s||console.warn("fragment shader not supplied"),this.transparent=l,this.cullFace=u,this.frontFace=h,this.depthTest=f,this.depthWrite=p,this.depthFunc=y,this.blendFunc={},this.blendEquation={},this.stencilFunc={},this.stencilOp={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),this.vertexShader=e.createShader(e.VERTEX_SHADER),this.fragmentShader=e.createShader(e.FRAGMENT_SHADER),this.program=e.createProgram(),e.attachShader(this.program,this.vertexShader),e.attachShader(this.program,this.fragmentShader),this.setShaders({vertex:n,fragment:s})}setShaders({vertex:e,fragment:n}){if(e&&(this.gl.shaderSource(this.vertexShader,e),this.gl.compileShader(this.vertexShader),this.gl.getShaderInfoLog(this.vertexShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.vertexShader)}
Vertex Shader
${mT(e)}`)),n&&(this.gl.shaderSource(this.fragmentShader,n),this.gl.compileShader(this.fragmentShader),this.gl.getShaderInfoLog(this.fragmentShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.fragmentShader)}
Fragment Shader
${mT(n)}`)),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))return console.warn(this.gl.getProgramInfoLog(this.program));this.uniformLocations=new Map;let s=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let u=0;u<s;u++){let h=this.gl.getActiveUniform(this.program,u);this.uniformLocations.set(h,this.gl.getUniformLocation(this.program,h.name));const f=h.name.match(/(\w+)/g);h.uniformName=f[0],h.nameComponents=f.slice(1)}this.attributeLocations=new Map;const a=[],l=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let u=0;u<l;u++){const h=this.gl.getActiveAttrib(this.program,u),f=this.gl.getAttribLocation(this.program,h.name);f!==-1&&(a[f]=h.name,this.attributeLocations.set(h,f))}this.attributeOrder=a.join("")}setBlendFunc(e,n,s,a){this.blendFunc.src=e,this.blendFunc.dst=n,this.blendFunc.srcAlpha=s,this.blendFunc.dstAlpha=a,e&&(this.transparent=!0)}setBlendEquation(e,n){this.blendEquation.modeRGB=e,this.blendEquation.modeAlpha=n}setStencilFunc(e,n,s){this.stencilRef=n,this.stencilFunc.func=e,this.stencilFunc.ref=n,this.stencilFunc.mask=s}setStencilOp(e,n,s){this.stencilOp.stencilFail=e,this.stencilOp.depthFail=n,this.stencilOp.depthPass=s}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha),this.stencilFunc.func||this.stencilOp.stencilFail?this.gl.renderer.enable(this.gl.STENCIL_TEST):this.gl.renderer.disable(this.gl.STENCIL_TEST),this.gl.renderer.setStencilFunc(this.stencilFunc.func,this.stencilFunc.ref,this.stencilFunc.mask),this.gl.renderer.setStencilOp(this.stencilOp.stencilFail,this.stencilOp.depthFail,this.stencilOp.depthPass)}use({flipFaces:e=!1}={}){let n=-1;this.gl.renderer.state.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((a,l)=>{let u=this.uniforms[l.uniformName];for(const h of l.nameComponents){if(!u)break;if(h in u)u=u[h];else{if(Array.isArray(u.value))break;u=void 0;break}}if(!u)return pT(`Active uniform ${l.name} has not been supplied`);if(u&&u.value===void 0)return pT(`${l.name} uniform is missing a value parameter`);if(u.value.texture)return n=n+1,u.value.update(n),Jp(this.gl,l.type,a,n);if(u.value.length&&u.value[0].texture){const h=[];return u.value.forEach(f=>{n=n+1,f.update(n),h.push(n)}),Jp(this.gl,l.type,a,h)}Jp(this.gl,l.type,a,u.value)}),this.applyState(),e&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function Jp(t,e,n,s){s=s.length?wV(s):s;const a=t.renderer.state.uniformLocations.get(n);if(s.length)if(a===void 0||a.length!==s.length)t.renderer.state.uniformLocations.set(n,s.slice(0));else{if(SV(a,s))return;a.set?a.set(s):AV(a,s),t.renderer.state.uniformLocations.set(n,a)}else{if(a===s)return;t.renderer.state.uniformLocations.set(n,s)}switch(e){case 5126:return s.length?t.uniform1fv(n,s):t.uniform1f(n,s);case 35664:return t.uniform2fv(n,s);case 35665:return t.uniform3fv(n,s);case 35666:return t.uniform4fv(n,s);case 35670:case 5124:case 35678:case 36306:case 35680:case 36289:return s.length?t.uniform1iv(n,s):t.uniform1i(n,s);case 35671:case 35667:return t.uniform2iv(n,s);case 35672:case 35668:return t.uniform3iv(n,s);case 35673:case 35669:return t.uniform4iv(n,s);case 35674:return t.uniformMatrix2fv(n,!1,s);case 35675:return t.uniformMatrix3fv(n,!1,s);case 35676:return t.uniformMatrix4fv(n,!1,s)}}function mT(t){let e=t.split(`
`);for(let n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join(`
`)}function wV(t){const e=t.length,n=t[0].length;if(n===void 0)return t;const s=e*n;let a=dT[s];a||(dT[s]=a=new Float32Array(s));for(let l=0;l<e;l++)a.set(t[l],l*n);return a}function SV(t,e){if(t.length!==e.length)return!1;for(let n=0,s=t.length;n<s;n++)if(t[n]!==e[n])return!1;return!0}function AV(t,e){for(let n=0,s=t.length;n<s;n++)t[n]=e[n]}let Zp=0;function pT(t){Zp>100||(console.warn(t),Zp++,Zp>100&&console.warn("More than 100 program warnings - stopping logs."))}const eg=new Pt;let CV=1;class RV{constructor({canvas:e=document.createElement("canvas"),width:n=300,height:s=150,dpr:a=1,alpha:l=!1,depth:u=!0,stencil:h=!1,antialias:f=!1,premultipliedAlpha:p=!1,preserveDrawingBuffer:y=!1,powerPreference:_="default",autoClear:T=!0,webgl:w=2}={}){const C={alpha:l,depth:u,stencil:h,antialias:f,premultipliedAlpha:p,preserveDrawingBuffer:y,powerPreference:_};this.dpr=a,this.alpha=l,this.color=!0,this.depth=u,this.stencil=h,this.premultipliedAlpha=p,this.autoClear=T,this.id=CV++,w===2&&(this.gl=e.getContext("webgl2",C)),this.isWebgl2=!!this.gl,this.gl||(this.gl=e.getContext("webgl",C)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(n,s),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=!1,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LEQUAL,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(e,n){this.width=e,this.height=n,this.gl.canvas.width=e*this.dpr,this.gl.canvas.height=n*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:e+"px",height:n+"px"})}setViewport(e,n,s=0,a=0){this.state.viewport.width===e&&this.state.viewport.height===n||(this.state.viewport.width=e,this.state.viewport.height=n,this.state.viewport.x=s,this.state.viewport.y=a,this.gl.viewport(s,a,e,n))}setScissor(e,n,s=0,a=0){this.gl.scissor(s,a,e,n)}enable(e){this.state[e]!==!0&&(this.gl.enable(e),this.state[e]=!0)}disable(e){this.state[e]!==!1&&(this.gl.disable(e),this.state[e]=!1)}setBlendFunc(e,n,s,a){this.state.blendFunc.src===e&&this.state.blendFunc.dst===n&&this.state.blendFunc.srcAlpha===s&&this.state.blendFunc.dstAlpha===a||(this.state.blendFunc.src=e,this.state.blendFunc.dst=n,this.state.blendFunc.srcAlpha=s,this.state.blendFunc.dstAlpha=a,s!==void 0?this.gl.blendFuncSeparate(e,n,s,a):this.gl.blendFunc(e,n))}setBlendEquation(e,n){e=e||this.gl.FUNC_ADD,!(this.state.blendEquation.modeRGB===e&&this.state.blendEquation.modeAlpha===n)&&(this.state.blendEquation.modeRGB=e,this.state.blendEquation.modeAlpha=n,n!==void 0?this.gl.blendEquationSeparate(e,n):this.gl.blendEquation(e))}setCullFace(e){this.state.cullFace!==e&&(this.state.cullFace=e,this.gl.cullFace(e))}setFrontFace(e){this.state.frontFace!==e&&(this.state.frontFace=e,this.gl.frontFace(e))}setDepthMask(e){this.state.depthMask!==e&&(this.state.depthMask=e,this.gl.depthMask(e))}setDepthFunc(e){this.state.depthFunc!==e&&(this.state.depthFunc=e,this.gl.depthFunc(e))}setStencilMask(e){this.state.stencilMask!==e&&(this.state.stencilMask=e,this.gl.stencilMask(e))}setStencilFunc(e,n,s){this.state.stencilFunc===e&&this.state.stencilRef===n&&this.state.stencilFuncMask===s||(this.state.stencilFunc=e||this.gl.ALWAYS,this.state.stencilRef=n||0,this.state.stencilFuncMask=s||0,this.gl.stencilFunc(e||this.gl.ALWAYS,n||0,s||0))}setStencilOp(e,n,s){this.state.stencilFail===e&&this.state.stencilDepthFail===n&&this.state.stencilDepthPass===s||(this.state.stencilFail=e,this.state.stencilDepthFail=n,this.state.stencilDepthPass=s,this.gl.stencilOp(e,n,s))}activeTexture(e){this.state.activeTextureUnit!==e&&(this.state.activeTextureUnit=e,this.gl.activeTexture(this.gl.TEXTURE0+e))}bindFramebuffer({target:e=this.gl.FRAMEBUFFER,buffer:n=null}={}){this.state.framebuffer!==n&&(this.state.framebuffer=n,this.gl.bindFramebuffer(e,n))}getExtension(e,n,s){return n&&this.gl[n]?this.gl[n].bind(this.gl):(this.extensions[e]||(this.extensions[e]=this.gl.getExtension(e)),n?this.extensions[e]?this.extensions[e][s].bind(this.extensions[e]):null:this.extensions[e])}sortOpaque(e,n){return e.renderOrder!==n.renderOrder?e.renderOrder-n.renderOrder:e.program.id!==n.program.id?e.program.id-n.program.id:e.zDepth!==n.zDepth?e.zDepth-n.zDepth:n.id-e.id}sortTransparent(e,n){return e.renderOrder!==n.renderOrder?e.renderOrder-n.renderOrder:e.zDepth!==n.zDepth?n.zDepth-e.zDepth:n.id-e.id}sortUI(e,n){return e.renderOrder!==n.renderOrder?e.renderOrder-n.renderOrder:e.program.id!==n.program.id?e.program.id-n.program.id:n.id-e.id}getRenderList({scene:e,camera:n,frustumCull:s,sort:a}){let l=[];if(n&&s&&n.updateFrustum(),e.traverse(u=>{if(!u.visible)return!0;u.draw&&(s&&u.frustumCulled&&n&&!n.frustumIntersectsMesh(u)||l.push(u))}),a){const u=[],h=[],f=[];l.forEach(p=>{p.program.transparent?p.program.depthTest?h.push(p):f.push(p):u.push(p),p.zDepth=0,!(p.renderOrder!==0||!p.program.depthTest||!n)&&(p.worldMatrix.getTranslation(eg),eg.applyMatrix4(n.projectionViewMatrix),p.zDepth=eg.z)}),u.sort(this.sortOpaque),h.sort(this.sortTransparent),f.sort(this.sortUI),l=u.concat(h,f)}return l}render({scene:e,camera:n,target:s=null,update:a=!0,sort:l=!0,frustumCull:u=!0,clear:h}){s===null?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(s),this.setViewport(s.width,s.height)),(h||this.autoClear&&h!==!1)&&(this.depth&&(!s||s.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),(this.stencil||!s||s.stencil)&&(this.enable(this.gl.STENCIL_TEST),this.setStencilMask(255)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),a&&e.updateMatrixWorld(),n&&n.updateMatrixWorld(),this.getRenderList({scene:e,camera:n,frustumCull:u,sort:l}).forEach(p=>{p.draw({camera:n})})}}function NV(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function IV(t,e,n,s,a){return t[0]=e,t[1]=n,t[2]=s,t[3]=a,t}function MV(t,e){let n=e[0],s=e[1],a=e[2],l=e[3],u=n*n+s*s+a*a+l*l;return u>0&&(u=1/Math.sqrt(u)),t[0]=n*u,t[1]=s*u,t[2]=a*u,t[3]=l*u,t}function DV(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function kV(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function VV(t,e,n){n=n*.5;let s=Math.sin(n);return t[0]=s*e[0],t[1]=s*e[1],t[2]=s*e[2],t[3]=Math.cos(n),t}function gT(t,e,n){let s=e[0],a=e[1],l=e[2],u=e[3],h=n[0],f=n[1],p=n[2],y=n[3];return t[0]=s*y+u*h+a*p-l*f,t[1]=a*y+u*f+l*h-s*p,t[2]=l*y+u*p+s*f-a*h,t[3]=u*y-s*h-a*f-l*p,t}function PV(t,e,n){n*=.5;let s=e[0],a=e[1],l=e[2],u=e[3],h=Math.sin(n),f=Math.cos(n);return t[0]=s*f+u*h,t[1]=a*f+l*h,t[2]=l*f-a*h,t[3]=u*f-s*h,t}function OV(t,e,n){n*=.5;let s=e[0],a=e[1],l=e[2],u=e[3],h=Math.sin(n),f=Math.cos(n);return t[0]=s*f-l*h,t[1]=a*f+u*h,t[2]=l*f+s*h,t[3]=u*f-a*h,t}function jV(t,e,n){n*=.5;let s=e[0],a=e[1],l=e[2],u=e[3],h=Math.sin(n),f=Math.cos(n);return t[0]=s*f+a*h,t[1]=a*f-s*h,t[2]=l*f+u*h,t[3]=u*f-l*h,t}function LV(t,e,n,s){let a=e[0],l=e[1],u=e[2],h=e[3],f=n[0],p=n[1],y=n[2],_=n[3],T,w,C,P,D;return w=a*f+l*p+u*y+h*_,w<0&&(w=-w,f=-f,p=-p,y=-y,_=-_),1-w>1e-6?(T=Math.acos(w),C=Math.sin(T),P=Math.sin((1-s)*T)/C,D=Math.sin(s*T)/C):(P=1-s,D=s),t[0]=P*a+D*f,t[1]=P*l+D*p,t[2]=P*u+D*y,t[3]=P*h+D*_,t}function UV(t,e){let n=e[0],s=e[1],a=e[2],l=e[3],u=n*n+s*s+a*a+l*l,h=u?1/u:0;return t[0]=-n*h,t[1]=-s*h,t[2]=-a*h,t[3]=l*h,t}function zV(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function BV(t,e){let n=e[0]+e[4]+e[8],s;if(n>0)s=Math.sqrt(n+1),t[3]=.5*s,s=.5/s,t[0]=(e[5]-e[7])*s,t[1]=(e[6]-e[2])*s,t[2]=(e[1]-e[3])*s;else{let a=0;e[4]>e[0]&&(a=1),e[8]>e[a*3+a]&&(a=2);let l=(a+1)%3,u=(a+2)%3;s=Math.sqrt(e[a*3+a]-e[l*3+l]-e[u*3+u]+1),t[a]=.5*s,s=.5/s,t[3]=(e[l*3+u]-e[u*3+l])*s,t[l]=(e[l*3+a]+e[a*3+l])*s,t[u]=(e[u*3+a]+e[a*3+u])*s}return t}function FV(t,e,n="YXZ"){let s=Math.sin(e[0]*.5),a=Math.cos(e[0]*.5),l=Math.sin(e[1]*.5),u=Math.cos(e[1]*.5),h=Math.sin(e[2]*.5),f=Math.cos(e[2]*.5);return n==="XYZ"?(t[0]=s*u*f+a*l*h,t[1]=a*l*f-s*u*h,t[2]=a*u*h+s*l*f,t[3]=a*u*f-s*l*h):n==="YXZ"?(t[0]=s*u*f+a*l*h,t[1]=a*l*f-s*u*h,t[2]=a*u*h-s*l*f,t[3]=a*u*f+s*l*h):n==="ZXY"?(t[0]=s*u*f-a*l*h,t[1]=a*l*f+s*u*h,t[2]=a*u*h+s*l*f,t[3]=a*u*f-s*l*h):n==="ZYX"?(t[0]=s*u*f-a*l*h,t[1]=a*l*f+s*u*h,t[2]=a*u*h-s*l*f,t[3]=a*u*f+s*l*h):n==="YZX"?(t[0]=s*u*f+a*l*h,t[1]=a*l*f+s*u*h,t[2]=a*u*h-s*l*f,t[3]=a*u*f-s*l*h):n==="XZY"&&(t[0]=s*u*f-a*l*h,t[1]=a*l*f-s*u*h,t[2]=a*u*h+s*l*f,t[3]=a*u*f+s*l*h),t}const qV=NV,HV=IV,GV=DV,KV=MV;class $V extends Array{constructor(e=0,n=0,s=0,a=1){super(e,n,s,a),this.onChange=()=>{},this._target=this;const l=["0","1","2","3"];return new Proxy(this,{set(u,h){const f=Reflect.set(...arguments);return f&&l.includes(h)&&u.onChange(),f}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set w(e){this._target[3]=e,this.onChange()}identity(){return kV(this._target),this.onChange(),this}set(e,n,s,a){return e.length?this.copy(e):(HV(this._target,e,n,s,a),this.onChange(),this)}rotateX(e){return PV(this._target,this._target,e),this.onChange(),this}rotateY(e){return OV(this._target,this._target,e),this.onChange(),this}rotateZ(e){return jV(this._target,this._target,e),this.onChange(),this}inverse(e=this._target){return UV(this._target,e),this.onChange(),this}conjugate(e=this._target){return zV(this._target,e),this.onChange(),this}copy(e){return qV(this._target,e),this.onChange(),this}normalize(e=this._target){return KV(this._target,e),this.onChange(),this}multiply(e,n){return n?gT(this._target,e,n):gT(this._target,this._target,e),this.onChange(),this}dot(e){return GV(this._target,e)}fromMatrix3(e){return BV(this._target,e),this.onChange(),this}fromEuler(e,n){return FV(this._target,e,e.order),n||this.onChange(),this}fromAxisAngle(e,n){return VV(this._target,e,n),this.onChange(),this}slerp(e,n){return LV(this._target,this._target,e,n),this.onChange(),this}fromArray(e,n=0){return this._target[0]=e[n],this._target[1]=e[n+1],this._target[2]=e[n+2],this._target[3]=e[n+3],this.onChange(),this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e[n+3]=this[3],e}}const YV=1e-6;function QV(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function XV(t,e,n,s,a,l,u,h,f,p,y,_,T,w,C,P,D){return t[0]=e,t[1]=n,t[2]=s,t[3]=a,t[4]=l,t[5]=u,t[6]=h,t[7]=f,t[8]=p,t[9]=y,t[10]=_,t[11]=T,t[12]=w,t[13]=C,t[14]=P,t[15]=D,t}function WV(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function JV(t,e){let n=e[0],s=e[1],a=e[2],l=e[3],u=e[4],h=e[5],f=e[6],p=e[7],y=e[8],_=e[9],T=e[10],w=e[11],C=e[12],P=e[13],D=e[14],O=e[15],B=n*h-s*u,z=n*f-a*u,J=n*p-l*u,Z=s*f-a*h,te=s*p-l*h,I=a*p-l*f,A=y*P-_*C,V=y*D-T*C,R=y*O-w*C,M=_*D-T*P,L=_*O-w*P,k=T*O-w*D,le=B*k-z*L+J*M+Z*R-te*V+I*A;return le?(le=1/le,t[0]=(h*k-f*L+p*M)*le,t[1]=(a*L-s*k-l*M)*le,t[2]=(P*I-D*te+O*Z)*le,t[3]=(T*te-_*I-w*Z)*le,t[4]=(f*R-u*k-p*V)*le,t[5]=(n*k-a*R+l*V)*le,t[6]=(D*J-C*I-O*z)*le,t[7]=(y*I-T*J+w*z)*le,t[8]=(u*L-h*R+p*A)*le,t[9]=(s*R-n*L-l*A)*le,t[10]=(C*te-P*J+O*B)*le,t[11]=(_*J-y*te-w*B)*le,t[12]=(h*V-u*M-f*A)*le,t[13]=(n*M-s*V+a*A)*le,t[14]=(P*z-C*Z-D*B)*le,t[15]=(y*Z-_*z+T*B)*le,t):null}function MS(t){let e=t[0],n=t[1],s=t[2],a=t[3],l=t[4],u=t[5],h=t[6],f=t[7],p=t[8],y=t[9],_=t[10],T=t[11],w=t[12],C=t[13],P=t[14],D=t[15],O=e*u-n*l,B=e*h-s*l,z=e*f-a*l,J=n*h-s*u,Z=n*f-a*u,te=s*f-a*h,I=p*C-y*w,A=p*P-_*w,V=p*D-T*w,R=y*P-_*C,M=y*D-T*C,L=_*D-T*P;return O*L-B*M+z*R+J*V-Z*A+te*I}function yT(t,e,n){let s=e[0],a=e[1],l=e[2],u=e[3],h=e[4],f=e[5],p=e[6],y=e[7],_=e[8],T=e[9],w=e[10],C=e[11],P=e[12],D=e[13],O=e[14],B=e[15],z=n[0],J=n[1],Z=n[2],te=n[3];return t[0]=z*s+J*h+Z*_+te*P,t[1]=z*a+J*f+Z*T+te*D,t[2]=z*l+J*p+Z*w+te*O,t[3]=z*u+J*y+Z*C+te*B,z=n[4],J=n[5],Z=n[6],te=n[7],t[4]=z*s+J*h+Z*_+te*P,t[5]=z*a+J*f+Z*T+te*D,t[6]=z*l+J*p+Z*w+te*O,t[7]=z*u+J*y+Z*C+te*B,z=n[8],J=n[9],Z=n[10],te=n[11],t[8]=z*s+J*h+Z*_+te*P,t[9]=z*a+J*f+Z*T+te*D,t[10]=z*l+J*p+Z*w+te*O,t[11]=z*u+J*y+Z*C+te*B,z=n[12],J=n[13],Z=n[14],te=n[15],t[12]=z*s+J*h+Z*_+te*P,t[13]=z*a+J*f+Z*T+te*D,t[14]=z*l+J*p+Z*w+te*O,t[15]=z*u+J*y+Z*C+te*B,t}function ZV(t,e,n){let s=n[0],a=n[1],l=n[2],u,h,f,p,y,_,T,w,C,P,D,O;return e===t?(t[12]=e[0]*s+e[4]*a+e[8]*l+e[12],t[13]=e[1]*s+e[5]*a+e[9]*l+e[13],t[14]=e[2]*s+e[6]*a+e[10]*l+e[14],t[15]=e[3]*s+e[7]*a+e[11]*l+e[15]):(u=e[0],h=e[1],f=e[2],p=e[3],y=e[4],_=e[5],T=e[6],w=e[7],C=e[8],P=e[9],D=e[10],O=e[11],t[0]=u,t[1]=h,t[2]=f,t[3]=p,t[4]=y,t[5]=_,t[6]=T,t[7]=w,t[8]=C,t[9]=P,t[10]=D,t[11]=O,t[12]=u*s+y*a+C*l+e[12],t[13]=h*s+_*a+P*l+e[13],t[14]=f*s+T*a+D*l+e[14],t[15]=p*s+w*a+O*l+e[15]),t}function eP(t,e,n){let s=n[0],a=n[1],l=n[2];return t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t[3]=e[3]*s,t[4]=e[4]*a,t[5]=e[5]*a,t[6]=e[6]*a,t[7]=e[7]*a,t[8]=e[8]*l,t[9]=e[9]*l,t[10]=e[10]*l,t[11]=e[11]*l,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function tP(t,e,n,s){let a=s[0],l=s[1],u=s[2],h=Math.hypot(a,l,u),f,p,y,_,T,w,C,P,D,O,B,z,J,Z,te,I,A,V,R,M,L,k,le,Ee;return Math.abs(h)<YV?null:(h=1/h,a*=h,l*=h,u*=h,f=Math.sin(n),p=Math.cos(n),y=1-p,_=e[0],T=e[1],w=e[2],C=e[3],P=e[4],D=e[5],O=e[6],B=e[7],z=e[8],J=e[9],Z=e[10],te=e[11],I=a*a*y+p,A=l*a*y+u*f,V=u*a*y-l*f,R=a*l*y-u*f,M=l*l*y+p,L=u*l*y+a*f,k=a*u*y+l*f,le=l*u*y-a*f,Ee=u*u*y+p,t[0]=_*I+P*A+z*V,t[1]=T*I+D*A+J*V,t[2]=w*I+O*A+Z*V,t[3]=C*I+B*A+te*V,t[4]=_*R+P*M+z*L,t[5]=T*R+D*M+J*L,t[6]=w*R+O*M+Z*L,t[7]=C*R+B*M+te*L,t[8]=_*k+P*le+z*Ee,t[9]=T*k+D*le+J*Ee,t[10]=w*k+O*le+Z*Ee,t[11]=C*k+B*le+te*Ee,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function nP(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function DS(t,e){let n=e[0],s=e[1],a=e[2],l=e[4],u=e[5],h=e[6],f=e[8],p=e[9],y=e[10];return t[0]=Math.hypot(n,s,a),t[1]=Math.hypot(l,u,h),t[2]=Math.hypot(f,p,y),t}function iP(t){let e=t[0],n=t[1],s=t[2],a=t[4],l=t[5],u=t[6],h=t[8],f=t[9],p=t[10];const y=e*e+n*n+s*s,_=a*a+l*l+u*u,T=h*h+f*f+p*p;return Math.sqrt(Math.max(y,_,T))}const kS=(function(){const t=[1,1,1];return function(e,n){let s=t;DS(s,n);let a=1/s[0],l=1/s[1],u=1/s[2],h=n[0]*a,f=n[1]*l,p=n[2]*u,y=n[4]*a,_=n[5]*l,T=n[6]*u,w=n[8]*a,C=n[9]*l,P=n[10]*u,D=h+_+P,O=0;return D>0?(O=Math.sqrt(D+1)*2,e[3]=.25*O,e[0]=(T-C)/O,e[1]=(w-p)/O,e[2]=(f-y)/O):h>_&&h>P?(O=Math.sqrt(1+h-_-P)*2,e[3]=(T-C)/O,e[0]=.25*O,e[1]=(f+y)/O,e[2]=(w+p)/O):_>P?(O=Math.sqrt(1+_-h-P)*2,e[3]=(w-p)/O,e[0]=(f+y)/O,e[1]=.25*O,e[2]=(T+C)/O):(O=Math.sqrt(1+P-h-_)*2,e[3]=(f-y)/O,e[0]=(w+p)/O,e[1]=(T+C)/O,e[2]=.25*O),e}})();function sP(t,e,n,s){let a=zu([t[0],t[1],t[2]]);const l=zu([t[4],t[5],t[6]]),u=zu([t[8],t[9],t[10]]);MS(t)<0&&(a=-a),n[0]=t[12],n[1]=t[13],n[2]=t[14];const f=t.slice(),p=1/a,y=1/l,_=1/u;f[0]*=p,f[1]*=p,f[2]*=p,f[4]*=y,f[5]*=y,f[6]*=y,f[8]*=_,f[9]*=_,f[10]*=_,kS(e,f),s[0]=a,s[1]=l,s[2]=u}function rP(t,e,n,s){const a=t,l=e[0],u=e[1],h=e[2],f=e[3],p=l+l,y=u+u,_=h+h,T=l*p,w=l*y,C=l*_,P=u*y,D=u*_,O=h*_,B=f*p,z=f*y,J=f*_,Z=s[0],te=s[1],I=s[2];return a[0]=(1-(P+O))*Z,a[1]=(w+J)*Z,a[2]=(C-z)*Z,a[3]=0,a[4]=(w-J)*te,a[5]=(1-(T+O))*te,a[6]=(D+B)*te,a[7]=0,a[8]=(C+z)*I,a[9]=(D-B)*I,a[10]=(1-(T+P))*I,a[11]=0,a[12]=n[0],a[13]=n[1],a[14]=n[2],a[15]=1,a}function aP(t,e){let n=e[0],s=e[1],a=e[2],l=e[3],u=n+n,h=s+s,f=a+a,p=n*u,y=s*u,_=s*h,T=a*u,w=a*h,C=a*f,P=l*u,D=l*h,O=l*f;return t[0]=1-_-C,t[1]=y+O,t[2]=T-D,t[3]=0,t[4]=y-O,t[5]=1-p-C,t[6]=w+P,t[7]=0,t[8]=T+D,t[9]=w-P,t[10]=1-p-_,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function oP(t,e,n,s,a){let l=1/Math.tan(e/2),u=1/(s-a);return t[0]=l/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(a+s)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*a*s*u,t[15]=0,t}function lP(t,e,n,s,a,l,u){let h=1/(e-n),f=1/(s-a),p=1/(l-u);return t[0]=-2*h,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*f,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*p,t[11]=0,t[12]=(e+n)*h,t[13]=(a+s)*f,t[14]=(u+l)*p,t[15]=1,t}function uP(t,e,n,s){let a=e[0],l=e[1],u=e[2],h=s[0],f=s[1],p=s[2],y=a-n[0],_=l-n[1],T=u-n[2],w=y*y+_*_+T*T;w===0?T=1:(w=1/Math.sqrt(w),y*=w,_*=w,T*=w);let C=f*T-p*_,P=p*y-h*T,D=h*_-f*y;return w=C*C+P*P+D*D,w===0&&(p?h+=1e-6:f?p+=1e-6:f+=1e-6,C=f*T-p*_,P=p*y-h*T,D=h*_-f*y,w=C*C+P*P+D*D),w=1/Math.sqrt(w),C*=w,P*=w,D*=w,t[0]=C,t[1]=P,t[2]=D,t[3]=0,t[4]=_*D-T*P,t[5]=T*C-y*D,t[6]=y*P-_*C,t[7]=0,t[8]=y,t[9]=_,t[10]=T,t[11]=0,t[12]=a,t[13]=l,t[14]=u,t[15]=1,t}function vT(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function _T(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function cP(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}class Nr extends Array{constructor(e=1,n=0,s=0,a=0,l=0,u=1,h=0,f=0,p=0,y=0,_=1,T=0,w=0,C=0,P=0,D=1){return super(e,n,s,a,l,u,h,f,p,y,_,T,w,C,P,D),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(e){this[12]=e}set y(e){this[13]=e}set z(e){this[14]=e}set w(e){this[15]=e}set(e,n,s,a,l,u,h,f,p,y,_,T,w,C,P,D){return e.length?this.copy(e):(XV(this,e,n,s,a,l,u,h,f,p,y,_,T,w,C,P,D),this)}translate(e,n=this){return ZV(this,n,e),this}rotate(e,n,s=this){return tP(this,s,e,n),this}scale(e,n=this){return eP(this,n,typeof e=="number"?[e,e,e]:e),this}add(e,n){return n?vT(this,e,n):vT(this,this,e),this}sub(e,n){return n?_T(this,e,n):_T(this,this,e),this}multiply(e,n){return e.length?n?yT(this,e,n):yT(this,this,e):cP(this,this,e),this}identity(){return WV(this),this}copy(e){return QV(this,e),this}fromPerspective({fov:e,aspect:n,near:s,far:a}={}){return oP(this,e,n,s,a),this}fromOrthogonal({left:e,right:n,bottom:s,top:a,near:l,far:u}){return lP(this,e,n,s,a,l,u),this}fromQuaternion(e){return aP(this,e),this}setPosition(e){return this.x=e[0],this.y=e[1],this.z=e[2],this}inverse(e=this){return JV(this,e),this}compose(e,n,s){return rP(this,e,n,s),this}decompose(e,n,s){return sP(this,e,n,s),this}getRotation(e){return kS(e,this),this}getTranslation(e){return nP(e,this),this}getScaling(e){return DS(e,this),this}getMaxScaleOnAxis(){return iP(this)}lookAt(e,n,s){return uP(this,e,n,s),this}determinant(){return MS(this)}fromArray(e,n=0){return this[0]=e[n],this[1]=e[n+1],this[2]=e[n+2],this[3]=e[n+3],this[4]=e[n+4],this[5]=e[n+5],this[6]=e[n+6],this[7]=e[n+7],this[8]=e[n+8],this[9]=e[n+9],this[10]=e[n+10],this[11]=e[n+11],this[12]=e[n+12],this[13]=e[n+13],this[14]=e[n+14],this[15]=e[n+15],this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e[n+3]=this[3],e[n+4]=this[4],e[n+5]=this[5],e[n+6]=this[6],e[n+7]=this[7],e[n+8]=this[8],e[n+9]=this[9],e[n+10]=this[10],e[n+11]=this[11],e[n+12]=this[12],e[n+13]=this[13],e[n+14]=this[14],e[n+15]=this[15],e}}function hP(t,e,n="YXZ"){return n==="XYZ"?(t[1]=Math.asin(Math.min(Math.max(e[8],-1),1)),Math.abs(e[8])<.99999?(t[0]=Math.atan2(-e[9],e[10]),t[2]=Math.atan2(-e[4],e[0])):(t[0]=Math.atan2(e[6],e[5]),t[2]=0)):n==="YXZ"?(t[0]=Math.asin(-Math.min(Math.max(e[9],-1),1)),Math.abs(e[9])<.99999?(t[1]=Math.atan2(e[8],e[10]),t[2]=Math.atan2(e[1],e[5])):(t[1]=Math.atan2(-e[2],e[0]),t[2]=0)):n==="ZXY"?(t[0]=Math.asin(Math.min(Math.max(e[6],-1),1)),Math.abs(e[6])<.99999?(t[1]=Math.atan2(-e[2],e[10]),t[2]=Math.atan2(-e[4],e[5])):(t[1]=0,t[2]=Math.atan2(e[1],e[0]))):n==="ZYX"?(t[1]=Math.asin(-Math.min(Math.max(e[2],-1),1)),Math.abs(e[2])<.99999?(t[0]=Math.atan2(e[6],e[10]),t[2]=Math.atan2(e[1],e[0])):(t[0]=0,t[2]=Math.atan2(-e[4],e[5]))):n==="YZX"?(t[2]=Math.asin(Math.min(Math.max(e[1],-1),1)),Math.abs(e[1])<.99999?(t[0]=Math.atan2(-e[9],e[5]),t[1]=Math.atan2(-e[2],e[0])):(t[0]=0,t[1]=Math.atan2(e[8],e[10]))):n==="XZY"&&(t[2]=Math.asin(-Math.min(Math.max(e[4],-1),1)),Math.abs(e[4])<.99999?(t[0]=Math.atan2(e[6],e[5]),t[1]=Math.atan2(e[8],e[0])):(t[0]=Math.atan2(-e[9],e[10]),t[1]=0)),t}const bT=new Nr;class fP extends Array{constructor(e=0,n=e,s=e,a="YXZ"){super(e,n,s),this.order=a,this.onChange=()=>{},this._target=this;const l=["0","1","2"];return new Proxy(this,{set(u,h){const f=Reflect.set(...arguments);return f&&l.includes(h)&&u.onChange(),f}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set(e,n=e,s=e){return e.length?this.copy(e):(this._target[0]=e,this._target[1]=n,this._target[2]=s,this.onChange(),this)}copy(e){return this._target[0]=e[0],this._target[1]=e[1],this._target[2]=e[2],this.onChange(),this}reorder(e){return this._target.order=e,this.onChange(),this}fromRotationMatrix(e,n=this.order){return hP(this._target,e,n),this.onChange(),this}fromQuaternion(e,n=this.order,s){return bT.fromQuaternion(e),this._target.fromRotationMatrix(bT,n),s||this.onChange(),this}fromArray(e,n=0){return this._target[0]=e[n],this._target[1]=e[n+1],this._target[2]=e[n+2],this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e}}class VS{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new Nr,this.worldMatrix=new Nr,this.matrixAutoUpdate=!0,this.worldMatrixNeedsUpdate=!1,this.position=new Pt,this.quaternion=new $V,this.scale=new Pt(1),this.rotation=new fP,this.up=new Pt(0,1,0),this.rotation._target.onChange=()=>this.quaternion.fromEuler(this.rotation,!0),this.quaternion._target.onChange=()=>this.rotation.fromQuaternion(this.quaternion,void 0,!0)}setParent(e,n=!0){this.parent&&e!==this.parent&&this.parent.removeChild(this,!1),this.parent=e,n&&e&&e.addChild(this,!1)}addChild(e,n=!0){~this.children.indexOf(e)||this.children.push(e),n&&e.setParent(this,!1)}removeChild(e,n=!0){~this.children.indexOf(e)&&this.children.splice(this.children.indexOf(e),1),n&&e.setParent(null,!1)}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||e)&&(this.parent===null?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,e=!0);for(let n=0,s=this.children.length;n<s;n++)this.children[n].updateMatrixWorld(e)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(e){if(!e(this))for(let n=0,s=this.children.length;n<s;n++)this.children[n].traverse(e)}decompose(){this.matrix.decompose(this.quaternion._target,this.position,this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(e,n=!1){n?this.matrix.lookAt(this.position,e,this.up):this.matrix.lookAt(e,this.position,this.up),this.matrix.getRotation(this.quaternion._target),this.rotation.fromQuaternion(this.quaternion)}}const dP=new Nr,mP=new Pt,pP=new Pt;let gP=class extends VS{constructor(e,{near:n=.1,far:s=100,fov:a=45,aspect:l=1,left:u,right:h,bottom:f,top:p,zoom:y=1}={}){super(),Object.assign(this,{near:n,far:s,fov:a,aspect:l,left:u,right:h,bottom:f,top:p,zoom:y}),this.projectionMatrix=new Nr,this.viewMatrix=new Nr,this.projectionViewMatrix=new Nr,this.worldPosition=new Pt,this.type=u||h?"orthographic":"perspective",this.type==="orthographic"?this.orthographic():this.perspective()}perspective({near:e=this.near,far:n=this.far,fov:s=this.fov,aspect:a=this.aspect}={}){return Object.assign(this,{near:e,far:n,fov:s,aspect:a}),this.projectionMatrix.fromPerspective({fov:s*(Math.PI/180),aspect:a,near:e,far:n}),this.type="perspective",this}orthographic({near:e=this.near,far:n=this.far,left:s=this.left||-1,right:a=this.right||1,bottom:l=this.bottom||-1,top:u=this.top||1,zoom:h=this.zoom}={}){return Object.assign(this,{near:e,far:n,left:s,right:a,bottom:l,top:u,zoom:h}),s/=h,a/=h,l/=h,u/=h,this.projectionMatrix.fromOrthogonal({left:s,right:a,bottom:l,top:u,near:e,far:n}),this.type="orthographic",this}updateMatrixWorld(){return super.updateMatrixWorld(),this.viewMatrix.inverse(this.worldMatrix),this.worldMatrix.getTranslation(this.worldPosition),this.projectionViewMatrix.multiply(this.projectionMatrix,this.viewMatrix),this}updateProjectionMatrix(){return this.type==="perspective"?this.perspective():this.orthographic()}lookAt(e){return super.lookAt(e,!0),this}project(e){return e.applyMatrix4(this.viewMatrix),e.applyMatrix4(this.projectionMatrix),this}unproject(e){return e.applyMatrix4(dP.inverse(this.projectionMatrix)),e.applyMatrix4(this.worldMatrix),this}updateFrustum(){this.frustum||(this.frustum=[new Pt,new Pt,new Pt,new Pt,new Pt,new Pt]);const e=this.projectionViewMatrix;this.frustum[0].set(e[3]-e[0],e[7]-e[4],e[11]-e[8]).constant=e[15]-e[12],this.frustum[1].set(e[3]+e[0],e[7]+e[4],e[11]+e[8]).constant=e[15]+e[12],this.frustum[2].set(e[3]+e[1],e[7]+e[5],e[11]+e[9]).constant=e[15]+e[13],this.frustum[3].set(e[3]-e[1],e[7]-e[5],e[11]-e[9]).constant=e[15]-e[13],this.frustum[4].set(e[3]-e[2],e[7]-e[6],e[11]-e[10]).constant=e[15]-e[14],this.frustum[5].set(e[3]+e[2],e[7]+e[6],e[11]+e[10]).constant=e[15]+e[14];for(let n=0;n<6;n++){const s=1/this.frustum[n].distance();this.frustum[n].multiply(s),this.frustum[n].constant*=s}}frustumIntersectsMesh(e,n=e.worldMatrix){if(!e.geometry.attributes.position||((!e.geometry.bounds||e.geometry.bounds.radius===1/0)&&e.geometry.computeBoundingSphere(),!e.geometry.bounds))return!0;const s=mP;s.copy(e.geometry.bounds.center),s.applyMatrix4(n);const a=e.geometry.bounds.radius*n.getMaxScaleOnAxis();return this.frustumIntersectsSphere(s,a)}frustumIntersectsSphere(e,n){const s=pP;for(let a=0;a<6;a++){const l=this.frustum[a];if(s.copy(l).dot(e)+l.constant<-n)return!1}return!0}};function yP(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function vP(t,e){let n=e[0],s=e[1],a=e[2],l=e[3],u=n+n,h=s+s,f=a+a,p=n*u,y=s*u,_=s*h,T=a*u,w=a*h,C=a*f,P=l*u,D=l*h,O=l*f;return t[0]=1-_-C,t[3]=y-O,t[6]=T+D,t[1]=y+O,t[4]=1-p-C,t[7]=w-P,t[2]=T-D,t[5]=w+P,t[8]=1-p-_,t}function _P(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function bP(t,e,n,s,a,l,u,h,f,p){return t[0]=e,t[1]=n,t[2]=s,t[3]=a,t[4]=l,t[5]=u,t[6]=h,t[7]=f,t[8]=p,t}function xP(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function TP(t,e){let n=e[0],s=e[1],a=e[2],l=e[3],u=e[4],h=e[5],f=e[6],p=e[7],y=e[8],_=y*u-h*p,T=-y*l+h*f,w=p*l-u*f,C=n*_+s*T+a*w;return C?(C=1/C,t[0]=_*C,t[1]=(-y*s+a*p)*C,t[2]=(h*s-a*u)*C,t[3]=T*C,t[4]=(y*n-a*f)*C,t[5]=(-h*n+a*l)*C,t[6]=w*C,t[7]=(-p*n+s*f)*C,t[8]=(u*n-s*l)*C,t):null}function xT(t,e,n){let s=e[0],a=e[1],l=e[2],u=e[3],h=e[4],f=e[5],p=e[6],y=e[7],_=e[8],T=n[0],w=n[1],C=n[2],P=n[3],D=n[4],O=n[5],B=n[6],z=n[7],J=n[8];return t[0]=T*s+w*u+C*p,t[1]=T*a+w*h+C*y,t[2]=T*l+w*f+C*_,t[3]=P*s+D*u+O*p,t[4]=P*a+D*h+O*y,t[5]=P*l+D*f+O*_,t[6]=B*s+z*u+J*p,t[7]=B*a+z*h+J*y,t[8]=B*l+z*f+J*_,t}function EP(t,e,n){let s=e[0],a=e[1],l=e[2],u=e[3],h=e[4],f=e[5],p=e[6],y=e[7],_=e[8],T=n[0],w=n[1];return t[0]=s,t[1]=a,t[2]=l,t[3]=u,t[4]=h,t[5]=f,t[6]=T*s+w*u+p,t[7]=T*a+w*h+y,t[8]=T*l+w*f+_,t}function wP(t,e,n){let s=e[0],a=e[1],l=e[2],u=e[3],h=e[4],f=e[5],p=e[6],y=e[7],_=e[8],T=Math.sin(n),w=Math.cos(n);return t[0]=w*s+T*u,t[1]=w*a+T*h,t[2]=w*l+T*f,t[3]=w*u-T*s,t[4]=w*h-T*a,t[5]=w*f-T*l,t[6]=p,t[7]=y,t[8]=_,t}function SP(t,e,n){let s=n[0],a=n[1];return t[0]=s*e[0],t[1]=s*e[1],t[2]=s*e[2],t[3]=a*e[3],t[4]=a*e[4],t[5]=a*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function AP(t,e){let n=e[0],s=e[1],a=e[2],l=e[3],u=e[4],h=e[5],f=e[6],p=e[7],y=e[8],_=e[9],T=e[10],w=e[11],C=e[12],P=e[13],D=e[14],O=e[15],B=n*h-s*u,z=n*f-a*u,J=n*p-l*u,Z=s*f-a*h,te=s*p-l*h,I=a*p-l*f,A=y*P-_*C,V=y*D-T*C,R=y*O-w*C,M=_*D-T*P,L=_*O-w*P,k=T*O-w*D,le=B*k-z*L+J*M+Z*R-te*V+I*A;return le?(le=1/le,t[0]=(h*k-f*L+p*M)*le,t[1]=(f*R-u*k-p*V)*le,t[2]=(u*L-h*R+p*A)*le,t[3]=(a*L-s*k-l*M)*le,t[4]=(n*k-a*R+l*V)*le,t[5]=(s*R-n*L-l*A)*le,t[6]=(P*I-D*te+O*Z)*le,t[7]=(D*J-C*I-O*z)*le,t[8]=(C*te-P*J+O*B)*le,t):null}class CP extends Array{constructor(e=1,n=0,s=0,a=0,l=1,u=0,h=0,f=0,p=1){return super(e,n,s,a,l,u,h,f,p),this}set(e,n,s,a,l,u,h,f,p){return e.length?this.copy(e):(bP(this,e,n,s,a,l,u,h,f,p),this)}translate(e,n=this){return EP(this,n,e),this}rotate(e,n=this){return wP(this,n,e),this}scale(e,n=this){return SP(this,n,e),this}multiply(e,n){return n?xT(this,e,n):xT(this,this,e),this}identity(){return xP(this),this}copy(e){return _P(this,e),this}fromMatrix4(e){return yP(this,e),this}fromQuaternion(e){return vP(this,e),this}fromBasis(e,n,s){return this.set(e[0],e[1],e[2],n[0],n[1],n[2],s[0],s[1],s[2]),this}inverse(e=this){return TP(this,e),this}getNormalMatrix(e){return AP(this,e),this}}let RP=0;class NP extends VS{constructor(e,{geometry:n,program:s,mode:a=e.TRIANGLES,frustumCulled:l=!0,renderOrder:u=0}={}){super(),e.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=e,this.id=RP++,this.geometry=n,this.program=s,this.mode=a,this.frustumCulled=l,this.renderOrder=u,this.modelViewMatrix=new Nr,this.normalMatrix=new CP,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(e){return this.beforeRenderCallbacks.push(e),this}onAfterRender(e){return this.afterRenderCallbacks.push(e),this}draw({camera:e}={}){e&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=e.projectionMatrix,this.program.uniforms.cameraPosition.value=e.worldPosition,this.program.uniforms.viewMatrix.value=e.viewMatrix,this.modelViewMatrix.multiply(e.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach(s=>s&&s({mesh:this,camera:e}));let n=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:n}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(s=>s&&s({mesh:this,camera:e}))}}const IP=["#ffffff","#ffffff","#ffffff"],MP=t=>{t=t.replace(/^#/,""),t.length===3&&(t=t.split("").map(l=>l+l).join(""));const e=parseInt(t,16),n=(e>>16&255)/255,s=(e>>8&255)/255,a=(e&255)/255;return[n,s,a]},DP=`
  attribute vec3 position;
  attribute vec4 random;
  attribute vec3 color;
  
  uniform mat4 modelMatrix;
  uniform mat4 viewMatrix;
  uniform mat4 projectionMatrix;
  uniform float uTime;
  uniform float uSpread;
  uniform float uBaseSize;
  uniform float uSizeRandomness;
  
  varying vec4 vRandom;
  varying vec3 vColor;
  
  void main() {
    vRandom = random;
    vColor = color;
    
    vec3 pos = position * uSpread;
    pos.z *= 10.0;
    
    vec4 mPos = modelMatrix * vec4(pos, 1.0);
    float t = uTime;
    mPos.x += sin(t * random.z + 6.28 * random.w) * mix(0.1, 1.5, random.x);
    mPos.y += sin(t * random.y + 6.28 * random.x) * mix(0.1, 1.5, random.w);
    mPos.z += sin(t * random.w + 6.28 * random.y) * mix(0.1, 1.5, random.z);
    
    vec4 mvPos = viewMatrix * mPos;

    if (uSizeRandomness == 0.0) {
      gl_PointSize = uBaseSize;
    } else {
      gl_PointSize = (uBaseSize * (1.0 + uSizeRandomness * (random.x - 0.5))) / length(mvPos.xyz);
    }
    
    gl_Position = projectionMatrix * mvPos;
    gl_Position = projectionMatrix * mvPos;
  }
`,kP=`
  precision highp float;
  
  uniform float uTime;
  uniform float uAlphaParticles;
  varying vec4 vRandom;
  varying vec3 vColor;
  
  void main() {
    vec2 uv = gl_PointCoord.xy;
    float d = length(uv - vec2(0.5));
    
    if(uAlphaParticles < 0.5) {
      if(d > 0.5) {
        discard;
      }
      gl_FragColor = vec4(vColor + 0.2 * sin(uv.yxx + uTime + vRandom.y * 6.28), 1.0);
    } else {
      float circle = smoothstep(0.5, 0.4, d) * 0.8;
      gl_FragColor = vec4(vColor + 0.2 * sin(uv.yxx + uTime + vRandom.y * 6.28), circle);
    }
  }
`,PS=({particleCount:t=200,particleSpread:e=10,speed:n=.1,particleColors:s,moveParticlesOnHover:a=!1,particleHoverFactor:l=1,alphaParticles:u=!1,particleBaseSize:h=100,sizeRandomness:f=1,cameraDistance:p=20,disableRotation:y=!1,className:_})=>{const T=j.useRef(null),w=j.useRef({x:0,y:0});return j.useEffect(()=>{const C=T.current;if(!C)return;const P=new RV({depth:!1,alpha:!0}),D=P.gl;C.appendChild(D.canvas),D.clearColor(0,0,0,0);const O=new gP(D,{fov:15});O.position.set(0,0,p);const B=()=>{const Y=C.clientWidth,re=C.clientHeight;P.setSize(Y,re),O.perspective({aspect:D.canvas.width/D.canvas.height})};window.addEventListener("resize",B,!1),B();const z=Y=>{const re=C.getBoundingClientRect(),ce=(Y.clientX-re.left)/re.width*2-1,be=-((Y.clientY-re.top)/re.height*2-1);w.current={x:ce,y:be}};a&&C.addEventListener("mousemove",z);const J=t,Z=new Float32Array(J*3),te=new Float32Array(J*4),I=new Float32Array(J*3),A=s&&s.length>0?s:IP;for(let Y=0;Y<J;Y++){let re,ce,be,Ne;do re=Math.random()*2-1,ce=Math.random()*2-1,be=Math.random()*2-1,Ne=re*re+ce*ce+be*be;while(Ne>1||Ne===0);const F=Math.cbrt(Math.random());Z.set([re*F,ce*F,be*F],Y*3),te.set([Math.random(),Math.random(),Math.random(),Math.random()],Y*4);const ie=MP(A[Math.floor(Math.random()*A.length)]);I.set(ie,Y*3)}const V=new xV(D,{position:{size:3,data:Z},random:{size:4,data:te},color:{size:3,data:I}}),R=new EV(D,{vertex:DP,fragment:kP,uniforms:{uTime:{value:0},uSpread:{value:e},uBaseSize:{value:h},uSizeRandomness:{value:f},uAlphaParticles:{value:u?1:0}},transparent:!0,depthTest:!1}),M=new NP(D,{mode:D.POINTS,geometry:V,program:R});let L,k=performance.now(),le=0;const Ee=Y=>{L=requestAnimationFrame(Ee);const re=Y-k;k=Y,le+=re*n,R.uniforms.uTime.value=le*.001,a?(M.position.x=-w.current.x*l,M.position.y=-w.current.y*l):(M.position.x=0,M.position.y=0),y||(M.rotation.x=Math.sin(le*2e-4)*.1,M.rotation.y=Math.cos(le*5e-4)*.15,M.rotation.z+=.01*n),P.render({scene:M,camera:O})};return L=requestAnimationFrame(Ee),()=>{window.removeEventListener("resize",B),a&&C.removeEventListener("mousemove",z),cancelAnimationFrame(L),C.contains(D.canvas)&&C.removeChild(D.canvas)}},[t,e,n,a,l,u,h,f,p,y]),v.jsx("div",{ref:T,className:`relative w-full h-full ${_}`})};function VP(){const{user:t,isEmailVerified:e,sendVerificationEmail:n}=ii(),s=ts(),[a,l]=j.useState(!1),[u,h]=j.useState(60);j.useEffect(()=>{e&&s("/dashboard")},[e,s]);const f=async()=>{l(!0);try{await n(),h(60)}catch{alert("Gagal mengirim email verifikasi")}finally{l(!1)}};return j.useEffect(()=>{let p;return u>0&&!a&&(p=setTimeout(()=>h(y=>y-1),1e3)),()=>clearTimeout(p)},[u,a]),v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 flex items-center justify-center p-4",children:v.jsxs("div",{className:"max-w-md w-full bg-white/10 backdrop-blur-md rounded-2xl p-8 text-center border border-white/20 shadow-2xl",children:[v.jsx("div",{className:"w-16 h-16 mx-auto bg-yellow-500/20 rounded-full flex items-center justify-center mb-6",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-yellow-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),v.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Verifikasi Email"}),v.jsxs("p",{className:"text-slate-300 mb-6",children:["Kami telah mengirimkan link verifikasi ke ",v.jsx("span",{className:"font-mono bg-slate-800/50 px-2 py-1 rounded",children:t?.email}),". Silakan cek inbox (dan folder spam) Anda."]}),v.jsx("button",{onClick:f,disabled:a||u>0,className:`w-full py-3 px-4 rounded-lg font-medium transition ${a||u>0?"bg-slate-600 text-slate-400 cursor-not-allowed":"bg-slate-700 hover:bg-slate-600 text-white"}`,children:a?"Mengirim...":u>0?`Kirim Ulang (${u}s)`:"Kirim Ulang Verifikasi"}),v.jsx("button",{onClick:()=>s("/"),className:"mt-4 text-sm text-slate-400 hover:text-white underline",children:"Kembali ke beranda"})]})})}function PP(){const{user:t,loading:e}=ii();return e?v.jsx("div",{className:"min-h-screen flex items-center justify-center",children:v.jsx("div",{className:"text-xl",children:"Loading..."})}):t?v.jsx(JE,{}):v.jsx(WE,{to:"/login",replace:!0})}function OP(){const{user:t,loading:e}=ii();return e?v.jsx("div",{className:"min-h-screen flex items-center justify-center",children:v.jsx("div",{className:"text-xl",children:"Loading..."})}):t?v.jsx(WE,{to:"/forum",replace:!0}):v.jsx(JE,{})}const dy=j.createContext({});function my(t){const e=j.useRef(null);return e.current===null&&(e.current=t()),e.current}const py=typeof window<"u",OS=py?j.useLayoutEffect:j.useEffect,Nd=j.createContext(null);function gy(t,e){t.indexOf(e)===-1&&t.push(e)}function yy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Vs=(t,e,n)=>n>e?e:n<t?t:n;let vy=()=>{};const Ps={},jS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function LS(t){return typeof t=="object"&&t!==null}const US=t=>/^0[^.\s]+$/u.test(t);function _y(t){let e;return()=>(e===void 0&&(e=t()),e)}const ei=t=>t,jP=(t,e)=>n=>e(t(n)),Sc=(...t)=>t.reduce(jP),nc=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class by{constructor(){this.subscriptions=[]}add(e){return gy(this.subscriptions,e),()=>yy(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ji=t=>t*1e3,Zn=t=>t/1e3;function zS(t,e){return e?t*(1e3/e):0}const BS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,LP=1e-7,UP=12;function zP(t,e,n,s,a){let l,u,h=0;do u=e+(n-e)/2,l=BS(u,s,a)-t,l>0?n=u:e=u;while(Math.abs(l)>LP&&++h<UP);return u}function Ac(t,e,n,s){if(t===e&&n===s)return ei;const a=l=>zP(l,0,1,t,n);return l=>l===0||l===1?l:BS(a(l),e,s)}const FS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,qS=t=>e=>1-t(1-e),HS=Ac(.33,1.53,.69,.99),xy=qS(HS),GS=FS(xy),KS=t=>(t*=2)<1?.5*xy(t):.5*(2-Math.pow(2,-10*(t-1))),Ty=t=>1-Math.sin(Math.acos(t)),$S=qS(Ty),YS=FS(Ty),BP=Ac(.42,0,1,1),FP=Ac(0,0,.58,1),QS=Ac(.42,0,.58,1),qP=t=>Array.isArray(t)&&typeof t[0]!="number",XS=t=>Array.isArray(t)&&typeof t[0]=="number",HP={linear:ei,easeIn:BP,easeInOut:QS,easeOut:FP,circIn:Ty,circInOut:YS,circOut:$S,backIn:xy,backInOut:GS,backOut:HS,anticipate:KS},GP=t=>typeof t=="string",TT=t=>{if(XS(t)){vy(t.length===4);const[e,n,s,a]=t;return Ac(e,n,s,a)}else if(GP(t))return HP[t];return t},df=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function KP(t,e){let n=new Set,s=new Set,a=!1,l=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function f(y){u.has(y)&&(p.schedule(y),t()),y(h)}const p={schedule:(y,_=!1,T=!1)=>{const C=T&&a?n:s;return _&&u.add(y),C.has(y)||C.add(y),y},cancel:y=>{s.delete(y),u.delete(y)},process:y=>{if(h=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(f),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const $P=40;function WS(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=df.reduce((z,J)=>(z[J]=KP(l),z),{}),{setup:h,read:f,resolveKeyframes:p,preUpdate:y,update:_,preRender:T,render:w,postRender:C}=u,P=()=>{const z=Ps.useManualTiming?a.timestamp:performance.now();n=!1,Ps.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(z-a.timestamp,$P),1)),a.timestamp=z,a.isProcessing=!0,h.process(a),f.process(a),p.process(a),y.process(a),_.process(a),T.process(a),w.process(a),C.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(P))},D=()=>{n=!0,s=!0,a.isProcessing||t(P)};return{schedule:df.reduce((z,J)=>{const Z=u[J];return z[J]=(te,I=!1,A=!1)=>(n||D(),Z.schedule(te,I,A)),z},{}),cancel:z=>{for(let J=0;J<df.length;J++)u[df[J]].cancel(z)},state:a,steps:u}}const{schedule:ht,cancel:Or,state:Zt,steps:tg}=WS(typeof requestAnimationFrame<"u"?requestAnimationFrame:ei,!0);let Mf;function YP(){Mf=void 0}const wn={now:()=>(Mf===void 0&&wn.set(Zt.isProcessing||Ps.useManualTiming?Zt.timestamp:performance.now()),Mf),set:t=>{Mf=t,queueMicrotask(YP)}},JS=t=>e=>typeof e=="string"&&e.startsWith(t),Ey=JS("--"),QP=JS("var(--"),wy=t=>QP(t)?XP.test(t.split("/*")[0].trim()):!1,XP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ml={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ic={...ml,transform:t=>Vs(0,1,t)},mf={...ml,default:1},Bu=t=>Math.round(t*1e5)/1e5,Sy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function WP(t){return t==null}const JP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ay=(t,e)=>n=>!!(typeof n=="string"&&JP.test(n)&&n.startsWith(t)||e&&!WP(n)&&Object.prototype.hasOwnProperty.call(n,e)),ZS=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,u,h]=s.match(Sy);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},ZP=t=>Vs(0,255,t),ng={...ml,transform:t=>Math.round(ZP(t))},Ea={test:Ay("rgb","red"),parse:ZS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+ng.transform(t)+", "+ng.transform(e)+", "+ng.transform(n)+", "+Bu(ic.transform(s))+")"};function eO(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Yg={test:Ay("#"),parse:eO,transform:Ea.transform},Cc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),vr=Cc("deg"),Zi=Cc("%"),we=Cc("px"),tO=Cc("vh"),nO=Cc("vw"),ET={...Zi,parse:t=>Zi.parse(t)/100,transform:t=>Zi.transform(t*100)},ko={test:Ay("hsl","hue"),parse:ZS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Zi.transform(Bu(e))+", "+Zi.transform(Bu(n))+", "+Bu(ic.transform(s))+")"},Vt={test:t=>Ea.test(t)||Yg.test(t)||ko.test(t),parse:t=>Ea.test(t)?Ea.parse(t):ko.test(t)?ko.parse(t):Yg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ea.transform(t):ko.transform(t),getAnimatableNone:t=>{const e=Vt.parse(t);return e.alpha=0,Vt.transform(e)}},iO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function sO(t){return isNaN(t)&&typeof t=="string"&&(t.match(Sy)?.length||0)+(t.match(iO)?.length||0)>0}const eA="number",tA="color",rO="var",aO="var(",wT="${}",oO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function sc(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(oO,f=>(Vt.test(f)?(s.color.push(l),a.push(tA),n.push(Vt.parse(f))):f.startsWith(aO)?(s.var.push(l),a.push(rO),n.push(f)):(s.number.push(l),a.push(eA),n.push(parseFloat(f))),++l,wT)).split(wT);return{values:n,split:h,indexes:s,types:a}}function nA(t){return sc(t).values}function iA(t){const{split:e,types:n}=sc(t),s=e.length;return a=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],a[u]!==void 0){const h=n[u];h===eA?l+=Bu(a[u]):h===tA?l+=Vt.transform(a[u]):l+=a[u]}return l}}const lO=t=>typeof t=="number"?0:Vt.test(t)?Vt.getAnimatableNone(t):t;function uO(t){const e=nA(t);return iA(t)(e.map(lO))}const jr={test:sO,parse:nA,createTransformer:iA,getAnimatableNone:uO};function ig(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function cO({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const h=n<.5?n*(1+e):n+e-n*e,f=2*n-h;a=ig(f,h,t+1/3),l=ig(f,h,t),u=ig(f,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function nd(t,e){return n=>n>0?e:t}const dt=(t,e,n)=>t+(e-t)*n,sg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},hO=[Yg,Ea,ko],fO=t=>hO.find(e=>e.test(t));function ST(t){const e=fO(t);if(!e)return!1;let n=e.parse(t);return e===ko&&(n=cO(n)),n}const AT=(t,e)=>{const n=ST(t),s=ST(e);if(!n||!s)return nd(t,e);const a={...n};return l=>(a.red=sg(n.red,s.red,l),a.green=sg(n.green,s.green,l),a.blue=sg(n.blue,s.blue,l),a.alpha=dt(n.alpha,s.alpha,l),Ea.transform(a))},Qg=new Set(["none","hidden"]);function dO(t,e){return Qg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function mO(t,e){return n=>dt(t,e,n)}function Cy(t){return typeof t=="number"?mO:typeof t=="string"?wy(t)?nd:Vt.test(t)?AT:yO:Array.isArray(t)?sA:typeof t=="object"?Vt.test(t)?AT:pO:nd}function sA(t,e){const n=[...t],s=n.length,a=t.map((l,u)=>Cy(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=a[u](l);return n}}function pO(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=Cy(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function gO(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][s[l]],h=t.values[u]??0;n[a]=h,s[l]++}return n}const yO=(t,e)=>{const n=jr.createTransformer(e),s=sc(t),a=sc(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Qg.has(t)&&!a.values.length||Qg.has(e)&&!s.values.length?dO(t,e):Sc(sA(gO(s,a),a.values),n):nd(t,e)};function rA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?dt(t,e,n):Cy(t)(t,e)}const vO=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ht.update(e,n),stop:()=>Or(e),now:()=>Zt.isProcessing?Zt.timestamp:wn.now()}},aA=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},id=2e4;function Ry(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<id;)e+=n,s=t.next(e);return e>=id?1/0:e}function _O(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(Ry(s),id);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:Zn(a)}}const bO=5;function oA(t,e,n){const s=Math.max(e-bO,0);return zS(n-t(s),e-s)}const yt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},rg=.001;function xO({duration:t=yt.duration,bounce:e=yt.bounce,velocity:n=yt.velocity,mass:s=yt.mass}){let a,l,u=1-e;u=Vs(yt.minDamping,yt.maxDamping,u),t=Vs(yt.minDuration,yt.maxDuration,Zn(t)),u<1?(a=p=>{const y=p*u,_=y*t,T=y-n,w=Xg(p,u),C=Math.exp(-_);return rg-T/w*C},l=p=>{const _=p*u*t,T=_*n+n,w=Math.pow(u,2)*Math.pow(p,2)*t,C=Math.exp(-_),P=Xg(Math.pow(p,2),u);return(-a(p)+rg>0?-1:1)*((T-w)*C)/P}):(a=p=>{const y=Math.exp(-p*t),_=(p-n)*t+1;return-rg+y*_},l=p=>{const y=Math.exp(-p*t),_=(n-p)*(t*t);return y*_});const h=5/t,f=EO(a,l,h);if(t=Ji(t),isNaN(f))return{stiffness:yt.stiffness,damping:yt.damping,duration:t};{const p=Math.pow(f,2)*s;return{stiffness:p,damping:u*2*Math.sqrt(s*p),duration:t}}}const TO=12;function EO(t,e,n){let s=n;for(let a=1;a<TO;a++)s=s-t(s)/e(s);return s}function Xg(t,e){return t*Math.sqrt(1-e*e)}const wO=["duration","bounce"],SO=["stiffness","damping","mass"];function CT(t,e){return e.some(n=>t[n]!==void 0)}function AO(t){let e={velocity:yt.velocity,stiffness:yt.stiffness,damping:yt.damping,mass:yt.mass,isResolvedFromDuration:!1,...t};if(!CT(t,SO)&&CT(t,wO))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Vs(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:yt.mass,stiffness:a,damping:l}}else{const n=xO(t);e={...e,...n,mass:yt.mass},e.isResolvedFromDuration=!0}return e}function sd(t=yt.visualDuration,e=yt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:f,damping:p,mass:y,duration:_,velocity:T,isResolvedFromDuration:w}=AO({...n,velocity:-Zn(n.velocity||0)}),C=T||0,P=p/(2*Math.sqrt(f*y)),D=u-l,O=Zn(Math.sqrt(f/y)),B=Math.abs(D)<5;s||(s=B?yt.restSpeed.granular:yt.restSpeed.default),a||(a=B?yt.restDelta.granular:yt.restDelta.default);let z;if(P<1){const Z=Xg(O,P);z=te=>{const I=Math.exp(-P*O*te);return u-I*((C+P*O*D)/Z*Math.sin(Z*te)+D*Math.cos(Z*te))}}else if(P===1)z=Z=>u-Math.exp(-O*Z)*(D+(C+O*D)*Z);else{const Z=O*Math.sqrt(P*P-1);z=te=>{const I=Math.exp(-P*O*te),A=Math.min(Z*te,300);return u-I*((C+P*O*D)*Math.sinh(A)+Z*D*Math.cosh(A))/Z}}const J={calculatedDuration:w&&_||null,next:Z=>{const te=z(Z);if(w)h.done=Z>=_;else{let I=Z===0?C:0;P<1&&(I=Z===0?Ji(C):oA(z,Z,te));const A=Math.abs(I)<=s,V=Math.abs(u-te)<=a;h.done=A&&V}return h.value=h.done?u:te,h},toString:()=>{const Z=Math.min(Ry(J),id),te=aA(I=>J.next(Z*I).value,Z,30);return Z+"ms "+te},toTransition:()=>{}};return J}sd.applyToOptions=t=>{const e=_O(t,100,sd);return t.ease=e.ease,t.duration=Ji(e.duration),t.type="keyframes",t};function Wg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:h,max:f,restDelta:p=.5,restSpeed:y}){const _=t[0],T={done:!1,value:_},w=A=>h!==void 0&&A<h||f!==void 0&&A>f,C=A=>h===void 0?f:f===void 0||Math.abs(h-A)<Math.abs(f-A)?h:f;let P=n*e;const D=_+P,O=u===void 0?D:u(D);O!==D&&(P=O-_);const B=A=>-P*Math.exp(-A/s),z=A=>O+B(A),J=A=>{const V=B(A),R=z(A);T.done=Math.abs(V)<=p,T.value=T.done?O:R};let Z,te;const I=A=>{w(T.value)&&(Z=A,te=sd({keyframes:[T.value,C(T.value)],velocity:oA(z,A,T.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return I(0),{calculatedDuration:null,next:A=>{let V=!1;return!te&&Z===void 0&&(V=!0,J(A),I(A)),Z!==void 0&&A>=Z?te.next(A-Z):(!V&&J(A),T)}}}function CO(t,e,n){const s=[],a=n||Ps.mix||rA,l=t.length-1;for(let u=0;u<l;u++){let h=a(t[u],t[u+1]);if(e){const f=Array.isArray(e)?e[u]||ei:e;h=Sc(f,h)}s.push(h)}return s}function RO(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(vy(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=CO(e,s,a),f=h.length,p=y=>{if(u&&y<t[0])return e[0];let _=0;if(f>1)for(;_<t.length-2&&!(y<t[_+1]);_++);const T=nc(t[_],t[_+1],y);return h[_](T)};return n?y=>p(Vs(t[0],t[l-1],y)):p}function NO(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=nc(0,e,s);t.push(dt(n,1,a))}}function IO(t){const e=[0];return NO(e,t.length-1),e}function MO(t,e){return t.map(n=>n*e)}function DO(t,e){return t.map(()=>e||QS).splice(0,t.length-1)}function Fu({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=qP(s)?s.map(TT):TT(s),l={done:!1,value:e[0]},u=MO(n&&n.length===e.length?n:IO(e),t),h=RO(u,e,{ease:Array.isArray(a)?a:DO(e,a)});return{calculatedDuration:t,next:f=>(l.value=h(f),l.done=f>=t,l)}}const kO=t=>t!==null;function Ny(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(kO),h=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!h||s===void 0?l[h]:s}const VO={decay:Wg,inertia:Wg,tween:Fu,keyframes:Fu,spring:sd};function lA(t){typeof t.type=="string"&&(t.type=VO[t.type])}class Iy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const PO=t=>t/100;class My extends Iy{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==wn.now()&&this.tick(wn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;lA(e);const{type:n=Fu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:h}=e;const f=n||Fu;f!==Fu&&typeof h[0]!="number"&&(this.mixKeyframes=Sc(PO,rA(h[0],h[1])),h=[0,100]);const p=f({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...h].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=Ry(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:f}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:y,repeat:_,repeatType:T,repeatDelay:w,type:C,onUpdate:P,finalKeyframe:D}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const O=this.currentTime-p*(this.playbackSpeed>=0?1:-1),B=this.playbackSpeed>=0?O<0:O>a;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let z=this.currentTime,J=s;if(_){const A=Math.min(this.currentTime,a)/h;let V=Math.floor(A),R=A%1;!R&&A>=1&&(R=1),R===1&&V--,V=Math.min(V,_+1),!!(V%2)&&(T==="reverse"?(R=1-R,w&&(R-=w/h)):T==="mirror"&&(J=u)),z=Vs(0,1,R)*h}const Z=B?{done:!1,value:y[0]}:J.next(z);l&&(Z.value=l(Z.value));let{done:te}=Z;!B&&f!==null&&(te=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&te);return I&&C!==Wg&&(Z.value=Ny(y,this.options,D,this.speed)),P&&P(Z.value),I&&this.finish(),Z}then(e,n){return this.finished.then(e,n)}get duration(){return Zn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Zn(e)}get time(){return Zn(this.currentTime)}set time(e){e=Ji(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(wn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Zn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=vO,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(wn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function OO(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const wa=t=>t*180/Math.PI,Jg=t=>{const e=wa(Math.atan2(t[1],t[0]));return Zg(e)},jO={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Jg,rotateZ:Jg,skewX:t=>wa(Math.atan(t[1])),skewY:t=>wa(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Zg=t=>(t=t%360,t<0&&(t+=360),t),RT=Jg,NT=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),IT=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),LO={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:NT,scaleY:IT,scale:t=>(NT(t)+IT(t))/2,rotateX:t=>Zg(wa(Math.atan2(t[6],t[5]))),rotateY:t=>Zg(wa(Math.atan2(-t[2],t[0]))),rotateZ:RT,rotate:RT,skewX:t=>wa(Math.atan(t[4])),skewY:t=>wa(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function e0(t){return t.includes("scale")?1:0}function t0(t,e){if(!t||t==="none")return e0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=LO,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=jO,a=h}if(!a)return e0(e);const l=s[e],u=a[1].split(",").map(zO);return typeof l=="function"?l(u):u[l]}const UO=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return t0(n,e)};function zO(t){return parseFloat(t.trim())}const pl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],gl=new Set(pl),MT=t=>t===ml||t===we,BO=new Set(["x","y","z"]),FO=pl.filter(t=>!BO.has(t));function qO(t){const e=[];return FO.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Sa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>t0(e,"x"),y:(t,{transform:e})=>t0(e,"y")};Sa.translateX=Sa.x;Sa.translateY=Sa.y;const Aa=new Set;let n0=!1,i0=!1,s0=!1;function uA(){if(i0){const t=Array.from(Aa).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=qO(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}i0=!1,n0=!1,Aa.forEach(t=>t.complete(s0)),Aa.clear()}function cA(){Aa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(i0=!0)})}function HO(){s0=!0,cA(),uA(),s0=!1}class Dy{constructor(e,n,s,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Aa.add(this),n0||(n0=!0,ht.read(cA),ht.resolveKeyframes(uA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const h=s.readValue(n,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}OO(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Aa.delete(this)}cancel(){this.state==="scheduled"&&(Aa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const GO=t=>t.startsWith("--");function KO(t,e,n){GO(e)?t.style.setProperty(e,n):t.style[e]=n}const $O=_y(()=>window.ScrollTimeline!==void 0),YO={};function QO(t,e){const n=_y(t);return()=>YO[e]??n()}const hA=QO(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Du=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,DT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Du([0,.65,.55,1]),circOut:Du([.55,0,1,.45]),backIn:Du([.31,.01,.66,-.59]),backOut:Du([.33,1.53,.69,.99])};function fA(t,e){if(t)return typeof t=="function"?hA()?aA(t,e):"ease-out":XS(t)?Du(t):Array.isArray(t)?t.map(n=>fA(n,e)||DT.easeOut):DT[t]}function XO(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:h="easeOut",times:f}={},p=void 0){const y={[e]:n};f&&(y.offset=f);const _=fA(h,a);Array.isArray(_)&&(y.easing=_);const T={delay:s,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(T.pseudoElement=p),t.animate(y,T)}function dA(t){return typeof t=="function"&&"applyToOptions"in t}function WO({type:t,...e}){return dA(t)&&hA()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class JO extends Iy{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:h,onComplete:f}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,vy(typeof e.type!="string");const p=WO(e);this.animation=XO(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=Ny(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):KO(n,s,y),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Zn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Zn(e)}get time(){return Zn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ji(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&$O()?(this.animation.timeline=e,ei):n(this)}}const mA={anticipate:KS,backInOut:GS,circInOut:YS};function ZO(t){return t in mA}function ej(t){typeof t.ease=="string"&&ZO(t.ease)&&(t.ease=mA[t.ease])}const kT=10;class tj extends JO{constructor(e){ej(e),lA(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new My({...u,autoplay:!1}),f=Ji(this.finishedTime??this.time);n.setWithVelocity(h.sample(f-kT).value,h.sample(f).value,kT),h.stop()}}const VT=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(jr.test(t)||t==="0")&&!t.startsWith("url("));function nj(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function ij(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=VT(a,e),h=VT(l,e);return!u||!h?!1:nj(t)||(n==="spring"||dA(n))&&s}function r0(t){t.duration=0,t.type="keyframes"}const sj=new Set(["opacity","clipPath","filter","transform"]),rj=_y(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function aj(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=e.owner.getProps();return rj()&&n&&sj.has(n)&&(n!=="transform"||!p)&&!f&&!s&&a!=="mirror"&&l!==0&&u!=="inertia"}const oj=40;class lj extends Iy{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:h,name:f,motionValue:p,element:y,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=wn.now();const T={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:u,name:f,motionValue:p,element:y,..._},w=y?.KeyframeResolver||Dy;this.keyframeResolver=new w(h,(C,P,D)=>this.onKeyframesResolved(C,P,T,!D),f,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:h,delay:f,isHandoff:p,onUpdate:y}=s;this.resolvedAt=wn.now(),ij(e,l,u,h)||((Ps.instantAnimations||!f)&&y?.(Ny(e,s,n)),e[0]=e[e.length-1],r0(s),s.repeat=0);const T={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>oj?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},w=!p&&aj(T)?new tj({...T,element:T.motionValue.owner.current}):new My(T);w.finished.then(()=>this.notifyFinished()).catch(ei),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),HO()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const uj=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function cj(t){const e=uj.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function pA(t,e,n=1){const[s,a]=cj(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return jS(u)?parseFloat(u):u}return wy(a)?pA(a,e,n+1):a}function ky(t,e){return t?.[e]??t?.default??t}const gA=new Set(["width","height","top","left","right","bottom",...pl]),hj={test:t=>t==="auto",parse:t=>t},yA=t=>e=>e.test(t),vA=[ml,we,Zi,vr,nO,tO,hj],PT=t=>vA.find(yA(t));function fj(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||US(t):!0}const dj=new Set(["brightness","contrast","saturate","opacity"]);function mj(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Sy)||[];if(!s)return t;const a=n.replace(s,"");let l=dj.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const pj=/\b([a-z-]*)\(.*?\)/gu,a0={...jr,getAnimatableNone:t=>{const e=t.match(pj);return e?e.map(mj).join(" "):t}},OT={...ml,transform:Math.round},gj={rotate:vr,rotateX:vr,rotateY:vr,rotateZ:vr,scale:mf,scaleX:mf,scaleY:mf,scaleZ:mf,skew:vr,skewX:vr,skewY:vr,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:ic,originX:ET,originY:ET,originZ:we},Vy={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,backgroundPositionX:we,backgroundPositionY:we,...gj,zIndex:OT,fillOpacity:ic,strokeOpacity:ic,numOctaves:OT},yj={...Vy,color:Vt,backgroundColor:Vt,outlineColor:Vt,fill:Vt,stroke:Vt,borderColor:Vt,borderTopColor:Vt,borderRightColor:Vt,borderBottomColor:Vt,borderLeftColor:Vt,filter:a0,WebkitFilter:a0},_A=t=>yj[t];function bA(t,e){let n=_A(t);return n!==a0&&(n=jr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const vj=new Set(["auto","none","0"]);function _j(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!vj.has(l)&&sc(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=bA(n,a)}class bj extends Dy{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),wy(p))){const y=pA(p,n.current);y!==void 0&&(e[f]=y),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!gA.has(s)||e.length!==2)return;const[a,l]=e,u=PT(a),h=PT(l);if(u!==h)if(MT(u)&&MT(h))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else Sa[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||fj(e[a]))&&s.push(a);s.length&&_j(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Sa[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=Sa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,f])=>{e.getValue(h).set(f)}),this.resolveNoneKeyframes()}}function xj(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const xA=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function TA(t){return LS(t)&&"offsetHeight"in t}const jT=30,Tj=t=>!isNaN(parseFloat(t));class Ej{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=wn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=wn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Tj(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new by);const s=this.events[e].add(n);return e==="change"?()=>{s(),ht.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=wn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>jT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,jT);return zS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function el(t,e){return new Ej(t,e)}const{schedule:Py}=WS(queueMicrotask,!1),yi={x:!1,y:!1};function EA(){return yi.x||yi.y}function wj(t){return t==="x"||t==="y"?yi[t]?null:(yi[t]=!0,()=>{yi[t]=!1}):yi.x||yi.y?null:(yi.x=yi.y=!0,()=>{yi.x=yi.y=!1})}function wA(t,e){const n=xj(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function LT(t){return!(t.pointerType==="touch"||EA())}function Sj(t,e,n={}){const[s,a,l]=wA(t,n),u=h=>{if(!LT(h))return;const{target:f}=h,p=e(f,h);if(typeof p!="function"||!f)return;const y=_=>{LT(_)&&(p(_),f.removeEventListener("pointerleave",y))};f.addEventListener("pointerleave",y,a)};return s.forEach(h=>{h.addEventListener("pointerenter",u,a)}),l}const SA=(t,e)=>e?t===e?!0:SA(t,e.parentElement):!1,Oy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Aj=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Cj(t){return Aj.has(t.tagName)||t.tabIndex!==-1}const Df=new WeakSet;function UT(t){return e=>{e.key==="Enter"&&t(e)}}function ag(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Rj=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=UT(()=>{if(Df.has(n))return;ag(n,"down");const a=UT(()=>{ag(n,"up")}),l=()=>ag(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function zT(t){return Oy(t)&&!EA()}function Nj(t,e,n={}){const[s,a,l]=wA(t,n),u=h=>{const f=h.currentTarget;if(!zT(h))return;Df.add(f);const p=e(f,h),y=(w,C)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",T),Df.has(f)&&Df.delete(f),zT(w)&&typeof p=="function"&&p(w,{success:C})},_=w=>{y(w,f===window||f===document||n.useGlobalTarget||SA(f,w.target))},T=w=>{y(w,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",T,a)};return s.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",u,a),TA(h)&&(h.addEventListener("focus",p=>Rj(p,a)),!Cj(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function AA(t){return LS(t)&&"ownerSVGElement"in t}function Ij(t){return AA(t)&&t.tagName==="svg"}const cn=t=>!!(t&&t.getVelocity),Mj=[...vA,Vt,jr],Dj=t=>Mj.find(yA(t)),jy=j.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function BT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function kj(...t){return e=>{let n=!1;const s=t.map(a=>{const l=BT(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():BT(t[a],null)}}}}function Vj(...t){return j.useCallback(kj(...t),t)}class Pj extends j.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=TA(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Oj({children:t,isPresent:e,anchorX:n,root:s}){const a=j.useId(),l=j.useRef(null),u=j.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=j.useContext(jy),f=Vj(l,t?.ref);return j.useInsertionEffect(()=>{const{width:p,height:y,top:_,left:T,right:w}=u.current;if(e||!l.current||!p||!y)return;const C=n==="left"?`left: ${T}`:`right: ${w}`;l.current.dataset.motionPopId=a;const P=document.createElement("style");h&&(P.nonce=h);const D=s??document.head;return D.appendChild(P),P.sheet&&P.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${y}px !important;
            ${C}px !important;
            top: ${_}px !important;
          }
        `),()=>{D.contains(P)&&D.removeChild(P)}},[e]),v.jsx(Pj,{isPresent:e,childRef:l,sizeRef:u,children:j.cloneElement(t,{ref:f})})}const jj=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:u,anchorX:h,root:f})=>{const p=my(Lj),y=j.useId();let _=!0,T=j.useMemo(()=>(_=!1,{id:y,initial:e,isPresent:n,custom:a,onExitComplete:w=>{p.set(w,!0);for(const C of p.values())if(!C)return;s&&s()},register:w=>(p.set(w,!1),()=>p.delete(w))}),[n,p,s]);return l&&_&&(T={...T}),j.useMemo(()=>{p.forEach((w,C)=>p.set(C,!1))},[n]),j.useEffect(()=>{!n&&!p.size&&s&&s()},[n]),u==="popLayout"&&(t=v.jsx(Oj,{isPresent:n,anchorX:h,root:f,children:t})),v.jsx(Nd.Provider,{value:T,children:t})};function Lj(){return new Map}function CA(t=!0){const e=j.useContext(Nd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=j.useId();j.useEffect(()=>{if(t)return a(l)},[t]);const u=j.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const pf=t=>t.key||"";function FT(t){const e=[];return j.Children.forEach(t,n=>{j.isValidElement(n)&&e.push(n)}),e}const Uj=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:h="left",root:f})=>{const[p,y]=CA(u),_=j.useMemo(()=>FT(t),[t]),T=u&&!p?[]:_.map(pf),w=j.useRef(!0),C=j.useRef(_),P=my(()=>new Map),[D,O]=j.useState(_),[B,z]=j.useState(_);OS(()=>{w.current=!1,C.current=_;for(let te=0;te<B.length;te++){const I=pf(B[te]);T.includes(I)?P.delete(I):P.get(I)!==!0&&P.set(I,!1)}},[B,T.length,T.join("-")]);const J=[];if(_!==D){let te=[..._];for(let I=0;I<B.length;I++){const A=B[I],V=pf(A);T.includes(V)||(te.splice(I,0,A),J.push(A))}return l==="wait"&&J.length&&(te=J),z(FT(te)),O(_),null}const{forceRender:Z}=j.useContext(dy);return v.jsx(v.Fragment,{children:B.map(te=>{const I=pf(te),A=u&&!p?!1:_===B||T.includes(I),V=()=>{if(P.has(I))P.set(I,!0);else return;let R=!0;P.forEach(M=>{M||(R=!1)}),R&&(Z?.(),z(C.current),u&&y?.(),s&&s())};return v.jsx(jj,{isPresent:A,initial:!w.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:f,onExitComplete:A?void 0:V,anchorX:h,children:te},I)})})},RA=j.createContext({strict:!1}),qT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},tl={};for(const t in qT)tl[t]={isEnabled:e=>qT[t].some(n=>!!e[n])};function zj(t){for(const e in t)tl[e]={...tl[e],...t[e]}}const Bj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function rd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Bj.has(t)}let NA=t=>!rd(t);function Fj(t){typeof t=="function"&&(NA=e=>e.startsWith("on")?!rd(e):t(e))}try{Fj(require("@emotion/is-prop-valid").default)}catch{}function qj(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(NA(a)||n===!0&&rd(a)||!e&&!rd(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const Id=j.createContext({});function Md(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function rc(t){return typeof t=="string"||Array.isArray(t)}const Ly=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Uy=["initial",...Ly];function Dd(t){return Md(t.animate)||Uy.some(e=>rc(t[e]))}function IA(t){return!!(Dd(t)||t.variants)}function Hj(t,e){if(Dd(t)){const{initial:n,animate:s}=t;return{initial:n===!1||rc(n)?n:void 0,animate:rc(s)?s:void 0}}return t.inherit!==!1?e:{}}function Gj(t){const{initial:e,animate:n}=Hj(t,j.useContext(Id));return j.useMemo(()=>({initial:e,animate:n}),[HT(e),HT(n)])}function HT(t){return Array.isArray(t)?t.join(" "):t}const ac={};function Kj(t){for(const e in t)ac[e]=t[e],Ey(e)&&(ac[e].isCSSVariable=!0)}function MA(t,{layout:e,layoutId:n}){return gl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ac[t]||t==="opacity")}const $j={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Yj=pl.length;function Qj(t,e,n){let s="",a=!0;for(let l=0;l<Yj;l++){const u=pl[l],h=t[u];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(u.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||n){const p=xA(h,Vy[u]);if(!f){a=!1;const y=$j[u]||u;s+=`${y}(${p}) `}n&&(e[u]=p)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function zy(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let u=!1,h=!1;for(const f in e){const p=e[f];if(gl.has(f)){u=!0;continue}else if(Ey(f)){a[f]=p;continue}else{const y=xA(p,Vy[f]);f.startsWith("origin")?(h=!0,l[f]=y):s[f]=y}}if(e.transform||(u||n?s.transform=Qj(e,t.transform,n):s.transform&&(s.transform="none")),h){const{originX:f="50%",originY:p="50%",originZ:y=0}=l;s.transformOrigin=`${f} ${p} ${y}`}}const By=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function DA(t,e,n){for(const s in e)!cn(e[s])&&!MA(s,n)&&(t[s]=e[s])}function Xj({transformTemplate:t},e){return j.useMemo(()=>{const n=By();return zy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Wj(t,e){const n=t.style||{},s={};return DA(s,n,t),Object.assign(s,Xj(t,e)),s}function Jj(t,e){const n={},s=Wj(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const Zj={offset:"stroke-dashoffset",array:"stroke-dasharray"},eL={offset:"strokeDashoffset",array:"strokeDasharray"};function tL(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?Zj:eL;t[l.offset]=we.transform(-s);const u=we.transform(e),h=we.transform(n);t[l.array]=`${u} ${h}`}function kA(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...h},f,p,y){if(zy(t,h,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:T}=t;_.transform&&(T.transform=_.transform,delete _.transform),(T.transform||_.transformOrigin)&&(T.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),T.transform&&(T.transformBox=y?.transformBox??"fill-box",delete _.transformBox),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),s!==void 0&&(_.scale=s),a!==void 0&&tL(_,a,l,u,!1)}const VA=()=>({...By(),attrs:{}}),PA=t=>typeof t=="string"&&t.toLowerCase()==="svg";function nL(t,e,n,s){const a=j.useMemo(()=>{const l=VA();return kA(l,e,PA(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};DA(l,t.style,t),a.style={...l,...a.style}}return a}const iL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Fy(t){return typeof t!="string"||t.includes("-")?!1:!!(iL.indexOf(t)>-1||/[A-Z]/u.test(t))}function sL(t,e,n,{latestValues:s},a,l=!1){const h=(Fy(t)?nL:Jj)(e,s,a,t),f=qj(e,typeof t=="string",l),p=t!==j.Fragment?{...f,...h,ref:n}:{},{children:y}=e,_=j.useMemo(()=>cn(y)?y.get():y,[y]);return j.createElement(t,{...p,children:_})}function GT(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function qy(t,e,n,s){if(typeof e=="function"){const[a,l]=GT(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=GT(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function kf(t){return cn(t)?t.get():t}function rL({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:aL(n,s,a,t),renderState:e()}}function aL(t,e,n,s){const a={},l=s(t,{});for(const T in l)a[T]=kf(l[T]);let{initial:u,animate:h}=t;const f=Dd(t),p=IA(t);e&&p&&!f&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let y=n?n.initial===!1:!1;y=y||u===!1;const _=y?h:u;if(_&&typeof _!="boolean"&&!Md(_)){const T=Array.isArray(_)?_:[_];for(let w=0;w<T.length;w++){const C=qy(t,T[w]);if(C){const{transitionEnd:P,transition:D,...O}=C;for(const B in O){let z=O[B];if(Array.isArray(z)){const J=y?z.length-1:0;z=z[J]}z!==null&&(a[B]=z)}for(const B in P)a[B]=P[B]}}}return a}const OA=t=>(e,n)=>{const s=j.useContext(Id),a=j.useContext(Nd),l=()=>rL(t,e,s,a);return n?l():my(l)};function Hy(t,e,n){const{style:s}=t,a={};for(const l in s)(cn(s[l])||e.style&&cn(e.style[l])||MA(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const oL=OA({scrapeMotionValuesFromProps:Hy,createRenderState:By});function jA(t,e,n){const s=Hy(t,e,n);for(const a in t)if(cn(t[a])||cn(e[a])){const l=pl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const lL=OA({scrapeMotionValuesFromProps:jA,createRenderState:VA}),uL=Symbol.for("motionComponentSymbol");function Vo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function cL(t,e,n){return j.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Vo(n)&&(n.current=s))},[e])}const Gy=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),hL="framerAppearId",LA="data-"+Gy(hL),UA=j.createContext({});function fL(t,e,n,s,a){const{visualElement:l}=j.useContext(Id),u=j.useContext(RA),h=j.useContext(Nd),f=j.useContext(jy).reducedMotion,p=j.useRef(null);s=s||u.renderer,!p.current&&s&&(p.current=s(t,{visualState:e,parent:l,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:f}));const y=p.current,_=j.useContext(UA);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&dL(p.current,n,a,_);const T=j.useRef(!1);j.useInsertionEffect(()=>{y&&T.current&&y.update(n,h)});const w=n[LA],C=j.useRef(!!w&&!window.MotionHandoffIsComplete?.(w)&&window.MotionHasOptimisedAnimation?.(w));return OS(()=>{y&&(T.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),C.current&&y.animationState&&y.animationState.animateChanges())}),j.useEffect(()=>{y&&(!C.current&&y.animationState&&y.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(w)}),C.current=!1),y.enteringChildren=void 0)}),y}function dL(t,e,n,s){const{layoutId:a,layout:l,drag:u,dragConstraints:h,layoutScroll:f,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:zA(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||h&&Vo(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:f,layoutRoot:p})}function zA(t){if(t)return t.options.allowProjection!==!1?t.projection:zA(t.parent)}function og(t,{forwardMotionProps:e=!1}={},n,s){n&&zj(n);const a=Fy(t)?lL:oL;function l(h,f){let p;const y={...j.useContext(jy),...h,layoutId:mL(h)},{isStatic:_}=y,T=Gj(h),w=a(h,_);if(!_&&py){pL();const C=gL(y);p=C.MeasureLayout,T.visualElement=fL(t,w,y,s,C.ProjectionNode)}return v.jsxs(Id.Provider,{value:T,children:[p&&T.visualElement?v.jsx(p,{visualElement:T.visualElement,...y}):null,sL(t,h,cL(w,T.visualElement,f),w,_,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=j.forwardRef(l);return u[uL]=t,u}function mL({layoutId:t}){const e=j.useContext(dy).id;return e&&t!==void 0?e+"-"+t:t}function pL(t,e){j.useContext(RA).strict}function gL(t){const{drag:e,layout:n}=tl;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function yL(t,e){if(typeof Proxy>"u")return og;const n=new Map,s=(l,u)=>og(l,u,t,e),a=(l,u)=>s(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?s:(n.has(u)||n.set(u,og(u,void 0,t,e)),n.get(u))})}function BA({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function vL({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function _L(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function lg(t){return t===void 0||t===1}function o0({scale:t,scaleX:e,scaleY:n}){return!lg(t)||!lg(e)||!lg(n)}function ba(t){return o0(t)||FA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function FA(t){return KT(t.x)||KT(t.y)}function KT(t){return t&&t!=="0%"}function ad(t,e,n){const s=t-n,a=e*s;return n+a}function $T(t,e,n,s,a){return a!==void 0&&(t=ad(t,a,s)),ad(t,n,s)+e}function l0(t,e=0,n=1,s,a){t.min=$T(t.min,e,n,s,a),t.max=$T(t.max,e,n,s,a)}function qA(t,{x:e,y:n}){l0(t.x,e.translate,e.scale,e.originPoint),l0(t.y,n.translate,n.scale,n.originPoint)}const YT=.999999999999,QT=1.0000000000001;function bL(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let h=0;h<a;h++){l=n[h],u=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Oo(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,qA(t,u)),s&&ba(l.latestValues)&&Oo(t,l.latestValues))}e.x<QT&&e.x>YT&&(e.x=1),e.y<QT&&e.y>YT&&(e.y=1)}function Po(t,e){t.min=t.min+e,t.max=t.max+e}function XT(t,e,n,s,a=.5){const l=dt(t.min,t.max,a);l0(t,e,n,l,s)}function Oo(t,e){XT(t.x,e.x,e.scaleX,e.scale,e.originX),XT(t.y,e.y,e.scaleY,e.scale,e.originY)}function HA(t,e){return BA(_L(t.getBoundingClientRect(),e))}function xL(t,e,n){const s=HA(t,n),{scroll:a}=e;return a&&(Po(s.x,a.offset.x),Po(s.y,a.offset.y)),s}const WT=()=>({translate:0,scale:1,origin:0,originPoint:0}),jo=()=>({x:WT(),y:WT()}),JT=()=>({min:0,max:0}),Tt=()=>({x:JT(),y:JT()}),u0={current:null},GA={current:!1};function TL(){if(GA.current=!0,!!py)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>u0.current=t.matches;t.addEventListener("change",e),e()}else u0.current=!1}const EL=new WeakMap;function wL(t,e,n){for(const s in e){const a=e[s],l=n[s];if(cn(a))t.addValue(s,a);else if(cn(l))t.addValue(s,el(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(s);t.addValue(s,el(u!==void 0?u:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const ZT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class SL{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Dy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=wn.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,ht.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=Dd(n),this.isVariantNode=IA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in _){const w=_[T];f[T]!==void 0&&cn(w)&&w.set(f[T])}}mount(e){this.current=e,EL.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),GA.current||TL(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:u0.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Or(this.notifyUpdate),Or(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=gl.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&ht.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in tl){const n=tl[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Tt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<ZT.length;s++){const a=ZT[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=wL(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=el(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(jS(s)||US(s))?s=parseFloat(s):!Dj(s)&&jr.test(n)&&(s=bA(e,n)),this.setBaseTarget(e,cn(s)?s.get():s)),cn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=qy(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!cn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new by),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Py.render(this.render)}}class KA extends SL{constructor(){super(...arguments),this.KeyframeResolver=bj}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;cn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function $A(t,{style:e,vars:n},s,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,s);for(u in n)l.setProperty(u,n[u])}function AL(t){return window.getComputedStyle(t)}class CL extends KA{constructor(){super(...arguments),this.type="html",this.renderInstance=$A}readValueFromInstance(e,n){if(gl.has(n))return this.projection?.isProjecting?e0(n):UO(e,n);{const s=AL(e),a=(Ey(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return HA(e,n)}build(e,n,s){zy(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Hy(e,n,s)}}const YA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function RL(t,e,n,s){$A(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(YA.has(a)?a:Gy(a),e.attrs[a])}class NL extends KA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Tt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(gl.has(n)){const s=_A(n);return s&&s.default||0}return n=YA.has(n)?n:Gy(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return jA(e,n,s)}build(e,n,s){kA(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){RL(e,n,s,a)}mount(e){this.isSVGTag=PA(e.tagName),super.mount(e)}}const IL=(t,e)=>Fy(t)?new NL(e):new CL(e,{allowProjection:t!==j.Fragment});function Ho(t,e,n){const s=t.getProps();return qy(s,e,n!==void 0?n:s.custom,t)}const c0=t=>Array.isArray(t);function ML(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,el(n))}function DL(t){return c0(t)?t[t.length-1]||0:t}function kL(t,e){const n=Ho(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const u in l){const h=DL(l[u]);ML(t,u,h)}}function VL(t){return!!(cn(t)&&t.add)}function h0(t,e){const n=t.getValue("willChange");if(VL(n))return n.add(e);if(!n&&Ps.WillChange){const s=new Ps.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function QA(t){return t.props[LA]}const PL=t=>t!==null;function OL(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(PL),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const jL={type:"spring",stiffness:500,damping:25,restSpeed:10},LL=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),UL={type:"keyframes",duration:.8},zL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},BL=(t,{keyframes:e})=>e.length>2?UL:gl.has(t)?t.startsWith("scale")?LL(e[1]):jL:zL;function FL({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:h,from:f,elapsed:p,...y}){return!!Object.keys(y).length}const Ky=(t,e,n,s={},a,l)=>u=>{const h=ky(s,t)||{},f=h.delay||s.delay||0;let{elapsed:p=0}=s;p=p-Ji(f);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:T=>{e.set(T),h.onUpdate&&h.onUpdate(T)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};FL(h)||Object.assign(y,BL(t,y)),y.duration&&(y.duration=Ji(y.duration)),y.repeatDelay&&(y.repeatDelay=Ji(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(r0(y),y.delay===0&&(_=!0)),(Ps.instantAnimations||Ps.skipAnimations)&&(_=!0,r0(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,_&&!l&&e.get()!==void 0){const T=OL(y.keyframes,h);if(T!==void 0){ht.update(()=>{y.onUpdate(T),y.onComplete()});return}}return h.isSync?new My(y):new lj(y)};function qL({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function XA(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...h}=e;s&&(l=s);const f=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const y in h){const _=t.getValue(y,t.latestValues[y]??null),T=h[y];if(T===void 0||p&&qL(p,y))continue;const w={delay:n,...ky(l||{},y)},C=_.get();if(C!==void 0&&!_.isAnimating&&!Array.isArray(T)&&T===C&&!w.velocity)continue;let P=!1;if(window.MotionHandoffAnimation){const O=QA(t);if(O){const B=window.MotionHandoffAnimation(O,y,ht);B!==null&&(w.startTime=B,P=!0)}}h0(t,y),_.start(Ky(y,_,T,t.shouldReduceMotion&&gA.has(y)?{type:!1}:w,t,P));const D=_.animation;D&&f.push(D)}return u&&Promise.all(f).then(()=>{ht.update(()=>{u&&kL(t,u)})}),f}function WA(t,e,n,s=0,a=1){const l=Array.from(t).sort((p,y)=>p.sortNodePosition(y)).indexOf(e),u=t.size,h=(u-1)*s;return typeof n=="function"?n(l,u):a===1?l*s:h-l*s}function f0(t,e,n={}){const s=Ho(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(XA(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:_}=a;return HL(t,e,f,p,y,_,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[f,p]=h==="beforeChildren"?[l,u]:[u,l];return f().then(()=>p())}else return Promise.all([l(),u(n.delay)])}function HL(t,e,n=0,s=0,a=0,l=1,u){const h=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),h.push(f0(f,e,{...u,delay:n+(typeof s=="function"?0:s)+WA(t.variantChildren,f,s,a,l)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(h)}function GL(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>f0(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=f0(t,e,n);else{const a=typeof e=="function"?Ho(t,e,n.custom):e;s=Promise.all(XA(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function JA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const KL=Uy.length;function ZA(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?ZA(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<KL;n++){const s=Uy[n],a=t.props[s];(rc(a)||a===!1)&&(e[s]=a)}return e}const $L=[...Ly].reverse(),YL=Ly.length;function QL(t){return e=>Promise.all(e.map(({animation:n,options:s})=>GL(t,n,s)))}function XL(t){let e=QL(t),n=eE(),s=!0;const a=f=>(p,y)=>{const _=Ho(t,y,f==="exit"?t.presenceContext?.custom:void 0);if(_){const{transition:T,transitionEnd:w,...C}=_;p={...p,...C,...w}}return p};function l(f){e=f(t)}function u(f){const{props:p}=t,y=ZA(t.parent)||{},_=[],T=new Set;let w={},C=1/0;for(let D=0;D<YL;D++){const O=$L[D],B=n[O],z=p[O]!==void 0?p[O]:y[O],J=rc(z),Z=O===f?B.isActive:null;Z===!1&&(C=D);let te=z===y[O]&&z!==p[O]&&J;if(te&&s&&t.manuallyAnimateOnMount&&(te=!1),B.protectedKeys={...w},!B.isActive&&Z===null||!z&&!B.prevProp||Md(z)||typeof z=="boolean")continue;const I=WL(B.prevProp,z);let A=I||O===f&&B.isActive&&!te&&J||D>C&&J,V=!1;const R=Array.isArray(z)?z:[z];let M=R.reduce(a(O),{});Z===!1&&(M={});const{prevResolvedValues:L={}}=B,k={...L,...M},le=re=>{A=!0,T.has(re)&&(V=!0,T.delete(re)),B.needsAnimating[re]=!0;const ce=t.getValue(re);ce&&(ce.liveStyle=!1)};for(const re in k){const ce=M[re],be=L[re];if(w.hasOwnProperty(re))continue;let Ne=!1;c0(ce)&&c0(be)?Ne=!JA(ce,be):Ne=ce!==be,Ne?ce!=null?le(re):T.add(re):ce!==void 0&&T.has(re)?le(re):B.protectedKeys[re]=!0}B.prevProp=z,B.prevResolvedValues=M,B.isActive&&(w={...w,...M}),s&&t.blockInitialAnimation&&(A=!1);const Ee=te&&I;A&&(!Ee||V)&&_.push(...R.map(re=>{const ce={type:O};if(typeof re=="string"&&s&&!Ee&&t.manuallyAnimateOnMount&&t.parent){const{parent:be}=t,Ne=Ho(be,re);if(be.enteringChildren&&Ne){const{delayChildren:F}=Ne.transition||{};ce.delay=WA(be.enteringChildren,t,F)}}return{animation:re,options:ce}}))}if(T.size){const D={};if(typeof p.initial!="boolean"){const O=Ho(t,Array.isArray(p.initial)?p.initial[0]:p.initial);O&&O.transition&&(D.transition=O.transition)}T.forEach(O=>{const B=t.getBaseTarget(O),z=t.getValue(O);z&&(z.liveStyle=!0),D[O]=B??null}),_.push({animation:D})}let P=!!_.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(P=!1),s=!1,P?e(_):Promise.resolve()}function h(f,p){if(n[f].isActive===p)return Promise.resolve();t.variantChildren?.forEach(_=>_.animationState?.setActive(f,p)),n[f].isActive=p;const y=u(f);for(const _ in n)n[_].protectedKeys={};return y}return{animateChanges:u,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=eE()}}}function WL(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!JA(e,t):!1}function va(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function eE(){return{animate:va(!0),whileInView:va(),whileHover:va(),whileTap:va(),whileDrag:va(),whileFocus:va(),exit:va()}}class zr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class JL extends zr{constructor(e){super(e),e.animationState||(e.animationState=XL(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Md(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let ZL=0;class e9 extends zr{constructor(){super(...arguments),this.id=ZL++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const t9={animation:{Feature:JL},exit:{Feature:e9}};function oc(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Rc(t){return{point:{x:t.pageX,y:t.pageY}}}const n9=t=>e=>Oy(e)&&t(e,Rc(e));function qu(t,e,n,s){return oc(t,e,n9(n),s)}const eC=1e-4,i9=1-eC,s9=1+eC,tC=.01,r9=0-tC,a9=0+tC;function pn(t){return t.max-t.min}function o9(t,e,n){return Math.abs(t-e)<=n}function tE(t,e,n,s=.5){t.origin=s,t.originPoint=dt(e.min,e.max,t.origin),t.scale=pn(n)/pn(e),t.translate=dt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=i9&&t.scale<=s9||isNaN(t.scale))&&(t.scale=1),(t.translate>=r9&&t.translate<=a9||isNaN(t.translate))&&(t.translate=0)}function Hu(t,e,n,s){tE(t.x,e.x,n.x,s?s.originX:void 0),tE(t.y,e.y,n.y,s?s.originY:void 0)}function nE(t,e,n){t.min=n.min+e.min,t.max=t.min+pn(e)}function l9(t,e,n){nE(t.x,e.x,n.x),nE(t.y,e.y,n.y)}function iE(t,e,n){t.min=e.min-n.min,t.max=t.min+pn(e)}function Gu(t,e,n){iE(t.x,e.x,n.x),iE(t.y,e.y,n.y)}function Xn(t){return[t("x"),t("y")]}const nC=({current:t})=>t?t.ownerDocument.defaultView:null,sE=(t,e)=>Math.abs(t-e);function u9(t,e){const n=sE(t.x,e.x),s=sE(t.y,e.y);return Math.sqrt(n**2+s**2)}class iC{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=cg(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,C=u9(T.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!C)return;const{point:P}=T,{timestamp:D}=Zt;this.history.push({...P,timestamp:D});const{onStart:O,onMove:B}=this.handlers;w||(O&&O(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,T)},this.handlePointerMove=(T,w)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=ug(w,this.transformPagePoint),ht.update(this.updatePoint,!0)},this.handlePointerUp=(T,w)=>{this.end();const{onEnd:C,onSessionEnd:P,resumeAnimation:D}=this.handlers;if(this.dragSnapToOrigin&&D&&D(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const O=cg(T.type==="pointercancel"?this.lastMoveEventInfo:ug(w,this.transformPagePoint),this.history);this.startEvent&&C&&C(T,O),P&&P(T,O)},!Oy(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=a||window;const h=Rc(e),f=ug(h,this.transformPagePoint),{point:p}=f,{timestamp:y}=Zt;this.history=[{...p,timestamp:y}];const{onSessionStart:_}=n;_&&_(e,cg(f,this.history)),this.removeListeners=Sc(qu(this.contextWindow,"pointermove",this.handlePointerMove),qu(this.contextWindow,"pointerup",this.handlePointerUp),qu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Or(this.updatePoint)}}function ug(t,e){return e?{point:e(t.point)}:t}function rE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function cg({point:t},e){return{point:t,delta:rE(t,sC(e)),offset:rE(t,c9(e)),velocity:h9(e,.1)}}function c9(t){return t[0]}function sC(t){return t[t.length-1]}function h9(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=sC(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>Ji(e)));)n--;if(!s)return{x:0,y:0};const l=Zn(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function f9(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?dt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?dt(n,t,s.max):Math.min(t,n)),t}function aE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function d9(t,{top:e,left:n,bottom:s,right:a}){return{x:aE(t.x,n,a),y:aE(t.y,e,s)}}function oE(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function m9(t,e){return{x:oE(t.x,e.x),y:oE(t.y,e.y)}}function p9(t,e){let n=.5;const s=pn(t),a=pn(e);return a>s?n=nc(e.min,e.max-s,t.min):s>a&&(n=nc(t.min,t.max-a,e.min)),Vs(0,1,n)}function g9(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const d0=.35;function y9(t=d0){return t===!1?t=0:t===!0&&(t=d0),{x:lE(t,"left","right"),y:lE(t,"top","bottom")}}function lE(t,e,n){return{min:uE(t,e),max:uE(t,n)}}function uE(t,e){return typeof t=="number"?t:t[e]||0}const v9=new WeakMap;class _9{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Tt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=_=>{const{dragSnapToOrigin:T}=this.getProps();T?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Rc(_).point)},u=(_,T)=>{const{drag:w,dragPropagation:C,onDragStart:P}=this.getProps();if(w&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=wj(w),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=T,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xn(O=>{let B=this.getAxisMotionValue(O).get()||0;if(Zi.test(B)){const{projection:z}=this.visualElement;if(z&&z.layout){const J=z.layout.layoutBox[O];J&&(B=pn(J)*(parseFloat(B)/100))}}this.originPoint[O]=B}),P&&ht.postRender(()=>P(_,T)),h0(this.visualElement,"transform");const{animationState:D}=this.visualElement;D&&D.setActive("whileDrag",!0)},h=(_,T)=>{this.latestPointerEvent=_,this.latestPanInfo=T;const{dragPropagation:w,dragDirectionLock:C,onDirectionLock:P,onDrag:D}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:O}=T;if(C&&this.currentDirection===null){this.currentDirection=b9(O),this.currentDirection!==null&&P&&P(this.currentDirection);return}this.updateAxis("x",T.point,O),this.updateAxis("y",T.point,O),this.visualElement.render(),D&&D(_,T)},f=(_,T)=>{this.latestPointerEvent=_,this.latestPanInfo=T,this.stop(_,T),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Xn(_=>this.getAnimationState(_)==="paused"&&this.getAxisMotionValue(_).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new iC(e,{onSessionStart:l,onStart:u,onMove:h,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:nC(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&ht.postRender(()=>h(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!gf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=f9(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Vo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=d9(s.layoutBox,e):this.constraints=!1,this.elastic=y9(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Xn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=g9(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Vo(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=xL(s,a.root,this.visualElement.getTransformPagePoint());let u=m9(a.layout.layoutBox,l);if(n){const h=n(vL(u));this.hasMutatedConstraints=!!h,h&&(u=BA(h))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},p=Xn(y=>{if(!gf(y,n,this.currentDirection))return;let _=f&&f[y]||{};u&&(_={min:0,max:0});const T=a?200:1e6,w=a?40:1e7,C={type:"inertia",velocity:s?e[y]:0,bounceStiffness:T,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,C)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return h0(this.visualElement,e),s.start(Ky(e,s,0,n,this.visualElement,!1))}stopAnimation(){Xn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Xn(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Xn(n=>{const{drag:s}=this.getProps();if(!gf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:h}=a.layout.layoutBox[n];l.set(e[n]-dt(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Vo(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Xn(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const f=h.get();a[u]=p9({min:f,max:f},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Xn(u=>{if(!gf(u,e,null))return;const h=this.getAxisMotionValue(u),{min:f,max:p}=this.constraints[u];h.set(dt(f,p,a[u]))})}addListeners(){if(!this.visualElement.current)return;v9.set(this.visualElement,this);const e=this.visualElement.current,n=qu(e,"pointerdown",f=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(f)}),s=()=>{const{dragConstraints:f}=this.getProps();Vo(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ht.read(s);const u=oc(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(Xn(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=f[y].translate,_.set(_.get()+f[y].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=d0,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:h}}}function gf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function b9(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class x9 extends zr{constructor(e){super(e),this.removeGroupControls=ei,this.removeListeners=ei,this.controls=new _9(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ei}unmount(){this.removeGroupControls(),this.removeListeners()}}const cE=t=>(e,n)=>{t&&ht.postRender(()=>t(e,n))};class T9 extends zr{constructor(){super(...arguments),this.removePointerDownListener=ei}onPointerDown(e){this.session=new iC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:nC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:cE(e),onStart:cE(n),onMove:s,onEnd:(l,u)=>{delete this.session,a&&ht.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=qu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Vf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function hE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Su={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(we.test(t))t=parseFloat(t);else return t;const n=hE(t,e.target.x),s=hE(t,e.target.y);return`${n}% ${s}%`}},E9={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=jr.parse(t);if(a.length>5)return s;const l=jr.createTransformer(t),u=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,f=n.y.scale*e.y;a[0+u]/=h,a[1+u]/=f;const p=dt(h,f,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),l(a)}};let hg=!1;class w9 extends j.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;Kj(S9),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),hg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Vf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,hg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||ht.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Py.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;hg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function rC(t){const[e,n]=CA(),s=j.useContext(dy);return v.jsx(w9,{...t,layoutGroup:s,switchLayoutGroup:j.useContext(UA),isPresent:e,safeToRemove:n})}const S9={borderRadius:{...Su,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Su,borderTopRightRadius:Su,borderBottomLeftRadius:Su,borderBottomRightRadius:Su,boxShadow:E9};function A9(t,e,n){const s=cn(t)?t:el(t);return s.start(Ky("",s,e,n)),s.animation}const C9=(t,e)=>t.depth-e.depth;class R9{constructor(){this.children=[],this.isDirty=!1}add(e){gy(this.children,e),this.isDirty=!0}remove(e){yy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(C9),this.isDirty=!1,this.children.forEach(e)}}function N9(t,e){const n=wn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(Or(s),t(l-e))};return ht.setup(s,!0),()=>Or(s)}const aC=["TopLeft","TopRight","BottomLeft","BottomRight"],I9=aC.length,fE=t=>typeof t=="string"?parseFloat(t):t,dE=t=>typeof t=="number"||we.test(t);function M9(t,e,n,s,a,l){a?(t.opacity=dt(0,n.opacity??1,D9(s)),t.opacityExit=dt(e.opacity??1,0,k9(s))):l&&(t.opacity=dt(e.opacity??1,n.opacity??1,s));for(let u=0;u<I9;u++){const h=`border${aC[u]}Radius`;let f=mE(e,h),p=mE(n,h);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||dE(f)===dE(p)?(t[h]=Math.max(dt(fE(f),fE(p),s),0),(Zi.test(p)||Zi.test(f))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=dt(e.rotate||0,n.rotate||0,s))}function mE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const D9=oC(0,.5,$S),k9=oC(.5,.95,ei);function oC(t,e,n){return s=>s<t?0:s>e?1:n(nc(t,e,s))}function pE(t,e){t.min=e.min,t.max=e.max}function Qn(t,e){pE(t.x,e.x),pE(t.y,e.y)}function gE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function yE(t,e,n,s,a){return t-=e,t=ad(t,1/n,s),a!==void 0&&(t=ad(t,1/a,s)),t}function V9(t,e=0,n=1,s=.5,a,l=t,u=t){if(Zi.test(e)&&(e=parseFloat(e),e=dt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=dt(l.min,l.max,s);t===l&&(h-=e),t.min=yE(t.min,e,n,h,a),t.max=yE(t.max,e,n,h,a)}function vE(t,e,[n,s,a],l,u){V9(t,e[n],e[s],e[a],e.scale,l,u)}const P9=["x","scaleX","originX"],O9=["y","scaleY","originY"];function _E(t,e,n,s){vE(t.x,e,P9,n?n.x:void 0,s?s.x:void 0),vE(t.y,e,O9,n?n.y:void 0,s?s.y:void 0)}function bE(t){return t.translate===0&&t.scale===1}function lC(t){return bE(t.x)&&bE(t.y)}function xE(t,e){return t.min===e.min&&t.max===e.max}function j9(t,e){return xE(t.x,e.x)&&xE(t.y,e.y)}function TE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function uC(t,e){return TE(t.x,e.x)&&TE(t.y,e.y)}function EE(t){return pn(t.x)/pn(t.y)}function wE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class L9{constructor(){this.members=[]}add(e){gy(this.members,e),e.scheduleRender()}remove(e){if(yy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function U9(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(s=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:_,rotateY:T,skewX:w,skewY:C}=n;p&&(s=`perspective(${p}px) ${s}`),y&&(s+=`rotate(${y}deg) `),_&&(s+=`rotateX(${_}deg) `),T&&(s+=`rotateY(${T}deg) `),w&&(s+=`skewX(${w}deg) `),C&&(s+=`skewY(${C}deg) `)}const h=t.x.scale*e.x,f=t.y.scale*e.y;return(h!==1||f!==1)&&(s+=`scale(${h}, ${f})`),s||"none"}const fg=["","X","Y","Z"],z9=1e3;let B9=0;function dg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function cC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=QA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ht,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&cC(s)}function hC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(u={},h=e?.()){this.id=B9++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(H9),this.nodes.forEach(Y9),this.nodes.forEach(Q9),this.nodes.forEach(G9)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new R9)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new by),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const f=this.eventHandlers.get(u);f&&f.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=AA(u)&&!Ij(u),this.instance=u;const{layoutId:h,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||h)&&(this.isLayoutDirty=!0),t){let y,_=0;const T=()=>this.root.updateBlockedByResize=!1;ht.read(()=>{_=window.innerWidth}),t(u,()=>{const w=window.innerWidth;w!==_&&(_=w,this.root.updateBlockedByResize=!0,y&&y(),y=N9(T,250),Vf.hasAnimatedSinceResize&&(Vf.hasAnimatedSinceResize=!1,this.nodes.forEach(CE)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||f)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:T,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||p.getDefaultTransition()||e8,{onLayoutAnimationStart:P,onLayoutAnimationComplete:D}=p.getProps(),O=!this.targetLayout||!uC(this.targetLayout,w),B=!_&&T;if(this.options.layoutRoot||this.resumeFrom||B||_&&(O||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const z={...ky(C,"layout"),onPlay:P,onComplete:D};(p.shouldReduceMotion||this.options.layoutRoot)&&(z.delay=0,z.type=!1),this.startAnimation(z),this.setAnimationOrigin(y,B)}else _||CE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Or(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(X9),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(SE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(AE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach($9),this.nodes.forEach(F9),this.nodes.forEach(q9)):this.nodes.forEach(AE),this.clearAllSnapshots();const h=wn.now();Zt.delta=Vs(0,1e3/60,h-Zt.timestamp),Zt.timestamp=h,Zt.isProcessing=!0,tg.update.process(Zt),tg.preRender.process(Zt),tg.render.process(Zt),Zt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Py.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(K9),this.sharedNodes.forEach(W9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ht.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ht.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!pn(this.snapshot.measuredBox.x)&&!pn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Tt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const f=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!lC(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;u&&this.instance&&(h||ba(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return u&&(f=this.removeTransform(f)),t8(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Tt();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(n8))){const{scroll:p}=this.root;p&&(Po(h.x,p.offset.x),Po(h.y,p.offset.y))}return h}removeElementScroll(u){const h=Tt();if(Qn(h,u),this.scroll?.wasRoot)return h;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:y,options:_}=p;p!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&Qn(h,u),Po(h.x,y.offset.x),Po(h.y,y.offset.y))}return h}applyTransform(u,h=!1){const f=Tt();Qn(f,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Oo(f,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),ba(y.latestValues)&&Oo(f,y.latestValues)}return ba(this.latestValues)&&Oo(f,this.latestValues),f}removeTransform(u){const h=Tt();Qn(h,u);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!ba(p.latestValues))continue;o0(p.latestValues)&&p.updateSnapshot();const y=Tt(),_=p.measurePageBox();Qn(y,_),_E(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return ba(this.latestValues)&&_E(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Zt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(u||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!(!this.layout||!(y||_))){if(this.resolvedRelativeTargetAt=Zt.timestamp,!this.targetDelta&&!this.relativeTarget){const T=this.getClosestProjectingParent();T&&T.layout&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),Gu(this.relativeTargetOrigin,this.layout.layoutBox,T.layout.layoutBox),Qn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Tt(),this.targetWithTransforms=Tt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),l9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Qn(this.target,this.layout.layoutBox),qA(this.target,this.targetDelta)):Qn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const T=this.getClosestProjectingParent();T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),Gu(this.relativeTargetOrigin,this.target,T.target),Qn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||o0(this.parent.latestValues)||FA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Zt.timestamp&&(f=!1),f)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;Qn(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,T=this.treeScale.y;bL(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Tt());const{target:w}=u;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(gE(this.prevProjectionDelta.x,this.projectionDelta.x),gE(this.prevProjectionDelta.y,this.projectionDelta.y)),Hu(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==T||!wE(this.projectionDelta.x,this.prevProjectionDelta.x)||!wE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=jo(),this.projectionDelta=jo(),this.projectionDeltaWithTransform=jo()}setAnimationOrigin(u,h=!1){const f=this.snapshot,p=f?f.latestValues:{},y={...this.latestValues},_=jo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const T=Tt(),w=f?f.source:void 0,C=this.layout?this.layout.source:void 0,P=w!==C,D=this.getStack(),O=!D||D.members.length<=1,B=!!(P&&!O&&this.options.crossfade===!0&&!this.path.some(Z9));this.animationProgress=0;let z;this.mixTargetDelta=J=>{const Z=J/1e3;RE(_.x,u.x,Z),RE(_.y,u.y,Z),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Gu(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),J9(this.relativeTarget,this.relativeTargetOrigin,T,Z),z&&j9(this.relativeTarget,z)&&(this.isProjectionDirty=!1),z||(z=Tt()),Qn(z,this.relativeTarget)),P&&(this.animationValues=y,M9(y,p,this.latestValues,Z,B,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Or(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ht.update(()=>{Vf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=el(0)),this.currentAnimation=A9(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(z9),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:f,layout:p,latestValues:y}=u;if(!(!h||!f||!p)){if(this!==u&&this.layout&&p&&fC(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||Tt();const _=pn(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+_;const T=pn(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+T}Qn(h,f),Oo(h,y),Hu(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new L9),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const p={};f.z&&dg("z",u,p,this.animationValues);for(let y=0;y<fg.length;y++)dg(`rotate${fg[y]}`,u,p,this.animationValues),dg(`skew${fg[y]}`,u,p,this.animationValues);u.render();for(const y in p)u.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=kf(h?.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=kf(h?.pointerEvents)||""),this.hasProjected&&!ba(this.latestValues)&&(u.transform=f?f({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let _=U9(this.projectionDeltaWithTransform,this.treeScale,y);f&&(_=f(y,_)),u.transform=_;const{x:T,y:w}=this.projectionDelta;u.transformOrigin=`${T.origin*100}% ${w.origin*100}% 0`,p.animationValues?u.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const C in ac){if(y[C]===void 0)continue;const{correct:P,applyTo:D,isCSSVariable:O}=ac[C],B=_==="none"?y[C]:P(y[C],p);if(D){const z=D.length;for(let J=0;J<z;J++)u[D[J]]=B}else O?this.options.visualElement.renderState.vars[C]=B:u[C]=B}this.options.layoutId&&(u.pointerEvents=p===this?kf(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(SE),this.root.sharedNodes.clear()}}}function F9(t){t.updateLayout()}function q9(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?Xn(y=>{const _=l?e.measuredBox[y]:e.layoutBox[y],T=pn(_);_.min=n[y].min,_.max=_.min+T}):fC(a,e.layoutBox,n)&&Xn(y=>{const _=l?e.measuredBox[y]:e.layoutBox[y],T=pn(n[y]);_.max=_.min+T,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+T)});const u=jo();Hu(u,n,e.layoutBox);const h=jo();l?Hu(h,t.applyTransform(s,!0),e.measuredBox):Hu(h,n,e.layoutBox);const f=!lC(u);let p=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:T}=y;if(_&&T){const w=Tt();Gu(w,e.layoutBox,_.layoutBox);const C=Tt();Gu(C,n,T.layoutBox),uC(w,C)||(p=!0),y.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=w,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function H9(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function G9(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function K9(t){t.clearSnapshot()}function SE(t){t.clearMeasurements()}function AE(t){t.isLayoutDirty=!1}function $9(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function CE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Y9(t){t.resolveTargetDelta()}function Q9(t){t.calcProjection()}function X9(t){t.resetSkewAndRotation()}function W9(t){t.removeLeadSnapshot()}function RE(t,e,n){t.translate=dt(e.translate,0,n),t.scale=dt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function NE(t,e,n,s){t.min=dt(e.min,n.min,s),t.max=dt(e.max,n.max,s)}function J9(t,e,n,s){NE(t.x,e.x,n.x,s),NE(t.y,e.y,n.y,s)}function Z9(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const e8={duration:.45,ease:[.4,0,.1,1]},IE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),ME=IE("applewebkit/")&&!IE("chrome/")?Math.round:ei;function DE(t){t.min=ME(t.min),t.max=ME(t.max)}function t8(t){DE(t.x),DE(t.y)}function fC(t,e,n){return t==="position"||t==="preserve-aspect"&&!o9(EE(e),EE(n),.2)}function n8(t){return t!==t.root&&t.scroll?.wasRoot}const i8=hC({attachResizeListener:(t,e)=>oc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),mg={current:void 0},dC=hC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!mg.current){const t=new i8({});t.mount(window),t.setOptions({layoutScroll:!0}),mg.current=t}return mg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),s8={pan:{Feature:T9},drag:{Feature:x9,ProjectionNode:dC,MeasureLayout:rC}};function kE(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&ht.postRender(()=>l(e,Rc(e)))}class r8 extends zr{mount(){const{current:e}=this.node;e&&(this.unmount=Sj(e,(n,s)=>(kE(this.node,s,"Start"),a=>kE(this.node,a,"End"))))}unmount(){}}class a8 extends zr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Sc(oc(this.node.current,"focus",()=>this.onFocus()),oc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function VE(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&ht.postRender(()=>l(e,Rc(e)))}class o8 extends zr{mount(){const{current:e}=this.node;e&&(this.unmount=Nj(e,(n,s)=>(VE(this.node,s,"Start"),(a,{success:l})=>VE(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const m0=new WeakMap,pg=new WeakMap,l8=t=>{const e=m0.get(t.target);e&&e(t)},u8=t=>{t.forEach(l8)};function c8({root:t,...e}){const n=t||document;pg.has(n)||pg.set(n,{});const s=pg.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(u8,{root:t,...e})),s[a]}function h8(t,e,n){const s=c8(e);return m0.set(t,n),s.observe(t),()=>{m0.delete(t),s.unobserve(t)}}const f8={some:0,all:1};class d8 extends zr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:f8[a]},h=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),T=p?y:_;T&&T(f)};return h8(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(m8(e,n))&&this.startObserver()}unmount(){}}function m8({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const p8={inView:{Feature:d8},tap:{Feature:o8},focus:{Feature:a8},hover:{Feature:r8}},g8={layout:{ProjectionNode:dC,MeasureLayout:rC}},y8={...t9,...p8,...s8,...g8},Go=yL(y8,IL);const v8=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_8=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),PE=t=>{const e=_8(t);return e.charAt(0).toUpperCase()+e.slice(1)},mC=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),b8=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var x8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const T8=j.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:u,...h},f)=>j.createElement("svg",{ref:f,...x8,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:mC("lucide",a),...!l&&!b8(h)&&{"aria-hidden":"true"},...h},[...u.map(([p,y])=>j.createElement(p,y)),...Array.isArray(l)?l:[l]]));const Ve=(t,e)=>{const n=j.forwardRef(({className:s,...a},l)=>j.createElement(T8,{ref:l,iconNode:e,className:mC(`lucide-${v8(PE(t))}`,`lucide-${t}`,s),...a}));return n.displayName=PE(t),n};const E8=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],OE=Ve("arrow-left",E8);const w8=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],S8=Ve("award",w8);const A8=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],ku=Ve("bell",A8);const C8=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],R8=Ve("camera",C8);const N8=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],jE=Ve("chevron-down",N8);const I8=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ss=Ve("circle-check-big",I8);const M8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],D8=Ve("circle-question-mark",M8);const k8=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],V8=Ve("copy",k8);const P8=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],O8=Ve("facebook",P8);const j8=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],od=Ve("file-text",j8);const L8=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],U8=Ve("funnel",L8);const z8=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],B8=Ve("graduation-cap",z8);const F8=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],q8=Ve("heart",F8);const H8=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],pC=Ve("inbox",H8);const G8=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],K8=Ve("instagram",G8);const $8=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Y8=Ve("link",$8);const Q8=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],X8=Ve("linkedin",Q8);const W8=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],J8=Ve("lock",W8);const Z8=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],eU=Ve("log-out",Z8);const tU=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ld=Ve("mail",tU);const nU=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],iU=Ve("map-pin",nU);const sU=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],lc=Ve("medal",sU);const rU=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],aU=Ve("menu",rU);const oU=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],lU=Ve("message-circle",oU);const uU=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],gC=Ve("message-square",uU);const cU=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],hU=Ve("paperclip",cU);const fU=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],yC=Ve("pause",fU);const dU=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],mU=Ve("phone",dU);const pU=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],vC=Ve("play",pU);const gU=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],yU=Ve("rocket",gU);const vU=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],uc=Ve("search",vU);const _U=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],bU=Ve("send",_U);const xU=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],LE=Ve("settings",xU);const TU=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],EU=Ve("share-2",TU);const wU=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],SU=Ve("sparkles",wU);const AU=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],cc=Ve("star",AU);const CU=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],nl=Ve("trophy",CU);const RU=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],NU=Ve("twitter",RU);const IU=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],MU=Ve("upload",IU);const DU=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],kU=Ve("x",DU),VU=()=>{const{user:t}=ii(),e=ts(),[n,s]=j.useState(!1),[a,l]=j.useState(!1);j.useEffect(()=>{const f=()=>{l(window.scrollY>10)};return window.addEventListener("scroll",f,{passive:!0}),()=>window.removeEventListener("scroll",f)},[]);const u=()=>{e(t?"/forum":"/login"),n&&s(!1)},h=f=>{document.getElementById(f)?.scrollIntoView({behavior:"smooth"}),n&&s(!1)};return v.jsx("header",{className:`fixed top-0 w-full z-50 transition-all duration-300 ${a?"bg-slate-900/70 backdrop-blur-md border-b border-slate-700/40":"bg-slate-900/30 backdrop-blur-sm border-b border-slate-600/20"}`,children:v.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-3",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs(ln,{to:"/",className:"flex items-center gap-2 group",onClick:()=>n&&s(!1),children:[v.jsx("div",{className:"p-2 rounded-lg bg-slate-700/30 group-hover:bg-slate-600/40 transition-colors",children:v.jsx(yU,{className:"w-5 h-5 text-slate-300"})}),v.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-slate-200 to-slate-300 bg-clip-text text-transparent",children:"Angkasa"})]}),v.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[v.jsxs("button",{onClick:()=>h("home"),className:"text-slate-300 hover:text-white transition-colors font-medium relative group",children:["Home",v.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-slate-400 group-hover:w-full transition-all"})]}),v.jsxs("button",{onClick:()=>h("about"),className:"text-slate-300 hover:text-white transition-colors font-medium relative group",children:["About",v.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-slate-400 group-hover:w-full transition-all"})]}),v.jsxs("button",{onClick:()=>h("contact"),className:"text-slate-300 hover:text-white transition-colors font-medium relative group",children:["Contact",v.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-slate-400 group-hover:w-full transition-all"})]}),t?v.jsx("button",{onClick:u,className:"px-4 py-2 bg-slate-600 hover:bg-slate-700 text-white font-medium rounded-md transition-colors shadow-md hover:shadow-lg",children:"Masuk"}):v.jsx(ln,{to:"/login",children:v.jsx("button",{className:"px-4 py-2 bg-slate-600 hover:bg-slate-700 text-white font-medium rounded-md transition-colors shadow-md hover:shadow-lg",children:"Login"})})]}),v.jsx("button",{onClick:()=>s(!n),className:"md:hidden p-2 rounded-lg hover:bg-slate-700/50 text-slate-300 hover:text-white transition-colors","aria-label":n?"Tutup menu":"Buka menu","aria-expanded":n,children:n?v.jsx(kU,{className:"w-6 h-6"}):v.jsx(aU,{className:"w-6 h-6"})})]}),n&&v.jsx("div",{className:"md:hidden mt-4 rounded-xl overflow-hidden bg-slate-800/60 backdrop-blur-md border border-slate-600/40 shadow-xl animate-fade-in",role:"menu",children:v.jsxs("div",{className:"p-4 space-y-2",children:[v.jsx("button",{onClick:()=>h("home"),className:"w-full text-left px-4 py-3 text-slate-300 hover:text-white hover:bg-slate-700/40 rounded-lg transition-colors font-medium",role:"menuitem",children:"Home"}),v.jsx("button",{onClick:()=>h("about"),className:"w-full text-left px-4 py-3 text-slate-300 hover:text-white hover:bg-slate-700/40 rounded-lg transition-colors font-medium",role:"menuitem",children:"About"}),v.jsx("button",{onClick:()=>h("contact"),className:"w-full text-left px-4 py-3 text-slate-300 hover:text-white hover:bg-slate-700/40 rounded-lg transition-colors font-medium",role:"menuitem",children:"Contact"}),v.jsx("div",{className:"border-t border-slate-700/50 pt-3 mt-1",children:t?v.jsx("button",{onClick:u,className:"w-full text-center px-4 py-3 bg-slate-600 hover:bg-slate-700 text-white font-medium rounded-lg transition-colors shadow-md",children:"Masuk"}):v.jsx(ln,{to:"/login",className:"block",onClick:()=>s(!1),children:v.jsx("button",{className:"w-full text-center px-4 py-3 bg-slate-600 hover:bg-slate-700 text-white font-medium rounded-lg transition-colors shadow-md",children:"Login"})})})]})})]})})};function PU(){return v.jsx("footer",{className:"relative z-10 bg-slate-900/80 backdrop-blur-md border-t border-slate-700/50 pt-16 pb-8",children:v.jsxs("div",{className:"container mx-auto px-6",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-12",children:[v.jsxs("div",{className:"space-y-4",children:[v.jsx("h3",{className:"text-2xl font-bold text-white",children:"Angkasa"}),v.jsx("p",{className:"text-slate-400 leading-relaxed",children:"Platform terpercaya untuk menemukan informasi lomba dan beasiswa terbaik. Wujudkan mimpimu bersama Angkasa."}),v.jsxs("div",{className:"flex gap-4 pt-2",children:[v.jsx("a",{href:"#",className:"p-2 bg-slate-800 rounded-full hover:bg-primary hover:text-white transition-colors text-slate-400",children:v.jsx(O8,{className:"w-5 h-5"})}),v.jsx("a",{href:"#",className:"p-2 bg-slate-800 rounded-full hover:bg-primary hover:text-white transition-colors text-slate-400",children:v.jsx(NU,{className:"w-5 h-5"})}),v.jsx("a",{href:"#",className:"p-2 bg-slate-800 rounded-full hover:bg-primary hover:text-white transition-colors text-slate-400",children:v.jsx(K8,{className:"w-5 h-5"})}),v.jsx("a",{href:"#",className:"p-2 bg-slate-800 rounded-full hover:bg-primary hover:text-white transition-colors text-slate-400",children:v.jsx(X8,{className:"w-5 h-5"})})]})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-lg font-semibold text-white mb-6",children:"Tautan Cepat"}),v.jsxs("ul",{className:"space-y-3",children:[v.jsx("li",{children:v.jsx(ln,{to:"/",className:"text-slate-400 hover:text-primary transition-colors",children:"Beranda"})}),v.jsx("li",{children:v.jsx("a",{href:"#about",className:"text-slate-400 hover:text-primary transition-colors",children:"Tentang Kami"})}),v.jsx("li",{children:v.jsx(ln,{to:"/forum",className:"text-slate-400 hover:text-primary transition-colors",children:"Forum Diskusi"})}),v.jsx("li",{children:v.jsx("a",{href:"#prinsip",className:"text-slate-400 hover:text-primary transition-colors",children:"Prinsip Kami"})})]})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-lg font-semibold text-white mb-6",children:"Kategori"}),v.jsxs("ul",{className:"space-y-3",children:[v.jsx("li",{children:v.jsx(ln,{to:"/forum?type=lomba",className:"text-slate-400 hover:text-primary transition-colors",children:"Info Lomba"})}),v.jsx("li",{children:v.jsx(ln,{to:"/forum?type=beasiswa",className:"text-slate-400 hover:text-primary transition-colors",children:"Info Beasiswa"})}),v.jsx("li",{children:v.jsx(ln,{to:"/forum?type=webinar",className:"text-slate-400 hover:text-primary transition-colors",children:"Webinar & Workshop"})}),v.jsx("li",{children:v.jsx(ln,{to:"/forum?type=bootcamp",className:"text-slate-400 hover:text-primary transition-colors",children:"Bootcamp"})})]})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-lg font-semibold text-white mb-6",children:"Hubungi Kami"}),v.jsxs("ul",{className:"space-y-4",children:[v.jsxs("li",{className:"flex items-start gap-3 text-slate-400",children:[v.jsx(iU,{className:"w-5 h-5 mt-0.5 text-primary shrink-0"}),v.jsx("span",{children:"Jl. Pendidikan No. 123, Jakarta Selatan, Indonesia"})]}),v.jsxs("li",{className:"flex items-center gap-3 text-slate-400",children:[v.jsx(mU,{className:"w-5 h-5 text-primary shrink-0"}),v.jsx("span",{children:"+62 812-3456-7890"})]}),v.jsxs("li",{className:"flex items-center gap-3 text-slate-400",children:[v.jsx(ld,{className:"w-5 h-5 text-primary shrink-0"}),v.jsx("span",{children:"info@angkasa.id"})]})]})]})]}),v.jsx("div",{className:"border-t border-slate-800 pt-8 text-center",children:v.jsxs("p",{className:"text-slate-500",children:[" ",new Date().getFullYear()," Angkasa. Hak Cipta Dilindungi Undang-Undang."]})})]})})}function yf(...t){return t.filter(Boolean).join(" ")}const _C=j.forwardRef(({texts:t,transition:e={type:"spring",damping:25,stiffness:300},initial:n={y:"100%",opacity:0},animate:s={y:0,opacity:1},exit:a={y:"-120%",opacity:0},animatePresenceMode:l="wait",animatePresenceInitial:u=!1,rotationInterval:h=2e3,staggerDuration:f=0,staggerFrom:p="first",loop:y=!0,auto:_=!0,splitBy:T="characters",onNext:w,mainClassName:C,splitLevelClassName:P,elementLevelClassName:D,...O},B)=>{const[z,J]=j.useState(0),Z=k=>{if(typeof Intl<"u"&&Intl.Segmenter){const le=new Intl.Segmenter("en",{granularity:"grapheme"});return Array.from(le.segment(k),Ee=>Ee.segment)}return Array.from(k)},te=j.useMemo(()=>{const k=t[z];if(T==="characters"){const le=k.split(" ");return le.map((Ee,Y)=>({characters:Z(Ee),needsSpace:Y!==le.length-1}))}return T==="words"?k.split(" ").map((le,Ee,Y)=>({characters:[le],needsSpace:Ee!==Y.length-1})):T==="lines"?k.split(`
`).map((le,Ee,Y)=>({characters:[le],needsSpace:Ee!==Y.length-1})):k.split(T).map((le,Ee,Y)=>({characters:[le],needsSpace:Ee!==Y.length-1}))},[t,z,T]),I=j.useCallback((k,le)=>{const Ee=le;if(p==="first")return k*f;if(p==="last")return(Ee-1-k)*f;if(p==="center"){const Y=Math.floor(Ee/2);return Math.abs(Y-k)*f}if(p==="random"){const Y=Math.floor(Math.random()*Ee);return Math.abs(Y-k)*f}return Math.abs(p-k)*f},[p,f]),A=j.useCallback(k=>{J(k),w&&w(k)},[w]),V=j.useCallback(()=>{const k=z===t.length-1?y?0:z:z+1;k!==z&&A(k)},[z,t.length,y,A]),R=j.useCallback(()=>{const k=z===0?y?t.length-1:z:z-1;k!==z&&A(k)},[z,t.length,y,A]),M=j.useCallback(k=>{const le=Math.max(0,Math.min(k,t.length-1));le!==z&&A(le)},[t.length,z,A]),L=j.useCallback(()=>{z!==0&&A(0)},[z,A]);return j.useImperativeHandle(B,()=>({next:V,previous:R,jumpTo:M,reset:L}),[V,R,M,L]),j.useEffect(()=>{if(!_)return;const k=setInterval(V,h);return()=>clearInterval(k)},[V,h,_]),v.jsxs(Go.span,{className:yf("flex flex-wrap whitespace-pre-wrap relative",C),...O,layout:!0,transition:e,children:[v.jsx("span",{className:"sr-only",children:t[z]}),v.jsx(Uj,{mode:l,initial:u,children:v.jsx(Go.span,{className:yf(T==="lines"?"flex flex-col w-full":"flex flex-wrap whitespace-pre-wrap relative"),layout:!0,"aria-hidden":"true",children:te.map((k,le,Ee)=>{const Y=Ee.slice(0,le).reduce((re,ce)=>re+ce.characters.length,0);return v.jsxs("span",{className:yf("inline-flex",P),children:[k.characters.map((re,ce)=>v.jsx(Go.span,{initial:n,animate:s,exit:a,transition:{...e,delay:I(Y+ce,Ee.reduce((be,Ne)=>be+Ne.characters.length,0))},className:yf("inline-block",D),children:re},ce)),k.needsSpace&&v.jsx("span",{className:"whitespace-pre",children:" "})]},le)})},z)})]})});_C.displayName="RotatingText";function OU(){const t=ts(),{user:e,isAudioPlaying:n,isEmailVerified:s,togglePlay:a}=ii();console.log("Email verified:",s);const l=()=>{t(e?"/forum":"/login")},u=()=>{document.getElementById("about")?.scrollIntoView({behavior:"smooth"})};return v.jsxs("div",{className:"relative min-h-screen overflow-hidden",children:[v.jsx(VU,{}),v.jsx("div",{className:"fixed bottom-6 left-6 z-20",children:v.jsxs("button",{onClick:a,className:"group flex items-center gap-2 px-4 py-2.5 bg-slate-800/70 hover:bg-slate-700/80 backdrop-blur-md border border-slate-600/40 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 text-slate-300 hover:text-white",title:n?"Jeda musik latar":"Putar musik latar","aria-label":"Putar musik latar",children:[n?v.jsx(yC,{className:"w-5 h-5 transition-transform group-hover:scale-110"}):v.jsx(vC,{className:"w-5 h-5 transition-transform group-hover:scale-110 ml-0.5"}),v.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:n?"Jeda":"Putar"})]})}),v.jsx("div",{className:"relative z-10 flex flex-col items-center justify-center min-h-screen text-center p-4 pt-20",children:v.jsxs("div",{className:"max-w-4xl",children:[v.jsxs("div",{className:"flex flex-wrap justify-center items-end gap-3 mb-6",children:[v.jsx("h1",{className:"text-3xl md:text-5xl lg:text-6xl font-bold text-white drop-shadow-lg whitespace-nowrap",children:"Selamat Datang di"}),v.jsx("div",{className:"inline-flex",children:v.jsx(_C,{texts:["Angkasa","Platform Impianmu","Masa Depan"],mainClassName:"px-3 sm:px-4 md:px-5 bg-slate-700 backdrop-blur-sm text-white font-bold text-3xl md:text-5xl lg:text-6xl font-bold rounded-lg shadow-lg",staggerFrom:"last",initial:{y:"100%"},animate:{y:0},exit:{y:"-120%"},staggerDuration:.025,splitLevelClassName:"overflow-hidden",transition:{type:"spring",damping:30,stiffness:400},rotationInterval:3e3})})]}),v.jsx("div",{className:"mb-10 animate-fade-in-up",children:v.jsx("p",{className:"text-lg md:text-2xl text-slate-300 max-w-4xl mx-auto",children:"Platform terpercaya untuk menemukan lomba dan beasiswa impian Anda. Mulai perjalanan menuju kesuksesan bersama Angkasa."})}),v.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pt-6",children:[v.jsx("button",{onClick:l,className:"px-6 py-3 bg-primary hover:bg-slate-800 text-primary-foreground font-semibold rounded-lg transition-all duration-300 shadow-md hover:shadow-primary/30 min-w-[180px]",children:"Mulai Sekarang"}),v.jsx("button",{onClick:u,className:"px-6 py-3 bg-transparent border border-slate-500 hover:border-slate-400 text-slate-300 hover:text-white font-semibold rounded-lg transition-all duration-300 min-w-[180px]",children:"Pelajari Lebih Lanjut"})]})]})}),v.jsx("section",{id:"about",className:"relative z-10 py-20 px-6 backdrop-blur-sm",children:v.jsxs("div",{className:"max-w-6xl mx-auto",children:[v.jsxs("div",{className:"text-center mb-16",children:[v.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 text-white",children:"Tentang Angkasa"}),v.jsx("p",{className:"text-lg md:text-2xl text-slate-400 max-w-4xl mx-auto",children:"Angkasa adalah platform inovatif yang menghubungkan talenta muda dengan peluang lomba dan beasiswa terbaik di Indonesia."})]}),v.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{icon:"",title:"Lomba Berkualitas",desc:"Temukan berbagai lomba dari tingkat lokal hingga internasional yang sesuai dengan minat Anda."},{icon:"",title:"Beasiswa Terpercaya",desc:"Akses informasi beasiswa dari berbagai institusi ternama untuk mendukung pendidikan Anda."},{icon:"",title:"Komunitas Aktif",desc:"Bergabung dengan ribuan pengguna lain untuk berbagi pengalaman dan tips sukses."}].map((h,f)=>v.jsx(Go.div,{className:"glass p-6 rounded-xl border border-secondary/20 hover:border-secondary/40 transition-all bg-slate-800/30 backdrop-blur-sm shadow-xl",initial:{y:0},animate:{y:[-8,8,-8]},transition:{duration:4+f*.5,repeat:1/0,ease:"easeInOut",repeatType:"loop"},whileHover:{y:-6,scale:1.03,boxShadow:"0 16px 32px -8px rgba(0,0,0,0.3)",transition:{duration:.3}},children:v.jsxs("div",{className:"text-center space-y-4",children:[v.jsx("div",{className:"w-14 h-14 mx-auto rounded-full bg-secondary/20 flex items-center justify-center",children:v.jsx("span",{className:"text-primary text-xl",children:h.icon})}),v.jsx("h3",{className:"text-xl font-semibold text-white",children:h.title}),v.jsx("p",{className:"text-slate-400",children:h.desc})]})},f))})]})}),v.jsxs("section",{id:"prinsip",className:"py-20 px-6 relative",children:[v.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:v.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[400px] bg-gradient-to-r from-primary/10 to-secondary/10 rounded-full blur-3xl"})}),v.jsxs("div",{className:"container mx-auto max-w-6xl relative z-10",children:[v.jsxs("div",{className:"text-center mb-16 mt-20",children:[v.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 text-white",children:"Prinsip Angkasa"}),v.jsx("p",{className:"text-lg md:text-2xl text-slate-400 max-w-4xl mx-auto",children:"Angkasa berfokus untuk meningkatkan pendidikan dan menjadi perantara terbaik beasiswa & lomba bagi Anda."})]}),v.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:[{icon:"",title:"Integritas",desc:"Kami berkomitmen menyediakan informasi lomba dan beasiswa yang valid dan terpercaya untuk semua pengguna."},{icon:"",title:"Inovasi",desc:"Terus berinovasi dalam memberikan pengalaman terbaik dan fitur-fitur yang memudahkan pengguna."},{icon:"",title:"Kolaborasi",desc:"Membangun ekosistem yang mendorong kolaborasi dan saling mendukung antar pengguna."},{icon:"",title:"Pemberdayaan",desc:"Memberdayakan talenta muda Indonesia untuk meraih prestasi dan kesempatan pendidikan terbaik."}].map((h,f)=>v.jsxs(Go.div,{className:"glass p-8 rounded-xl border border-secondary/20 hover:border-secondary/40 transition-all bg-slate-800/30 backdrop-blur-sm shadow-xl",initial:{y:0},animate:{y:[-6,6,-6]},transition:{duration:3.8+f*.4,repeat:1/0,ease:"easeInOut",repeatType:"loop"},whileHover:{y:-4,scale:1.02,boxShadow:"0 12px 24px -6px rgba(0,0,0,0.25)",transition:{duration:.3}},children:[v.jsxs("h3",{className:"text-2xl font-bold text-secondary mb-3",children:[h.icon," ",h.title]}),v.jsx("p",{className:"text-slate-300",children:h.desc})]},f))})]})]}),v.jsx("section",{id:"contact",className:"relative z-10 py-20 px-6 backdrop-blur-sm",children:v.jsxs("div",{className:"max-w-6xl mx-auto",children:[v.jsxs("div",{className:"text-center mb-16",children:[v.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 text-white",children:"Hubungi Kami"}),v.jsx("p",{className:"text-lg md:text-2xl text-slate-400 max-w-4xl mx-auto",children:"Punya pertanyaan atau ingin berkolaborasi? Jangan ragu untuk menghubungi tim kami."})]}),v.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[v.jsx("div",{className:"space-y-8",children:v.jsxs("div",{className:"glass p-8 rounded-xl border border-secondary/20 bg-slate-800/30 backdrop-blur-sm",children:[v.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:"Informasi Kontak"}),v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"flex items-start gap-4",children:[v.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/20 flex items-center justify-center shrink-0",children:v.jsx("span",{className:"text-2xl",children:""})}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-lg font-semibold text-white",children:"Alamat"}),v.jsx("p",{className:"text-slate-400",children:"Jl. Pendidikan No. 123, Jakarta Selatan, Indonesia"})]})]}),v.jsxs("div",{className:"flex items-start gap-4",children:[v.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/20 flex items-center justify-center shrink-0",children:v.jsx("span",{className:"text-2xl",children:""})}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-lg font-semibold text-white",children:"Email"}),v.jsx("p",{className:"text-slate-400",children:"info@angkasa.id"})]})]}),v.jsxs("div",{className:"flex items-start gap-4",children:[v.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/20 flex items-center justify-center shrink-0",children:v.jsx("span",{className:"text-2xl",children:""})}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-lg font-semibold text-white",children:"Telepon"}),v.jsx("p",{className:"text-slate-400",children:"+62 812-3456-7890"})]})]})]})]})}),v.jsx(Go.div,{className:"glass p-8 rounded-xl border border-secondary/20 bg-slate-800/30 backdrop-blur-sm",initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},transition:{duration:.5},viewport:{once:!0},children:v.jsxs("form",{className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Nama Lengkap"}),v.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-slate-900/50 border border-slate-600 rounded-lg text-white focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-colors",placeholder:"Masukkan nama Anda"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Email"}),v.jsx("input",{type:"email",className:"w-full px-4 py-3 bg-slate-900/50 border border-slate-600 rounded-lg text-white focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-colors",placeholder:"nama@email.com"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Pesan"}),v.jsx("textarea",{rows:4,className:"w-full px-4 py-3 bg-slate-900/50 border border-slate-600 rounded-lg text-white focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-colors",placeholder:"Tulis pesan Anda di sini..."})]}),v.jsx("button",{type:"submit",className:"w-full py-3 bg-primary hover:bg-primary/90 text-white font-semibold rounded-lg transition-all duration-300 shadow-lg hover:shadow-primary/25",children:"Kirim Pesan"})]})})]})]})}),v.jsx(PU,{})]})}function jU(){const[t,e]=j.useState(""),[n,s]=j.useState(""),[a,l]=j.useState(""),[u,h]=j.useState(!1),{login:f,loginWithGoogle:p,user:y}=ii(),_=ts();j.useEffect(()=>{y&&_("/forum")},[y,_]);const T=async C=>{C.preventDefault(),l(""),h(!0);try{await f(t,n)}catch(P){l(P.message||"Terjadi kesalahan")}finally{h(!1)}},w=async()=>{l(""),h(!0);try{await p()}catch(C){l(C.message||"Gagal login dengan Google")}finally{h(!1)}};return u?v.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Loading..."}):v.jsxs("div",{className:"relative min-h-screen bg-transparent overflow-hidden",children:[v.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none",children:v.jsx(PS,{particleCount:120,particleSpread:6,speed:.07,particleColors:["#e2e8f0"],moveParticlesOnHover:!0,alphaParticles:!0,particleBaseSize:50,disableRotation:!1,className:"w-full h-full"})}),v.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen p-4",children:v.jsxs("div",{className:"w-full max-w-md bg-white/80 backdrop-blur-sm rounded-xl shadow-xl overflow-hidden p-8 border border-white/20",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Login"}),v.jsx("p",{className:"text-gray-600 mt-2",children:"Masuk ke akun Anda"})]}),a&&v.jsx("div",{className:"mb-4 p-3 bg-red-50 text-red-700 rounded-md text-sm",children:a}),v.jsxs("form",{onSubmit:T,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),v.jsx("input",{id:"email",type:"email",value:t,onChange:C=>e(C.target.value),className:"w-full px-4 py-2 bg-white/70 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),v.jsx("input",{id:"password",type:"password",value:n,onChange:C=>s(C.target.value),className:"w-full px-4 py-2 bg-white/70 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0})]}),v.jsx("button",{type:"submit",disabled:u,className:`w-full py-2 px-4 rounded-md font-medium text-white ${u?"bg-slate-400 cursor-not-allowed":"bg-slate-600 hover:bg-slate-700"} transition duration-200`,children:u?"Loading...":"Login"})]}),v.jsxs("div",{className:"my-6 flex items-center",children:[v.jsx("div",{className:"flex-grow border-t border-gray-300"}),v.jsx("span",{className:"mx-4 text-gray-500 text-sm",children:"atau"}),v.jsx("div",{className:"flex-grow border-t border-gray-300"})]}),v.jsxs("button",{onClick:w,disabled:u,className:`w-full py-2 px-4 rounded-md font-medium flex items-center justify-center gap-2 ${u?"bg-gray-300 cursor-not-allowed":"bg-red-500 hover:bg-red-600 text-white"} transition`,children:[v.jsx("svg",{viewBox:"0 0 24 24",className:"w-5 h-5",children:v.jsx("path",{fill:"#fff",d:"M12.24 10.285V14.4h6.806c-.275 1.765-2.056 5.174-6.806 5.174-4.095 0-7.439-3.389-7.439-7.574s3.345-7.574 7.439-7.574c2.33 0 3.891.989 4.785 1.849l3.254-3.138C18.189 1.186 15.479 0 12.24 0c-6.635 0-12 5.365-12 12s5.365 12 12 12c6.926 0 11.52-4.869 11.52-11.726 0-.788-.085-1.39-.189-1.989H12.24z"})}),"Login dengan Google"]}),v.jsxs("div",{className:"mt-6 text-center text-sm text-gray-500",children:["Belum punya akun?"," ",v.jsx(ln,{to:"/daftar",className:"text-slate-600 hover:underline font-medium",children:"Daftar"})]})]})})]})}async function LU(t){if(!t.trim())return[];const e=Q6(P6(Gg,"users"),iT("name",">=",t),iT("name","<=",t+""));return(await eV(e)).docs.map(s=>({id:s.id,...s.data()}))}function Ca(){const{user:t}=ii(),e=ts(),[n,s]=j.useState(""),[a,l]=j.useState([]),[u,h]=j.useState(!1),[f,p]=j.useState(!1);j.useEffect(()=>{t||e("/login",{replace:!0})},[t,e]);const y=async w=>{if(s(w),w.trim()===""){l([]);return}p(!0);try{const C=await LU(w);l(C)}catch(C){console.error("Gagal cari user:",C),l([])}finally{p(!1)}},_=w=>{e(`/user/${w}`),s(""),l([]),h(!1)};if(!t)return null;const T=t.name?t.name.charAt(0).toUpperCase():"?";return v.jsx("header",{className:"fixed top-0 w-full z-50 bg-white/5 backdrop-blur-md border-b border-white/10",children:v.jsx("div",{className:"container mx-auto px-4 sm:px-6 py-3",children:v.jsxs("div",{className:"flex items-center justify-between gap-4",children:[v.jsxs(ln,{to:"/profile",className:"flex items-center gap-3 group",children:[v.jsx("div",{className:"relative",children:v.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-500/20 flex items-center justify-center border-2 border-slate-500/30 group-hover:border-slate-400 transition-colors overflow-hidden",children:v.jsx("span",{className:"font-medium text-slate-300",children:T})})}),v.jsx("span",{className:"font-semibold text-slate-300 group-hover:text-white transition-colors hidden sm:inline",children:t.name})]}),v.jsx("div",{className:"flex-1 max-w-lg hidden md:block",children:v.jsxs("div",{className:"relative",children:[v.jsx(uc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),v.jsx("input",{type:"text",placeholder:"Cari akun atau konten...",value:n,onChange:w=>y(w.target.value),onFocus:()=>h(!0),onBlur:()=>setTimeout(()=>h(!1),200),className:"w-full pl-10 pr-4 py-2 bg-white/10 border border-white/10 rounded-lg focus:outline-none focus:ring-2 focus:ring-slate-400/50 focus:border-slate-400 text-slate-300 placeholder-slate-400 backdrop-blur-sm"}),u&&v.jsx("div",{className:"absolute top-full mt-2 w-full bg-white/10 backdrop-blur-md rounded-lg border border-white/10 shadow-lg overflow-hidden z-50 max-h-60 overflow-y-auto",children:f?v.jsx("div",{className:"p-3 text-center text-slate-400 text-sm",children:"Mencari..."}):a.length>0?a.map(w=>v.jsxs("button",{onClick:()=>_(w.id),className:"w-full flex items-center gap-3 p-3 hover:bg-white/10 transition-colors text-left",children:[v.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-500/20 flex items-center justify-center flex-shrink-0",children:v.jsx("span",{className:"text-sm font-medium text-slate-300",children:w.name.charAt(0).toUpperCase()})}),v.jsxs("div",{className:"truncate",children:[v.jsx("p",{className:"font-medium text-slate-200 text-sm",children:w.name}),v.jsx("p",{className:"text-xs text-slate-400 truncate",children:w.email})]})]},w.id)):v.jsx("div",{className:"p-3 text-center text-slate-500 text-sm",children:"Tidak ada hasil"})})]})}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx(ln,{to:"/Forum",className:"p-2 rounded-full hover:bg-white/10 text-slate-300 hover:text-white transition-colors",title:"Forum",children:v.jsx(gC,{className:"w-5 h-5"})}),v.jsx(ln,{to:"/email",className:"p-2 rounded-full hover:bg-white/10 text-slate-300 hover:text-white transition-colors",title:"Email",children:v.jsx(ld,{className:"w-5 h-5"})}),v.jsxs(ln,{to:"/notifications",className:"p-2 rounded-full hover:bg-white/10 text-slate-300 hover:text-white transition-colors relative",title:"Notifikasi",children:[v.jsx(ku,{className:"w-5 h-5"}),v.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full"})]})]})]})})})}const UU=[{id:1,author:"Ahmad Syahputra",avatar:"",content:"Senang sekali bisa bergabung dengan komunitas Angkasa! Ada info lomba desain grafis terbaru?",image:"https://images.unsplash.com/photo-1626785774573-4b799315345d?w=800&h=400&fit=crop",likes:24,comments:[{id:101,author:"Siti",text:"Ada, cek di web Kemenparekraf!",timestamp:"1 jam lalu"}],timestamp:"2 jam yang lalu",category:"lomba",title:"Lomba Desain Grafis Nasional 2025",type:"lomba",tags:["desain","nasional","mahasiswa"]},{id:2,author:"Siti Nurhaliza",avatar:"",content:"Baru saja mendapat beasiswa dari program Angkasa! Terima kasih banyak untuk platformnya yang sangat membantu ",image:"https://images.unsplash.com/photo-1523050854058-8df90110c9f1?w=800&h=400&fit=crop",likes:156,comments:[],timestamp:"5 jam yang lalu",category:"beasiswa",title:"Beasiswa LPDP S2 Luar Negeri",type:"beasiswa",tags:["LPDP","luar negeri","S2","pemerintah"]},{id:3,author:"Budi Santoso",avatar:"",content:"Ada yang mau ikut lomba programming minggu depan? Yuk diskusi di sini!",image:"https://images.unsplash.com/photo-1517694712202-14dd9538aa97?w=800&h=400&fit=crop",likes:42,comments:[{id:102,author:"Dewi",text:"Saya ikut! Tim kita bisa kolab?",timestamp:"3 jam lalu"},{id:103,author:"Ahmad",text:"Boleh, cek Discord grup kita",timestamp:"2 jam lalu"}],timestamp:"1 hari yang lalu",category:"lomba",title:"Hackathon Nasional 2025",type:"lomba",tags:["IT","programming","nasional","mahasiswa"]},{id:4,author:"Dewi Lestari",avatar:"",content:"Info beasiswa S2 ke Jepang! Deadline bulan depan, yuk siapkan dokumen dari sekarang!",image:"https://images.unsplash.com/photo-1503676260728-1c00da094a0b?w=800&h=400&fit=crop",likes:89,comments:[],timestamp:"1 hari yang lalu",category:"beasiswa",title:"MEXT Scholarship Jepang",type:"beasiswa",tags:["MEXT","Jepang","luar negeri","S2","pemerintah"]},{id:5,author:"Rina Wijaya",avatar:"",content:"Butuh teman untuk ikut lomba debat bahasa Inggris. Yang berminat DM ya!",likes:18,comments:[],timestamp:"2 hari yang lalu",category:"lomba",title:"Lomba Debat Nasional 2025",type:"lomba",tags:["debat","bahasa Inggris","nasional"]},{id:6,author:"Fajar Ramadhan",avatar:"",content:"Baru lolos seleksi beasiswa Turkiye Burslari! Senang banget ",image:"https://images.unsplash.com/photo-1464927495403-1c0e3a9e8e9a?w=800&h=400&fit=crop",likes:210,comments:[{id:104,author:"Siti",text:"Selamat! Boleh minta tipsnya?",timestamp:"12 jam lalu"}],timestamp:"2 hari yang lalu",category:"beasiswa",title:"Beasiswa Turkiye Burslari",type:"beasiswa",tags:["Turki","luar negeri","S1","pemerintah"]},{id:7,author:"Maya Putri",avatar:"",content:"Ada rekomendasi lomba menulis esai tingkat SMA?",likes:7,comments:[{id:105,author:"Budi",text:"Coba cek lomba dari Kemdikbud, banyak kok",timestamp:"1 hari lalu"}],timestamp:"3 hari yang lalu",category:"lomba",title:"Lomba Menulis Esai 2025",type:"lomba",tags:["menulis","esai","SMA"]},{id:8,author:"Andi Pratama",avatar:"",content:"Beasiswa Full Ride ke Singapore Management University (SMU) dibuka! Siapa mau apply bareng?",likes:64,comments:[],timestamp:"4 hari yang lalu",category:"beasiswa",title:"Beasiswa SMU Singapura",type:"beasiswa",tags:["Singapura","luar negeri","S1","swasta"]},{id:9,author:"Lina Sari",avatar:"",content:"Lomba robotik ITB 2025 segera dibuka! Tim kami butuh 1 orang lagi untuk divisi mechanical.",image:"https://images.unsplash.com/photo-1581273558035-9f5fc9d9e8e8?w=800&h=400&fit=crop",likes:31,comments:[],timestamp:"5 hari yang lalu",category:"lomba",title:"Lomba Robotik ITB 2025",type:"lomba",tags:["robotik","ITB","nasional","mahasiswa"]},{id:10,author:"Kevin Halim",avatar:"",content:"Beasiswa AAS Australia (S1/S2) mulai dibuka! Deadline 30 November.",likes:95,comments:[{id:106,author:"Dewi",text:"Ada yang sudah apply? Bagaimana prosesnya?",timestamp:"2 hari lalu"}],timestamp:"6 hari yang lalu",category:"beasiswa",title:"Beasiswa AAS Australia",type:"beasiswa",tags:["Australia","luar negeri","S1","S2","pemerintah"]}],zU=["lomba","beasiswa"],BU=["IT","luar negeri","S2","nasional","mahasiswa","pemerintah","desain","programming","Jepang","LPDP","MEXT","debat","bahasa Inggris","menulis","esai","SMA","Singapura","robotik","Australia"];function FU(){const{user:t,isAudioPlaying:e,togglePlay:n}=ii(),[s]=j.useState(UU),[a,l]=j.useState(""),[u,h]=j.useState(""),[f,p]=j.useState(""),[y,_]=j.useState("rekomendasi"),[T,w]=j.useState(new Set),[C,P]=j.useState(new Set),[D,O]=j.useState(!1),B=j.useRef(null);j.useEffect(()=>{const R=M=>{B.current&&!B.current.contains(M.target)&&O(!1)};return document.addEventListener("mousedown",R),()=>document.removeEventListener("mousedown",R)},[]);const z=R=>{const M=document.getElementById(`heart-${R}`);M&&(M.classList.remove("animate-ping"),M.offsetWidth,M.classList.add("animate-ping"),setTimeout(()=>M.classList.remove("animate-ping"),1e3))},J=R=>{w(M=>{const L=new Set(M);return L.has(R)?L.delete(R):L.add(R),L})},Z=R=>{P(M=>{const L=new Set(M);return L.has(R)?L.delete(R):L.add(R),L})},te=(R,M)=>{if(!M.trim()||!t)return;const L=document.getElementById(`comment-input-${R}`);L&&(L.value="")},I=R=>{const M=s.find(le=>le.id===R);if(!M)return;const L=`${window.location.origin}/forum#${R}`,k=`Lihat di Angkasa: ${M.title||"Postingan menarik"}
"${M.content.substring(0,80)}..."`;window.open(`https://wa.me/?text=${encodeURIComponent(k+`

`+L)}`,"_blank")},A=R=>{const M=`${window.location.origin}/forum#${R}`;navigator.clipboard.writeText(M).catch(console.error)},V=j.useMemo(()=>{let R=[...s];if(y==="following"&&(R=s.filter((M,L)=>L%2===0)),a.trim()){const M=a.toLowerCase();R=R.filter(L=>L.title?.toLowerCase().includes(M)||L.content.toLowerCase().includes(M)||L.author.toLowerCase().includes(M)||L.tags.some(k=>k.toLowerCase().includes(M)))}return u&&(R=R.filter(M=>M.type===u)),f&&(R=R.filter(M=>M.tags.map(L=>L.toLowerCase()).includes(f.toLowerCase()))),R},[s,a,u,f,y]);return t?v.jsxs("div",{className:"min-h-screen pt-20 pb-20",children:[v.jsx(Ca,{}),v.jsx("div",{className:"fixed bottom-6 left-6 z-20",children:v.jsxs("button",{onClick:n,className:"group flex items-center gap-2 px-4 py-2.5 bg-slate-800/70 hover:bg-slate-700/80 backdrop-blur-md border border-slate-600/40 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 text-slate-300 hover:text-white",title:e?"Jeda musik latar":"Putar musik latar","aria-label":"Kontrol musik latar",children:[e?v.jsx(yC,{className:"w-5 h-5 transition-transform group-hover:scale-110"}):v.jsx(vC,{className:"w-5 h-5 transition-transform group-hover:scale-110 ml-0.5"}),v.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:e?"Jeda":"Putar"})]})}),v.jsxs("main",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[v.jsx("section",{className:"mb-6",ref:B,children:v.jsxs("div",{className:"relative",children:[v.jsxs("button",{onClick:()=>O(!D),className:"w-full flex items-center justify-between px-4 py-3 bg-slate-800/40 hover:bg-slate-800/60 border border-slate-600/40 rounded-xl text-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-500/30 backdrop-blur-sm transition-colors",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx(uc,{className:"w-5 h-5 text-slate-400"}),v.jsx("span",{children:D?"Cari lomba, beasiswa...":" Cari di Forum"})]}),v.jsx(U8,{className:"w-4 h-4 text-slate-500"})]}),D&&v.jsx("div",{className:"absolute z-10 mt-2 w-full bg-slate-800/70 backdrop-blur-md border border-slate-600/40 rounded-xl shadow-xl overflow-hidden",children:v.jsxs("div",{className:"p-4 space-y-4",children:[v.jsxs("div",{className:"relative",children:[v.jsx(uc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),v.jsx("input",{type:"text",value:a,onChange:R=>l(R.target.value),placeholder:"Kata kunci...",className:"w-full pl-10 pr-4 py-2.5 bg-slate-900/40 border border-slate-700/50 rounded-lg text-slate-200 placeholder-slate-500 focus:outline-none focus:ring-1 focus:ring-slate-500"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs text-slate-500 mb-1.5",children:"Tipe"}),v.jsxs("div",{className:"relative",children:[v.jsxs("select",{value:u,onChange:R=>h(R.target.value),className:"w-full py-2.5 pl-3 pr-8 bg-slate-900/40 border border-slate-700/50 rounded-lg text-slate-200 appearance-none focus:outline-none focus:ring-1 focus:ring-slate-500",children:[v.jsx("option",{value:"",className:"bg-slate-800 text-slate-400",children:"Semua"}),zU.map(R=>v.jsx("option",{value:R,className:"bg-slate-800 text-slate-200",children:R==="lomba"?" Lomba":" Beasiswa"},R))]}),v.jsx(jE,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500 pointer-events-none"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs text-slate-500 mb-1.5",children:"Jenis"}),v.jsxs("div",{className:"relative",children:[v.jsxs("select",{value:f,onChange:R=>p(R.target.value),className:"w-full py-2.5 pl-3 pr-8 bg-slate-900/40 border border-slate-700/50 rounded-lg text-slate-200 appearance-none focus:outline-none focus:ring-1 focus:ring-slate-500",children:[v.jsx("option",{value:"",className:"bg-slate-800 text-slate-400",children:"Semua Jenis"}),BU.map(R=>v.jsx("option",{value:R,className:"bg-slate-800 text-slate-200",children:R},R))]}),v.jsx(jE,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500 pointer-events-none"})]})]}),v.jsxs("div",{className:"flex gap-2 pt-2",children:[v.jsx("button",{onClick:()=>{l(""),h(""),p("")},className:"flex-1 px-3 py-2 text-sm bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-lg transition-colors",children:"Reset"}),v.jsx("button",{onClick:()=>O(!1),className:"flex-1 px-3 py-2 text-sm bg-slate-600 hover:bg-slate-500 text-white rounded-lg transition-colors",children:"Terapkan"})]})]})})]})}),v.jsxs("div",{className:"relative my-6",children:[v.jsx("div",{className:"absolute inset-0 flex items-center",children:v.jsx("div",{className:"w-full border-t border-slate-600/30"})}),v.jsx("div",{className:"relative flex justify-center",children:v.jsx("span",{className:"px-4 py-1 bg-slate-900/50 backdrop-blur-sm rounded-full border border-slate-600/30 text-slate-400 text-xs",children:" Temukan Peluangmu"})})]}),v.jsx("section",{className:"mb-8",children:v.jsx("div",{className:"flex flex-wrap gap-3 justify-center",children:[{key:"rekomendasi",label:"Rekomendasi",icon:""},{key:"following",label:"Diikuti",icon:""}].map(R=>v.jsxs("button",{onClick:()=>_(R.key),className:`px-5 py-2.5 text-sm font-medium rounded-full transition-all flex items-center gap-1.5 ${y===R.key?"bg-slate-600 text-white shadow-md":"bg-slate-800/40 text-slate-300 hover:bg-slate-700/50 border border-slate-600/30"}`,children:[v.jsx("span",{children:R.icon}),R.label]},R.key))})}),v.jsx("section",{children:V.length===0?v.jsx("div",{className:"text-center py-12 bg-slate-800/30 rounded-xl border border-slate-600/30",children:v.jsx("p",{className:"text-slate-400",children:"Tidak ada postingan yang sesuai."})}):v.jsx("div",{className:"space-y-8",children:V.map(R=>v.jsxs("article",{className:"bg-slate-800/30 backdrop-blur-md rounded-xl border border-slate-600/30 overflow-hidden shadow-lg hover:shadow-xl transition-shadow",children:[v.jsx("div",{className:"p-5 border-b border-slate-600/30",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-700/40 flex items-center justify-center flex-shrink-0",children:v.jsx("span",{className:"font-medium text-slate-300",children:R.author.charAt(0).toUpperCase()})}),v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("p",{className:"font-semibold text-slate-200",children:R.author}),R.type==="lomba"?v.jsxs("span",{className:"px-2 py-0.5 bg-amber-500/20 text-amber-300 text-xs rounded-full flex items-center gap-1",children:[v.jsx(nl,{className:"w-3 h-3"})," Lomba"]}):v.jsxs("span",{className:"px-2 py-0.5 bg-blue-500/20 text-blue-300 text-xs rounded-full flex items-center gap-1",children:[v.jsx(B8,{className:"w-3 h-3"})," Beasiswa"]})]}),v.jsx("p",{className:"text-sm text-slate-500",children:R.timestamp})]})]})}),v.jsxs("div",{className:"p-5",children:[R.title&&v.jsx("h3",{className:"font-bold text-slate-200 mb-2",children:R.title}),v.jsx("p",{className:"text-slate-300 mb-4",children:R.content}),R.image&&v.jsx("img",{src:R.image,alt:R.title||"Post",className:"w-full rounded-lg object-cover max-h-72 mb-4"}),R.tags&&R.tags.length>0&&v.jsx("div",{className:"flex flex-wrap gap-1.5 mb-5",children:R.tags.map((M,L)=>v.jsxs("span",{className:"px-2.5 py-1 bg-slate-700/40 text-slate-300 text-xs rounded-full",children:["#",M]},L))}),v.jsxs("div",{className:"flex items-center gap-5 pt-3 border-t border-slate-600/30 mb-5 relative",children:[v.jsxs("button",{onClick:()=>z(R.id),className:"flex items-center gap-2 text-slate-400 hover:text-red-400 transition-colors group relative","aria-label":"Suka",children:[v.jsx("div",{id:`heart-${R.id}`,className:"relative",children:v.jsx(q8,{className:"w-5 h-5"})}),v.jsx("span",{className:"text-sm",children:R.likes})]}),v.jsxs("button",{onClick:()=>J(R.id),className:"flex items-center gap-2 text-slate-400 hover:text-blue-400 transition-colors","aria-label":"Komentar",children:[v.jsx(lU,{className:"w-5 h-5"}),v.jsx("span",{className:"text-sm",children:R.comments.length})]}),v.jsxs("button",{onClick:()=>Z(R.id),className:"flex items-center gap-2 text-slate-400 hover:text-green-400 transition-colors","aria-label":"Bagikan",children:[v.jsx(EU,{className:"w-5 h-5"}),v.jsx("span",{className:"text-sm",children:"Bagikan"})]}),C.has(R.id)&&v.jsx("div",{className:"absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 z-20",children:v.jsxs("div",{className:"bg-slate-800/90 backdrop-blur-md rounded-lg shadow-xl border border-slate-600/40 p-3 w-60",children:[v.jsxs("p",{className:"text-slate-400 text-xs font-medium mb-2 flex items-center gap-1",children:[v.jsx(Y8,{className:"w-3 h-3 text-slate-500"})," Salin Tautan"]}),v.jsxs("button",{onClick:()=>A(R.id),className:"w-full flex items-center gap-2 px-3 py-2 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-md text-left text-xs mb-2",children:[v.jsx(V8,{className:"w-3 h-3 text-slate-400"}),"Salin URL"]}),v.jsxs("p",{className:"text-slate-400 text-xs font-medium mb-2 flex items-center gap-1",children:[v.jsx(gC,{className:"w-3 h-3 text-slate-500"})," Bagikan ke"]}),v.jsxs("button",{onClick:()=>I(R.id),className:"w-full flex items-center gap-2 px-3 py-2 bg-green-700/80 hover:bg-green-600 text-white rounded-md text-left text-xs",children:[v.jsx("svg",{className:"w-3.5 h-3.5",viewBox:"0 0 24 24",fill:"currentColor",children:v.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.967-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})}),"WhatsApp"]})]})})]}),T.has(R.id)&&v.jsxs("div",{className:"pt-4 border-t border-slate-600/30 mt-4",children:[v.jsxs("div",{className:"flex gap-2 mb-4",children:[v.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-700/40 flex items-center justify-center flex-shrink-0",children:v.jsx("span",{className:"font-medium text-slate-300 text-sm",children:t.name.charAt(0).toUpperCase()})}),v.jsx("input",{id:`comment-input-${R.id}`,type:"text",placeholder:"Tulis komentar...",onKeyDown:M=>{if(M.key==="Enter"){const L=M.target;te(R.id,L.value)}},className:"flex-1 px-3 py-2 bg-slate-900/40 border border-slate-700/50 rounded-lg text-slate-200 placeholder-slate-500 focus:outline-none focus:ring-1 focus:ring-slate-500"}),v.jsx("button",{onClick:()=>{const M=document.getElementById(`comment-input-${R.id}`);M&&te(R.id,M.value)},className:"p-2 bg-slate-600 text-white rounded-lg hover:bg-slate-500 transition-colors",title:"Kirim",children:v.jsx(bU,{className:"w-4 h-4"})})]}),v.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto pr-1",children:R.comments.length===0?v.jsx("p",{className:"text-slate-500 text-sm italic",children:"Belum ada komentar."}):R.comments.map(M=>v.jsxs("div",{className:"flex gap-3",children:[v.jsx("div",{className:"w-7 h-7 rounded-full bg-slate-700/40 flex items-center justify-center flex-shrink-0 mt-0.5",children:v.jsx("span",{className:"font-medium text-slate-300 text-xs",children:M.author.charAt(0).toUpperCase()})}),v.jsxs("div",{className:"flex-1 bg-slate-800/20 rounded-lg p-3",children:[v.jsx("p",{className:"font-medium text-slate-200 text-sm",children:M.author}),v.jsx("p",{className:"text-slate-300 text-sm mt-1",children:M.text}),v.jsx("p",{className:"text-slate-500 text-xs mt-1",children:M.timestamp})]})]},M.id))})]})]})]},R.id))})})]})]}):null}const gg=[{id:"1",subject:"Verifikasi Sertifikat - Juara 1 Lomba Desain Grafis",senderName:"Panitia Lomba Desain",preview:"Selamat! Sertifikat Anda sebagai Juara 1 telah terverifikasi...",time:"10:30",read:!1,starred:!0,attachments:1},{id:"2",subject:"Sertifikat Peserta Hackathon Nasional 2024",senderName:"Komite Hackathon",preview:"Sertifikat partisipasi Anda telah diverifikasi dan siap diunduh...",time:"Kemarin",read:!0,starred:!1,attachments:1},{id:"3",subject:"Verifikasi Sertifikat Juara 2 - Lomba KTI 2024",senderName:"Panitia KTI",preview:"Selamat! Sertifikat Juara 2 Anda telah terverifikasi...",time:"2 hari lalu",read:!0,starred:!1,attachments:1},{id:"4",subject:"Sertifikat Finalis - Kompetisi Programming 2024",senderName:"Kompetisi Programming",preview:"Sertifikat Anda sebagai Finalis telah berhasil diverifikasi...",time:"3 hari lalu",read:!1,starred:!1,attachments:1}],qU=[{id:"cert-001",title:"Sertifikat Juara 1 - Lomba Robotik ITB 2024",issuer:"Institut Teknologi Bandung",date:"15 Oktober 2024",badge:"Juara 1",icon:"trophy",file:"Sertifikat_Juara1_Robotik_ITB_2024.pdf",type:"accepted"},{id:"cert-002",title:"Sertifikat Peserta - Webinar AI Nasional",issuer:"Kemenkominfo",date:"5 November 2024",badge:"Peserta",icon:"medal",file:"Sertifikat_Peserta_AI_Webinar.pdf",type:"accepted"}];function HU(){const{user:t}=ii(),e=ts(),[n,s]=j.useState("inbox"),[a,l]=j.useState(""),[u]=j.useState(qU),h=gg.filter(f=>{const p=n==="inbox"||n==="starred"&&f.starred,y=f.subject.toLowerCase().includes(a.toLowerCase())||f.senderName.toLowerCase().includes(a.toLowerCase())||f.preview.toLowerCase().includes(a.toLowerCase());return p&&y});return j.useEffect(()=>{l("")},[n]),t?v.jsxs("div",{className:"min-h-screen pb-20",children:[v.jsx(Ca,{}),v.jsx("main",{className:"container mx-auto px-4 sm:px-6 pt-24",children:v.jsxs("div",{className:"max-w-6xl mx-auto",children:[v.jsx("div",{className:"flex flex-col items-center justify-center mb-8",children:v.jsx("div",{className:" rounded-xl border border-4 border-slate-600/30 px-8 py-5 shadow-lg",children:v.jsxs("div",{className:"text-center",children:[v.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[v.jsx(ld,{className:"w-6 h-6 text-slate-300"}),v.jsx("h1",{className:"text-2xl font-bold text-slate-200",children:"Email"})]}),v.jsx("p",{className:"text-slate-400",children:"Jangan lupa untuk mengecek pesan emailmu!"})]})})}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[v.jsx("div",{className:"lg:col-span-1",children:v.jsxs("div",{className:"bg-slate-800/30 backdrop-blur-md rounded-xl border border-slate-600/30 overflow-hidden",children:[v.jsx("div",{className:"p-4 border-b border-slate-600/30",children:v.jsx("h2",{className:"font-semibold text-slate-200",children:"Kategori"})}),v.jsx("nav",{className:"p-2",children:[{id:"inbox",label:"Semua Verifikasi",icon:pC,count:gg.length},{id:"starred",label:"Ditandai",icon:vf,count:gg.filter(f=>f.starred).length},{id:"accepted",label:"Sertifikat Diterima",icon:Ss,count:u.length}].map(f=>{const p=f.icon;return v.jsxs("button",{onClick:()=>s(f.id),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-left transition-colors ${n===f.id?"bg-slate-700/50 text-white":"text-slate-300 hover:bg-slate-700/30"}`,children:[v.jsx(p,{className:"w-4 h-4"}),v.jsx("span",{children:f.label}),f.count>0&&v.jsx("span",{className:"ml-auto bg-slate-600 text-slate-200 text-xs px-1.5 py-0.5 rounded-full",children:f.count})]},f.id)})})]})}),v.jsxs("div",{className:"lg:col-span-3",children:[n!=="accepted"&&v.jsxs("div",{className:"mb-4 relative",children:[v.jsx(uc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),v.jsx("input",{type:"text",placeholder:"Cari sertifikat...",value:a,onChange:f=>l(f.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-slate-800/40 border border-slate-700/50 rounded-lg text-slate-200 placeholder-slate-500 focus:outline-none focus:ring-1 focus:ring-slate-500"})]}),n==="accepted"?v.jsx("div",{className:"space-y-4",children:u.length===0?v.jsxs("div",{className:"bg-slate-800/30 backdrop-blur-md rounded-xl border border-slate-600/30 p-12 text-center",children:[v.jsx(Ss,{className:"w-12 h-12 text-slate-500 mx-auto mb-4"}),v.jsx("h3",{className:"text-lg font-medium text-slate-200 mb-2",children:"Belum ada sertifikat yang diterima"}),v.jsx("p",{className:"text-slate-400",children:"Sertifikat yang telah diverifikasi akan muncul di sini setelah Anda mengonfirmasi dari email."})]}):u.map(f=>v.jsx("div",{onClick:()=>e(`/email/accepted/${f.id}`),className:"bg-slate-800/30 backdrop-blur-md rounded-xl border border-slate-600/30 overflow-hidden cursor-pointer hover:border-green-500/50 transition-colors",children:v.jsx("div",{className:"p-5",children:v.jsxs("div",{className:"flex items-start gap-4",children:[v.jsx("div",{className:"p-3 rounded-lg bg-green-500/10",children:f.icon==="trophy"?v.jsx(UE,{className:"w-6 h-6 text-green-400"}):f.icon==="medal"?v.jsx(zE,{className:"w-6 h-6 text-green-400"}):v.jsx(vf,{className:"w-6 h-6 text-green-400"})}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[v.jsxs("span",{className:"px-2 py-0.5 bg-green-500/20 text-green-300 text-xs font-medium rounded",children:[v.jsx(Ss,{className:"w-3 h-3 inline mr-1"}),"Diterima"]}),v.jsxs("span",{className:"px-2 py-0.5 bg-slate-700/50 text-slate-300 text-xs font-medium rounded flex items-center gap-1",children:[f.icon==="trophy"?v.jsx(UE,{className:"w-3 h-3"}):f.icon==="medal"?v.jsx(zE,{className:"w-3 h-3"}):v.jsx(vf,{className:"w-3 h-3"}),f.badge]})]}),v.jsx("h3",{className:"font-bold text-slate-100",children:f.title}),v.jsxs("p",{className:"text-slate-400 text-sm",children:[f.issuer,"  ",f.date]})]})]})})},f.id))}):v.jsx("div",{className:"bg-slate-800/30 backdrop-blur-md rounded-xl border border-slate-600/30 overflow-hidden",children:h.length===0?v.jsxs("div",{className:"p-12 text-center",children:[v.jsx(ld,{className:"w-12 h-12 text-slate-500 mx-auto mb-4"}),v.jsx("p",{className:"text-slate-400",children:"Tidak ada sertifikat yang sesuai."})]}):v.jsx("div",{className:"divide-y divide-slate-700/50",children:h.map(f=>v.jsx("div",{onClick:()=>e(`/email/${f.id}`),className:`p-4 hover:bg-slate-700/30 transition-colors cursor-pointer ${f.read?"":"bg-slate-800/50 border-l-4 border-green-500"}`,children:v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx("div",{className:"mt-1",children:v.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"})}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"font-medium text-slate-200",children:f.senderName}),f.starred&&v.jsx(vf,{className:"w-3.5 h-3.5 text-amber-400 fill-amber-400"}),f.attachments>0&&v.jsx(hU,{className:"w-3.5 h-3.5 text-slate-500"})]}),v.jsx("h3",{className:"font-semibold text-slate-100 truncate",children:f.subject}),v.jsx("p",{className:"text-slate-400 text-sm line-clamp-1 mt-1",children:f.preview})]}),v.jsx("div",{className:"text-right",children:v.jsx("span",{className:`text-xs ${f.read?"text-slate-500":"text-green-400 font-medium"}`,children:f.time})})]})},f.id))})})]})]})]})})]}):null}function UE({className:t}){return v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}function zE({className:t}){return v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}function vf({className:t}){return v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})}const GU=[{id:"1",subject:"Verifikasi Sertifikat - Juara 1 Lomba Desain Grafis",sender:"Panitia Lomba Desain 2024",content:`Kepada Yth. Peserta Lomba Desain Grafis Nasional 2024,

Selamat! Kami dengan bangga mengumumkan bahwa sertifikat Anda sebagai **Juara 1 Lomba Desain Grafis Nasional 2024** telah berhasil diverifikasi oleh tim kami.`,time:"10:30",isVerified:!0,attachment:"Sertifikat_Juara1_DesainGrafis_2024.pdf",badge:"Juara 1",icon:"trophy"}],KU=[{id:"cert-001",title:"Sertifikat Juara 1 - Lomba Robotik ITB 2024",issuer:"Institut Teknologi Bandung",date:"15 Oktober 2024",badge:"Juara 1",icon:"trophy",file:"Sertifikat_Juara1_Robotik_ITB_2024.pdf"}];function BE(){ii();const t=ts(),{id:e}=jN(),n=GU.find(u=>u.id===e),s=KU.find(u=>u.id===e);if(!n&&!s)return v.jsxs("div",{className:"min-h-screen pt-20 pb-20",children:[v.jsx(Ca,{}),v.jsx("div",{className:"container mx-auto px-4 sm:px-6 pt-12 text-center",children:v.jsxs("div",{className:"bg-slate-800/30 backdrop-blur-md rounded-xl border border-slate-600/30 p-12 max-w-md mx-auto",children:[v.jsx("div",{className:"text-slate-500 mb-4",children:""}),v.jsx("h2",{className:"text-xl font-bold text-slate-200 mb-2",children:"Data Tidak Ditemukan"}),v.jsx("button",{onClick:()=>t("/email"),className:"px-4 py-2 bg-slate-600 hover:bg-slate-500 text-white rounded-lg transition-colors mt-4",children:"Kembali ke Email"})]})})]});if(s){const u=s,h=()=>u.icon==="trophy"?v.jsx(nl,{className:"w-3 h-3"}):u.icon==="medal"?v.jsx(lc,{className:"w-3 h-3"}):v.jsx(cc,{className:"w-3 h-3"}),f=()=>{alert(` "${u.title}" berhasil diunggah ke portofolio!`),t("/email")};return v.jsxs("div",{className:"min-h-screen pb-20",children:[v.jsx(Ca,{}),v.jsxs("main",{className:"container mx-auto px-4 sm:px-6 pt-24 max-w-4xl",children:[v.jsxs("button",{onClick:()=>t("/email"),className:"mb-6 flex items-center gap-2 text-slate-400 hover:text-white transition-colors",children:[v.jsx(OE,{className:"w-4 h-4"})," Kembali ke Email"]}),v.jsxs("div",{className:"bg-slate-800/30 backdrop-blur-md rounded-xl border border-slate-600/30 overflow-hidden",children:[v.jsx("div",{className:"p-6 border-b border-slate-600/30 bg-slate-900/30",children:v.jsx("div",{className:"flex items-start justify-between gap-4",children:v.jsxs("div",{className:"flex-1",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[v.jsxs("span",{className:"px-3 py-1 bg-green-500/20 text-green-400 text-xs font-medium rounded-full flex items-center gap-1",children:[v.jsx(Ss,{className:"w-3 h-3"})," Sertifikat Diterima"]}),v.jsxs("span",{className:"px-3 py-1 bg-slate-700/50 text-slate-300 text-xs font-medium rounded-full flex items-center gap-1",children:[h()," ",u.badge]})]}),v.jsx("h1",{className:"text-xl md:text-2xl font-bold text-slate-100 mb-2",children:u.title}),v.jsxs("p",{className:"text-slate-400",children:["Diterbitkan oleh: ",u.issuer,"  ",u.date]})]})})}),v.jsxs("div",{className:"p-6 space-y-6",children:[v.jsxs("div",{className:"text-slate-300",children:[v.jsx("p",{className:"mb-4",children:"Sertifikat ini telah diverifikasi oleh sistem Angkasa dan siap untuk diunggah ke portofolio profil Anda."}),v.jsx("p",{children:"Anda dapat menampilkannya di halaman profil agar dapat dilihat oleh perekrut, institusi, atau komunitas."})]}),v.jsx("div",{className:"bg-slate-900/40 border border-slate-700/50 rounded-lg p-4",children:v.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[v.jsx("div",{className:"p-3 rounded-lg bg-blue-500/10",children:v.jsx(od,{className:"w-8 h-8 text-blue-400"})}),v.jsxs("div",{className:"flex-1",children:[v.jsx("h3",{className:"font-semibold text-slate-200",children:u.file}),v.jsx("p",{className:"text-sm text-slate-500",children:"PDF  2.4 MB"})]})]})}),v.jsx("div",{className:"pt-4",children:v.jsxs("button",{onClick:f,className:"w-full px-4 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg flex items-center justify-center gap-2 font-medium",children:[v.jsx(MU,{className:"w-4 h-4"})," Unggah ke Portofolio"]})})]})]})]})]})}const a=n,l=()=>a.icon==="trophy"?v.jsx(nl,{className:"w-3 h-3"}):a.icon==="medal"?v.jsx(lc,{className:"w-3 h-3"}):v.jsx(cc,{className:"w-3 h-3"});return v.jsxs("div",{className:"min-h-screen pb-20",children:[v.jsx(Ca,{}),v.jsxs("main",{className:"container mx-auto px-4 sm:px-6 pt-24 max-w-4xl",children:[v.jsxs("button",{onClick:()=>t("/email"),className:"mb-6 flex items-center gap-2 text-slate-400 hover:text-white transition-colors",children:[v.jsx(OE,{className:"w-4 h-4"})," Kembali ke Email"]}),v.jsxs("div",{className:"bg-slate-800/30 backdrop-blur-md rounded-xl border border-slate-600/30 overflow-hidden",children:[v.jsx("div",{className:"p-6 border-b border-slate-600/30 bg-slate-900/30",children:v.jsx("div",{className:"flex items-start justify-between gap-4",children:v.jsxs("div",{className:"flex-1",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[v.jsxs("span",{className:"px-3 py-1 bg-green-500/20 text-green-400 text-xs font-medium rounded-full flex items-center gap-1",children:[v.jsx(Ss,{className:"w-3 h-3"})," Terverifikasi"]}),v.jsxs("span",{className:"px-3 py-1 bg-slate-700/50 text-slate-300 text-xs font-medium rounded-full flex items-center gap-1",children:[l()," ",a.badge]})]}),v.jsx("h1",{className:"text-xl md:text-2xl font-bold text-slate-100 mb-2",children:a.subject}),v.jsxs("p",{className:"text-slate-400",children:["Dari: ",a.sender,"  ",a.time]})]})})}),v.jsxs("div",{className:"p-6 space-y-6",children:[v.jsx("div",{className:"text-slate-300 whitespace-pre-line leading-relaxed",children:a.content}),v.jsx("div",{className:"bg-slate-900/40 border border-slate-700/50 rounded-lg p-4",children:v.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[v.jsx("div",{className:"p-3 rounded-lg bg-blue-500/10",children:v.jsx(od,{className:"w-8 h-8 text-blue-400"})}),v.jsxs("div",{className:"flex-1",children:[v.jsx("h3",{className:"font-semibold text-slate-200",children:a.attachment}),v.jsx("p",{className:"text-sm text-slate-500",children:"PDF  2.4 MB"})]})]})}),v.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-lg bg-green-500/10 border border-green-500/30",children:[v.jsx(Ss,{className:"w-5 h-5 text-green-400 mt-0.5 flex-shrink-0"}),v.jsxs("div",{children:[v.jsx("p",{className:"font-medium text-slate-200",children:"Status Verifikasi: Terverifikasi"}),v.jsxs("p",{className:"text-sm text-slate-400",children:["Diverifikasi pada 18 November 2025, ",a.time," WIB"]})]})]}),v.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[v.jsxs("button",{onClick:()=>alert(" Sertifikat diunduh!"),className:"flex-1 px-4 py-2.5 bg-slate-600 hover:bg-slate-500 text-white rounded-lg flex items-center justify-center gap-2",children:[v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Unduh Sertifikat"]}),v.jsxs("button",{onClick:()=>{alert(" Ditambahkan ke portofolio!"),t("/email")},className:"flex-1 px-4 py-2.5 bg-green-600 hover:bg-green-700 text-white rounded-lg flex items-center justify-center gap-2",children:[v.jsx(Ss,{className:"w-4 h-4"})," Tambah ke Portofolio"]})]})]})]})]})]})}const Au=[{id:1,type:"lomba",title:"Lomba Desain Grafis Nasional 2024",description:"Pendaftaran telah dibuka! Deadline: 30 November 2024. Total hadiah 50 juta rupiah.",timestamp:"1 jam yang lalu",isRead:!1,badge:"Juara 1",iconType:"trophy"},{id:2,type:"beasiswa",title:"Beasiswa S2 Luar Negeri",description:"Program beasiswa penuh ke Jepang untuk studi S2. Dibuka hingga 15 Desember 2024.",timestamp:"3 jam yang lalu",isRead:!1,badge:"Penerima",iconType:"medal"},{id:3,type:"lomba",title:"Update: Hackathon Nasional 2024",description:"Timeline diperpanjang! Waktu submission diperpanjang hingga 5 Desember 2024.",timestamp:"5 jam yang lalu",isRead:!0,badge:"Finalis",iconType:"star"},{id:4,type:"beasiswa",title:"Beasiswa Unggulan Kemendikbud",description:"Pendaftaran batch 2 telah dibuka. Daftar sekarang untuk kesempatan mendapat beasiswa dalam negeri.",timestamp:"1 hari yang lalu",isRead:!0,badge:"Lolos Seleksi",iconType:"medal"},{id:5,type:"lomba",title:"Lomba Karya Tulis Ilmiah",description:"Kompetisi KTI tingkat universitas. Tema: Inovasi Teknologi untuk Indonesia Maju.",timestamp:"2 hari yang lalu",isRead:!0,badge:"Peserta",iconType:"star"}],$U=()=>{const{user:t}=ii(),[e,n]=j.useState("all"),[s,a]=j.useState(""),l=Au.filter(u=>{const h=e==="all"||e==="unread"&&!u.isRead||e==="lomba"&&u.type==="lomba"||e==="beasiswa"&&u.type==="beasiswa",f=u.title.toLowerCase().includes(s.toLowerCase())||u.description.toLowerCase().includes(s.toLowerCase())||u.badge&&u.badge.toLowerCase().includes(s.toLowerCase());return h&&f});return j.useEffect(()=>{a("")},[e]),t?v.jsxs("div",{className:"min-h-screen pb-20",children:[v.jsx(Ca,{}),v.jsx("main",{className:"container mx-auto px-4 sm:px-6 pt-24",children:v.jsxs("div",{className:"max-w-6xl mx-auto",children:[v.jsx("div",{className:"flex flex-col items-center justify-center mb-8",children:v.jsx("div",{className:"rounded-xl border border-4 border-slate-600/30 px-8 py-5 shadow-lg",children:v.jsxs("div",{className:"text-center",children:[v.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[v.jsx(ku,{className:"w-6 h-6 text-slate-300"}),v.jsx("h1",{className:"text-2xl font-bold text-slate-200",children:"Notifikasi"})]}),v.jsx("p",{className:"text-slate-400",children:"Jangan lewatkan kesempatan emasmu!"})]})})}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[v.jsx("div",{className:"lg:col-span-1",children:v.jsxs("div",{className:"bg-slate-800/30 backdrop-blur-md rounded-xl border border-slate-600/30 overflow-hidden",children:[v.jsx("div",{className:"p-4 border-b border-slate-600/30",children:v.jsx("h2",{className:"font-semibold text-slate-200",children:"Filter"})}),v.jsx("nav",{className:"p-2",children:[{id:"all",label:"Semua",icon:pC,count:Au.length},{id:"unread",label:"Belum Dibaca",icon:ku,count:Au.filter(u=>!u.isRead).length},{id:"lomba",label:"Lomba",icon:nl,count:Au.filter(u=>u.type==="lomba").length},{id:"beasiswa",label:"Beasiswa",icon:lc,count:Au.filter(u=>u.type==="beasiswa").length}].map(u=>{const h=u.icon;return v.jsxs("button",{onClick:()=>n(u.id),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-left transition-colors ${e===u.id?"bg-slate-700/50 text-white":"text-slate-300 hover:bg-slate-700/30"}`,children:[v.jsx(h,{className:"w-4 h-4"}),v.jsx("span",{children:u.label}),u.count>0&&v.jsx("span",{className:"ml-auto bg-slate-600 text-slate-200 text-xs px-1.5 py-0.5 rounded-full",children:u.count})]},u.id)})})]})}),v.jsxs("div",{className:"lg:col-span-3",children:[v.jsxs("div",{className:"mb-4 relative",children:[v.jsx(uc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),v.jsx("input",{type:"text",placeholder:"Cari notifikasi...",value:s,onChange:u=>a(u.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-slate-800/40 border border-slate-700/50 rounded-lg text-slate-200 placeholder-slate-500 focus:outline-none focus:ring-1 focus:ring-slate-500"})]}),v.jsx("div",{className:"bg-slate-800/30 backdrop-blur-md rounded-xl border border-slate-600/30 overflow-hidden",children:l.length===0?v.jsxs("div",{className:"p-12 text-center",children:[v.jsx(ku,{className:"w-12 h-12 text-slate-500 mx-auto mb-4"}),v.jsx("p",{className:"text-slate-400",children:"Tidak ada notifikasi yang sesuai."})]}):v.jsx("div",{className:"divide-y divide-slate-700/50",children:l.map(u=>{let h=ku;return u.iconType==="trophy"?h=nl:u.iconType==="medal"?h=lc:u.iconType==="star"&&(h=cc),v.jsx("div",{onClick:()=>{},className:`p-4 hover:bg-slate-700/30 transition-colors cursor-pointer ${u.isRead?"":"bg-slate-800/50 border-l-4 border-green-500"}`,children:v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx("div",{className:"p-3 rounded-lg bg-slate-700/20",children:v.jsx(h,{className:"w-5 h-5 text-slate-300"})}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.badge&&v.jsxs("span",{className:`px-2 py-0.5 text-xs font-medium rounded ${u.isRead?"bg-slate-700/50 text-slate-300":"bg-green-500/20 text-green-300"} flex items-center gap-1`,children:[u.isRead?v.jsx(Ss,{className:"w-3 h-3"}):v.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),u.badge]}),v.jsx("span",{className:"text-xs text-slate-500",children:u.type==="lomba"?" Lomba":" Beasiswa"})]}),v.jsx("h3",{className:"font-semibold text-slate-100",children:u.title}),v.jsx("p",{className:"text-slate-400 text-sm line-clamp-2 mt-1",children:u.description})]}),v.jsx("div",{className:"text-right flex flex-col items-end",children:v.jsx("span",{className:`text-xs whitespace-nowrap ${u.isRead?"text-slate-500":"text-green-400 font-medium"}`,children:u.timestamp})})]})},u.id)})})})]})]})]})})]}):null};function YU(){const[t,e]=j.useState(""),[n,s]=j.useState(""),[a,l]=j.useState(""),[u,h]=j.useState(null),[f,p]=j.useState(!1),y=async _=>{if(_.preventDefault(),h(null),!t){h("Email wajib diisi.");return}if(!n){h("Password wajib diisi.");return}if(n.length<6){h("Password minimal 6 karakter.");return}if(n!==a){h("Password dan konfirmasi tidak cocok.");return}try{await z2(gi,t,n),p(!0)}catch(T){console.error("Firebase error:",T),T.code==="auth/email-already-in-use"?h("Email ini sudah terdaftar."):T.code==="auth/invalid-email"?h("Format email tidak valid."):T.code==="auth/weak-password"?h("Password terlalu lemah (minimal 6 karakter)."):T.code==="auth/operation-not-allowed"?h("Pendaftaran dinonaktifkan. Hubungi admin."):h("Gagal mendaftar. Coba lagi.")}};return f?v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:v.jsxs("div",{className:"text-center",children:[v.jsx("h2",{className:"text-2xl font-bold text-green-600",children:"Berhasil!"}),v.jsx("p",{children:"Akun Anda telah dibuat. Silakan login."})]})}):v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:v.jsxs("div",{className:"w-full max-w-md bg-white p-6 rounded-lg shadow-md",children:[v.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:"Daftar Akun"}),u&&v.jsx("div",{className:"mb-4 text-red-500 text-sm",children:u}),v.jsxs("form",{onSubmit:y,children:[v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),v.jsx("input",{type:"email",id:"email",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",value:t,onChange:_=>e(_.target.value),required:!0})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),v.jsx("input",{type:"password",id:"password",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",value:n,onChange:_=>s(_.target.value),required:!0})]}),v.jsxs("div",{className:"mb-6",children:[v.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Konfirmasi Password"}),v.jsx("input",{type:"password",id:"confirmPassword",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",value:a,onChange:_=>l(_.target.value),required:!0})]}),v.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Daftar"})]})]})})}const QU=[{id:"1",title:"Sertifikat Juara 1 - Lomba Robotik ITB 2024",competition_name:"Lomba Robotik ITB 2024",verified:!0},{id:"2",title:"Sertifikat Peserta - Webinar AI Nasional",competition_name:"Webinar AI Nasional",verified:!0}],XU=[{id:"ach-001",name:"Pendatang Baru",description:"Bergabung dengan Angkasa",icon:"Star",requirement_count:1,requirement_type:"join",is_unlocked:!0},{id:"ach-002",name:"Pemenang Pertama",description:"Menangkan 1 lomba tingkat nasional",icon:"Trophy",requirement_count:1,requirement_type:"lomba",is_unlocked:!0},{id:"ach-003",name:"Pencari Beasiswa",description:"Terima 3 beasiswa",icon:"Award",requirement_count:3,requirement_type:"beasiswa",is_unlocked:!1},{id:"ach-004",name:"Kontributor Aktif",description:"Buat 5 posting di forum",icon:"Medal",requirement_count:5,requirement_type:"forum",is_unlocked:!1}];function WU(){const{user:t,updateProfile:e,logout:n}=ii(),s=ts(),[a,l]=j.useState(""),[u,h]=j.useState(""),[f,p]=j.useState(""),[y,_]=j.useState(!1),[T]=j.useState(QU),[w]=j.useState(XU);j.useEffect(()=>{if(!t){s("/login");return}l(t.name||""),h(t.email||""),p(t.bio||"")},[t,s]);const C=async()=>{_(!0);try{await e({name:a,email:u,bio:f}),alert(" Profil berhasil diperbarui!")}catch(O){console.error("Failed to save profile:",O),alert(" Gagal memperbarui profil: "+(O instanceof Error?O.message:"Unknown error"))}finally{_(!1)}},P=async()=>{try{await n(),s("/login")}catch(O){console.error("Logout failed:",O)}},D=O=>{switch(O){case"Trophy":return v.jsx(nl,{className:"w-6 h-6"});case"Award":return v.jsx(S8,{className:"w-6 h-6"});case"Star":return v.jsx(cc,{className:"w-6 h-6"});case"Medal":return v.jsx(lc,{className:"w-6 h-6"});default:return v.jsx(cc,{className:"w-6 h-6"})}};return t?v.jsxs("div",{className:"min-h-screen pb-20",children:[v.jsx(Ca,{}),v.jsxs("main",{className:"container mx-auto px-4 sm:px-6 pt-24 max-w-4xl",children:[v.jsx("div",{className:"flex flex-col items-center justify-center mb-10",children:v.jsx("div",{className:"rounded-xl border-2 border-slate-600/30 px-6 py-4 shadow-lg",children:v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(LE,{className:"w-5 h-5 text-slate-300"}),v.jsx("h1",{className:"text-2xl font-bold text-slate-200",children:"Profil"})]})})}),v.jsxs("div",{className:"bg-slate-800/30 backdrop-blur-md rounded-xl border border-slate-600/30 overflow-hidden",children:[v.jsx("div",{className:"p-6 border-b border-slate-600/30",children:v.jsxs("div",{className:"flex flex-col items-center gap-6",children:[v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"w-32 h-32 rounded-full bg-slate-700/40 flex items-center justify-center border-4 border-slate-600/50",children:v.jsx("span",{className:"text-4xl font-bold text-slate-200",children:t.name.charAt(0).toUpperCase()})}),v.jsx("button",{className:"absolute bottom-2 right-2 p-2 bg-slate-600 hover:bg-slate-500 rounded-full text-white",children:v.jsx(R8,{className:"w-5 h-5"})})]}),v.jsxs("div",{className:"w-full max-w-md space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Nama Lengkap"}),v.jsx("input",{type:"text",value:a,onChange:O=>l(O.target.value),className:"w-full px-4 py-2.5 bg-slate-900/40 border border-slate-700/50 rounded-lg text-slate-200 focus:outline-none focus:ring-1 focus:ring-slate-500"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Email"}),v.jsx("input",{type:"email",value:u,onChange:O=>h(O.target.value),className:"w-full px-4 py-2.5 bg-slate-900/40 border border-slate-700/50 rounded-lg text-slate-200 focus:outline-none focus:ring-1 focus:ring-slate-500"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Bio"}),v.jsx("input",{type:"text",value:f,onChange:O=>p(O.target.value),placeholder:"Ceritakan tentang dirimu...",className:"w-full px-4 py-2.5 bg-slate-900/40 border border-slate-700/50 rounded-lg text-slate-200 focus:outline-none focus:ring-1 focus:ring-slate-500"})]}),v.jsx("button",{onClick:C,disabled:y,className:`w-full py-3 font-medium rounded-lg transition-colors ${y?"bg-slate-700 text-slate-400 cursor-not-allowed":"bg-slate-600 hover:bg-slate-500 text-white"}`,children:y?"Menyimpan...":"Simpan Perubahan"})]})]})}),v.jsxs("div",{className:"p-6 border-b border-slate-600/30",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[v.jsx(od,{className:"w-5 h-5 text-slate-300"}),v.jsx("h2",{className:"text-lg font-semibold text-slate-200",children:"Portofolio"})]}),T.length===0?v.jsx("p",{className:"text-slate-400 text-center py-4",children:"Belum ada sertifikat terverifikasi"}):v.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:T.map(O=>v.jsxs("div",{className:"aspect-square rounded-lg bg-slate-700/30 border border-slate-600/40 p-3 flex flex-col items-center justify-center text-center",children:[v.jsx(Ss,{className:"w-6 h-6 text-green-400 mb-2"}),v.jsx("p",{className:"text-xs text-slate-200 font-medium line-clamp-2",children:O.title})]},O.id))})]}),v.jsxs("div",{className:"p-6 border-b border-slate-600/30",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[v.jsx(SU,{className:"w-5 h-5 text-slate-300"}),v.jsx("h2",{className:"text-lg font-semibold text-slate-200",children:"Pencapaian"})]}),v.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:w.map(O=>{const B=D(O.icon);return v.jsxs("div",{className:`p-4 rounded-lg border flex flex-col items-center gap-2 ${O.is_unlocked?"bg-green-500/10 border-green-500/30":"bg-slate-700/20 border-slate-600/40 opacity-70"}`,children:[v.jsxs("div",{className:"relative",children:[!O.is_unlocked&&v.jsx(J8,{className:"absolute inset-0 m-auto w-5 h-5 text-slate-500 z-10"}),v.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${O.is_unlocked?"bg-green-500/20":"bg-slate-600/30"}`,children:B})]}),v.jsx("span",{className:`text-xs font-medium text-center ${O.is_unlocked?"text-slate-200":"text-slate-500"}`,children:O.name})]},O.id)})})]}),v.jsxs("div",{className:"p-2",children:[v.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-3 text-slate-300 hover:text-white hover:bg-slate-700/40 rounded-lg transition-colors",children:[v.jsx(D8,{className:"w-5 h-5"}),v.jsx("span",{className:"font-medium",children:"FAQs"})]}),v.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-3 text-slate-300 hover:text-white hover:bg-slate-700/40 rounded-lg transition-colors",children:[v.jsx(od,{className:"w-5 h-5"}),v.jsx("span",{className:"font-medium",children:"Bantuan"})]}),v.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-3 text-slate-300 hover:text-white hover:bg-slate-700/40 rounded-lg transition-colors",children:[v.jsx(LE,{className:"w-5 h-5"}),v.jsx("span",{className:"font-medium",children:"Pengaturan"})]}),v.jsxs("button",{onClick:P,className:"w-full flex items-center gap-3 px-4 py-3 text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-lg transition-colors",children:[v.jsx(eU,{className:"w-5 h-5"}),v.jsx("span",{className:"font-medium",children:"Keluar"})]})]})]})]})]}):null}function JU(){return v.jsx(xI,{children:v.jsxs(iV,{children:[v.jsx("div",{className:"fixed inset-0 z-[-2] bg-black"}),v.jsx("div",{className:"fixed inset-0 z-[-1] pointer-events-none",children:v.jsx(PS,{particleCount:150,particleSpread:8,speed:.08,particleColors:["#ffffff"],moveParticlesOnHover:!0,alphaParticles:!1,particleBaseSize:60,disableRotation:!1,className:"w-full h-full"})}),v.jsx("div",{className:"relative z-10 flex flex-col min-h-screen",children:v.jsx("main",{className:"flex-grow pt-16",children:v.jsxs(JN,{children:[v.jsx(Vn,{path:"/",element:v.jsx(OU,{})}),v.jsxs(Vn,{element:v.jsx(OP,{}),children:[v.jsx(Vn,{path:"/login",element:v.jsx(jU,{})}),v.jsx(Vn,{path:"/daftar",element:v.jsx(YU,{})})]}),v.jsxs(Vn,{element:v.jsx(PP,{}),children:[v.jsx(Vn,{path:"/forum",element:v.jsx(FU,{})}),v.jsx(Vn,{path:"/profile",element:v.jsx(WU,{})}),v.jsx(Vn,{path:"/verify-email",element:v.jsx(VP,{})}),v.jsx(Vn,{path:"/email",element:v.jsx(HU,{})}),v.jsx(Vn,{path:"/email/:id",element:v.jsx(BE,{})}),v.jsx(Vn,{path:"/email/accepted/:id",element:v.jsx(BE,{})}),v.jsx(Vn,{path:"/notifications",element:v.jsx($U,{})})]})]})})})]})})}rN.createRoot(document.getElementById("root")).render(v.jsx(j.StrictMode,{children:v.jsx(JU,{})}));
